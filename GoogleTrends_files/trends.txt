var d,aa,ba=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},h=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:ba(a)}},ca=function(a){if(!(a instanceof Array)){a=h(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},da="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,fa="function"==typeof Object.defineProperties?Object.defineProperty:
function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ha=function(){ha=function(){};da.Symbol||(da.Symbol=ja)},ka=function(a,b){this.$jscomp$symbol$id_=a;fa(this,"description",{configurable:!0,writable:!0,value:b})};ka.prototype.toString=function(){return this.$jscomp$symbol$id_};
var ja=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ka("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}(),ma=function(){ha();var a=da.Symbol.iterator;a||(a=da.Symbol.iterator=da.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&fa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(ba(this))}});ma=function(){}},la=function(a){ma();a={next:a};a[da.Symbol.iterator]=function(){return this};return a},
na=function(a,b){ma();a instanceof String&&(a+="");var c=0,e={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e},m=function(a,b){if(b){var c=da;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in c||(c[f]={});c=c[f]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&fa(c,a,{configurable:!0,writable:!0,value:b})}};
m("Array.prototype.values",function(a){return a?a:function(){return na(this,function(b,c){return c})}},"es8","es3");var oa=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
m("String.prototype.repeat",function(a){return a?a:function(b){var c=oa(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var e="";b;)if(b&1&&(e+=c),b>>>=1)c+=c;return e}},"es6","es3");m("String.prototype.padStart",function(a){return a?a:function(b,c){var e=oa(this,null,"padStart");b-=e.length;c=void 0!==c?String(c):" ";return(0<b&&c?c.repeat(Math.ceil(b/c.length)).substring(0,b):"")+e}},"es8","es3");
m("Array.prototype.keys",function(a){return a?a:function(){return na(this,function(b){return b})}},"es6","es3");var pa=function(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,f=0;f<e;f++){var g=a[f];if(b.call(c,g,f,a))return{i:f,v:g}}return{i:-1,v:void 0}};m("Array.prototype.find",function(a){return a?a:function(b,c){return pa(this,b,c).v}},"es6","es3");m("Array.prototype.findIndex",function(a){return a?a:function(b,c){return pa(this,b,c).i}},"es6","es3");
m("String.prototype.endsWith",function(a){return a?a:function(b,c){var e=oa(this,b,"endsWith");b+="";void 0===c&&(c=e.length);c=Math.max(0,Math.min(c|0,e.length));for(var f=b.length;0<f&&0<c;)if(e[--c]!=b[--f])return!1;return 0>=f}},"es6","es3");m("String.prototype.startsWith",function(a){return a?a:function(b,c){var e=oa(this,b,"startsWith");b+="";var f=e.length,g=b.length;c=Math.max(0,Math.min(c|0,e.length));for(var k=0;k<g&&c<f;)if(e[c++]!=b[k++])return!1;return k>=g}},"es6","es3");
var qa=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
m("WeakMap",function(a){function b(){}function c(n){var p=typeof n;return"object"===p&&null!==n||"function"===p}function e(n){if(!qa(n,g)){var p=new b;fa(n,g,{value:p})}}function f(n){var p=Object[n];p&&(Object[n]=function(q){if(q instanceof b)return q;e(q);return p(q)})}if(function(){if(!a||!Object.seal)return!1;try{var n=Object.seal({}),p=Object.seal({}),q=new a([[n,2],[p,3]]);if(2!=q.get(n)||3!=q.get(p))return!1;q["delete"](n);q.set(p,4);return!q.has(n)&&4==q.get(p)}catch(u){return!1}}())return a;
var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var k=0,l=function(n){this.id_=(k+=Math.random()+1).toString();if(n){n=h(n);for(var p;!(p=n.next()).done;)p=p.value,this.set(p[0],p[1])}};l.prototype.set=function(n,p){if(!c(n))throw Error("Invalid WeakMap key");e(n);if(!qa(n,g))throw Error("WeakMap key fail: "+n);n[g][this.id_]=p;return this};l.prototype.get=function(n){return c(n)&&qa(n,g)?n[g][this.id_]:void 0};l.prototype.has=function(n){return c(n)&&qa(n,g)&&qa(n[g],
this.id_)};l.prototype["delete"]=function(n){return c(n)&&qa(n,g)&&qa(n[g],this.id_)?delete n[g][this.id_]:!1};return l},"es6","es3");
m("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var l=Object.seal({x:4}),n=new a(h([[l,"s"]]));if("s"!=n.get(l)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var p=n.entries(),q=p.next();if(q.done||q.value[0]!=l||"s"!=q.value[1])return!1;q=p.next();return q.done||4!=q.value[0].x||"t"!=q.value[1]||!p.next().done?!1:!0}catch(u){return!1}}())return a;ma();var b=new WeakMap,c=function(l){this.data_={};
this.head_=g();this.size=0;if(l){l=h(l);for(var n;!(n=l.next()).done;)n=n.value,this.set(n[0],n[1])}};c.prototype.set=function(l,n){l=0===l?0:l;var p=e(this,l);p.list||(p.list=this.data_[p.id]=[]);p.entry?p.entry.value=n:(p.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:l,value:n},p.list.push(p.entry),this.head_.previous.next=p.entry,this.head_.previous=p.entry,this.size++);return this};c.prototype["delete"]=function(l){l=e(this,l);return l.entry&&l.list?(l.list.splice(l.index,
1),l.list.length||delete this.data_[l.id],l.entry.previous.next=l.entry.next,l.entry.next.previous=l.entry.previous,l.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};c.prototype.has=function(l){return!!e(this,l).entry};c.prototype.get=function(l){return(l=e(this,l).entry)&&l.value};c.prototype.entries=function(){return f(this,function(l){return[l.key,l.value]})};c.prototype.keys=function(){return f(this,function(l){return l.key})};
c.prototype.values=function(){return f(this,function(l){return l.value})};c.prototype.forEach=function(l,n){for(var p=this.entries(),q;!(q=p.next()).done;)q=q.value,l.call(n,q[1],q[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var e=function(l,n){var p=n&&typeof n;"object"==p||"function"==p?b.has(n)?p=b.get(n):(p=""+ ++k,b.set(n,p)):p="p_"+n;var q=l.data_[p];if(q&&qa(l.data_,p))for(l=0;l<q.length;l++){var u=q[l];if(n!==n&&u.key!==u.key||n===u.key)return{id:p,list:q,index:l,entry:u}}return{id:p,
list:q,index:-1,entry:void 0}},f=function(l,n){var p=l.head_;return la(function(){if(p){for(;p.head!=l.head_;)p=p.previous;for(;p.next!=p.head;)return p=p.next,{done:!1,value:n(p)};p=null}return{done:!0,value:void 0}})},g=function(){var l={};return l.previous=l.next=l.head=l},k=0;return c},"es6","es3");
m("Set",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),e=new a(h([c]));if(!e.has(c)||1!=e.size||e.add(c)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var f=e.entries(),g=f.next();if(g.done||g.value[0]!=c||g.value[1]!=c)return!1;g=f.next();return g.done||g.value[0]==c||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:f.next().done}catch(k){return!1}}())return a;ma();var b=function(c){this.map_=new Map;
if(c){c=h(c);for(var e;!(e=c.next()).done;)this.add(e.value)}this.size=this.map_.size};b.prototype.add=function(c){c=0===c?0:c;this.map_.set(c,c);this.size=this.map_.size;return this};b.prototype["delete"]=function(c){c=this.map_["delete"](c);this.size=this.map_.size;return c};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=function(c){return this.map_.has(c)};b.prototype.entries=function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};
b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,e){var f=this;this.map_.forEach(function(g){return c.call(e,g,g,f)})};return b},"es6","es3");
m("Array.from",function(a){return a?a:function(b,c,e){c=null!=c?c:function(l){return l};var f=[],g="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof g){b=g.call(b);for(var k=0;!(g=b.next()).done;)f.push(c.call(e,g.value,k++))}else for(g=b.length,k=0;k<g;k++)f.push(c.call(e,b[k],k));return f}},"es6","es3");m("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");
m("Array.prototype.includes",function(a){return a?a:function(b,c){var e=this;e instanceof String&&(e=String(e));var f=e.length;c=c||0;for(0>c&&(c=Math.max(c+f,0));c<f;c++){var g=e[c];if(g===b||Object.is(g,b))return!0}return!1}},"es7","es3");m("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==oa(this,b,"includes").indexOf(b,c||0)}},"es6","es3");
m("Promise",function(a){function b(){this.batch_=null}function c(k){return k instanceof f?k:new f(function(l){l(k)})}if(a)return a;b.prototype.asyncExecute=function(k){if(null==this.batch_){this.batch_=[];var l=this;this.asyncExecuteFunction(function(){l.executeBatch_()})}this.batch_.push(k)};var e=da.setTimeout;b.prototype.asyncExecuteFunction=function(k){e(k,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var k=this.batch_;this.batch_=[];for(var l=0;l<k.length;++l){var n=
k[l];k[l]=null;try{n()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};b.prototype.asyncThrow_=function(k){this.asyncExecuteFunction(function(){throw k;})};var f=function(k){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var l=this.createResolveAndReject_();try{k(l.resolve,l.reject)}catch(n){l.reject(n)}};f.prototype.createResolveAndReject_=function(){function k(p){return function(q){n||(n=!0,p.call(l,q))}}var l=this,n=!1;return{resolve:k(this.resolveTo_),reject:k(this.reject_)}};
f.prototype.resolveTo_=function(k){if(k===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(k instanceof f)this.settleSameAsPromise_(k);else{a:switch(typeof k){case "object":var l=null!=k;break a;case "function":l=!0;break a;default:l=!1}l?this.resolveToNonPromiseObj_(k):this.fulfill_(k)}};f.prototype.resolveToNonPromiseObj_=function(k){var l=void 0;try{l=k.then}catch(n){this.reject_(n);return}"function"==typeof l?this.settleSameAsThenable_(l,k):this.fulfill_(k)};f.prototype.reject_=
function(k){this.settle_(2,k)};f.prototype.fulfill_=function(k){this.settle_(1,k)};f.prototype.settle_=function(k,l){if(0!=this.state_)throw Error("Cannot settle("+k+", "+l+"): Promise already settled in state"+this.state_);this.state_=k;this.result_=l;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var k=0;k<this.onSettledCallbacks_.length;++k)g.asyncExecute(this.onSettledCallbacks_[k]);this.onSettledCallbacks_=null}};var g=
new b;f.prototype.settleSameAsPromise_=function(k){var l=this.createResolveAndReject_();k.callWhenSettled_(l.resolve,l.reject)};f.prototype.settleSameAsThenable_=function(k,l){var n=this.createResolveAndReject_();try{k.call(l,n.resolve,n.reject)}catch(p){n.reject(p)}};f.prototype.then=function(k,l){function n(x,w){return"function"==typeof x?function(D){try{p(x(D))}catch(I){q(I)}}:w}var p,q,u=new f(function(x,w){p=x;q=w});this.callWhenSettled_(n(k,p),n(l,q));return u};f.prototype["catch"]=function(k){return this.then(void 0,
k)};f.prototype.callWhenSettled_=function(k,l){function n(){switch(p.state_){case 1:k(p.result_);break;case 2:l(p.result_);break;default:throw Error("Unexpected state: "+p.state_);}}var p=this;null==this.onSettledCallbacks_?g.asyncExecute(n):this.onSettledCallbacks_.push(n)};f.resolve=c;f.reject=function(k){return new f(function(l,n){n(k)})};f.race=function(k){return new f(function(l,n){for(var p=h(k),q=p.next();!q.done;q=p.next())c(q.value).callWhenSettled_(l,n)})};f.all=function(k){var l=h(k),n=
l.next();return n.done?c([]):new f(function(p,q){function u(D){return function(I){x[D]=I;w--;0==w&&p(x)}}var x=[],w=0;do x.push(void 0),w++,c(n.value).callWhenSettled_(u(x.length-1),q),n=l.next();while(!n.done)})};return f},"es6","es3");m("Number.isFinite",function(a){return a?a:function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b}},"es6","es3");m("Number.isInteger",function(a){return a?a:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}},"es6","es3");
m("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}},"es9","es3");var ra="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var e=arguments[c];if(e)for(var f in e)qa(e,f)&&(a[f]=e[f])}return a};m("Object.assign",function(a){return a||ra},"es6","es3");
m("Object.entries",function(a){return a?a:function(b){var c=[],e;for(e in b)qa(b,e)&&c.push([e,b[e]]);return c}},"es8","es3");m("Object.values",function(a){return a?a:function(b){var c=[],e;for(e in b)qa(b,e)&&c.push(b[e]);return c}},"es8","es3");
var sa=sa||{},r=this||self,t=function(a,b,c){a=a.split(".");c=c||r;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c=c[e]&&c[e]!==Object.prototype[e]?c[e]:c[e]={}:c[e]=b},va=function(a){if(a&&a!=r)return ta(a.document);null===ua&&(ua=ta(r.document));return ua},wa=/^[\w+/_-]+[=]{0,2}$/,ua=null,ta=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&wa.test(a)?a:""},
xa=function(a,b){a=a.split(".");b=b||r;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b},ya=function(){},v=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==
c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},za=function(a){return"array"==v(a)},Aa=function(a){var b=v(a);return"array"==b||"object"==b&&"number"==typeof a.length},Ba=function(a){return"function"==v(a)},Ca=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},Da="closure_uid_"+(1E9*Math.random()>>>0),Ea=0,Fa=function(a,
b,c){return a.call.apply(a.bind,arguments)},Ga=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}},Ha=function(a,b,c){Ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fa:Ga;return Ha.apply(null,arguments)},Ia=function(a,b){var c=Array.prototype.slice.call(arguments,
1);return function(){var e=c.slice();e.push.apply(e,arguments);return a.apply(this,e)}},Ja=Date.now||function(){return+new Date},y=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(e,f,g){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};var Ka=function(a,b){this.lodash_=a;this.timeout_=b};t("$jscomp.scope.ClipboardService",Ka,void 0);Ka.$inject=["lodash","$timeout"];Ka.prototype.copyWidgetData=function(a){a=a||[];this.copyToClipboard_(this.parseWidgetData_(a))};Ka.prototype.parseWidgetData_=function(a){var b=a[1].values,c=[];c.push(a[0].value);b.forEach(function(e,f){return c.push(f+1+") "+e)});return c};
Ka.prototype.copyToClipboard_=function(a){var b=a.join("\r\n"),c=document.createElement("div");c.textContent=b;c.style.opacity="0";document.body.appendChild(c);var e=document.createRange();e.selectNode(c);window.getSelection().removeAllRanges();window.getSelection().addRange(e);var f=function(g){document.removeEventListener("copy",f);void 0!==g.clipboardData&&(g.clipboardData.setData("text/plain",b),g.clipboardData.setData("text/html",a.join("<br>")),g.preventDefault())};document.addEventListener("copy",
f);document.execCommand("copy");c.remove();this.onCopyNotify_()};Ka.prototype.onCopyNotify_=function(){if(0===document.getElementsByClassName("copy-notification").length){var a=document.createElement("div");a.textContent=document.getElementsByClassName("translate-patch")[0].textContent;a.className="copy-notification";document.body.appendChild(a);this.timeout_(this.lodash_.bind(function(){a.remove()},a),2E3)}};var La=function(){this.oldTypeToNewTypeDictionary_={TIMESERIES_GRAPH_AVERAGES_CHART:"TIMESERIES",TIMESERIES_GRAPH_0:"TIMESERIES",GEO_TABLE:"GEO_MAP",TOP_ENTITIES:"RELATED_TOPICS",TOP_QUERIES:"RELATED_QUERIES",RISING_QUERIES:"RELATED_QUERIES",GEO_MAP:"GEO_MAP"}};t("$jscomp.scope.OldFeCompatibilityUtil",La,void 0);d=La.prototype;
d.convertDateWithHours_=function(a,b){var c=a.match(b);b=c[1];a=parseInt(c[2],10);c=c[4];var e=new Date(b);e.setHours(a);b=new Date(b);b.setHours(parseInt(a,10)+parseInt(c,10));return""+this.dateTimeStringFormat_(e)+(" "+this.dateTimeStringFormat_(b))};d.dateStringFormat_=function(a){return""+a.getFullYear()+("-"+(a.getMonth()+1).toString().padStart(2,"0"))+("-"+a.getDate().toString().padStart(2,"0"))};
d.convertDateWithMonth_=function(a,b){a=a.match(b);b=parseInt(a[1],10);var c=parseInt(a[2],10),e=new Date(c,b-1,1);c=new Date(c,b-1,1);c.setMonth(b+parseInt(a[3],10)-1,0);return""+this.dateStringFormat_(e)+(" "+this.dateStringFormat_(c))};d.dateTimeStringFormat_=function(a){return this.dateStringFormat_(a)+("T"+a.getHours().toString().padStart(2,"0"))};
d.convertOldEmbedParams=function(a){var b=this,c={};if(0===Object.keys(a).length)return null;var e;a.geo&&(e=a.geo.replace(/(\w+,?)\s?/g,"$1"));var f=a.date?a.date.split(",").map(function(p){return b.convertDateParam_(p)}).join(","):"all";a.cat&&(c.cat=a.cat.replace(/(.*-)?(\d+)$/,"$2"));c.comparisonItems={};var g=[];a.q&&a.q.split(",").forEach(function(p){g.push({keyword:p,geo:e||"",time:f})},this);var k=a.cid||"",l="",n=k.match(/(^\w*)[_](\d)[_]\d/);n&&0<n.length&&(k=n[1],0!=n[2]&&(l="_"+n[2]));
k=this.oldTypeToNewTypeDictionary_[k]+l;c.q=a.q;c.widgetType=k;c.comparisonItems.comparisonItem=g;c.comparisonItems.category=c.cat||0;c.comparisonItems.property=a.gprop||"";return c};d.convertDateParam_=function(a){if(""===a)return"all";a=a.replace(/\+/g," ");if(/now|today/.test(a))return a;var b=null,c=/(\d{1,2})\/(\d{4}) (\d*)M/i,e=/(\d{4}-\d{2}-\d{2})T(\d{2})([\d\\:]*) (\d+)H/i;c.test(a)?b=this.convertDateWithMonth_(a,c):e.test(a)&&(b=this.convertDateWithHours_(a,e));return b};var Ma,Na=new La,Oa=function(a,b,c){c||(c={});c.guestPath||(c.guestPath="https://trends.google.com/trends/embed/");this.url_=a||"";this.params_=b||{};this.config_=c},Pa=function(a,b,c){return new Oa(b?a+"/"+b:a,{},c)},Qa=function(a,b,c){return new Oa("yis/"+c+"/"+(b.geo||"GLOBAL")+"/"+a,{},b)},Ra=function(a,b,c){return new Oa("explore/"+a,{req:b,tz:(new Date).getTimezoneOffset()},c)};d=Oa.prototype;
d.createIframe_=function(a){var b=document.createElement("iframe"),c;for(c in a)b.setAttribute(c,a[c]);return b};d.createIframeCycle_=function(a,b){var c=this;this.socketHandshake_(a,b,function(e){e.data.isReady&&(a.style.borderRadius="2px",a.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.12), 0px 2px 2px 0px rgba(0,0,0,0.24)");e.data.height&&(a.style.height=e.data.height+"px",e.data.isIeAndLineChart&&c.setMobilePreviewLineChartWidthInIe_())})};
d.setMobilePreviewLineChartWidthInIe_=function(){var a=document.getElementsByTagName("embed-widget-preview")[0];0!==a.length&&"false"!==a.getAttribute("force-mobile-mode")&&(a=a.find("iframe"))&&(a=a.contentDocument.getElementsByClassName("fe-line-chart"),0!==a.length&&a[0].setAttribute("width",this.IFRAME_WIDTH_+"px"))};
d.generate_=function(){if(!/^(https?:\/\/)?([a-z0-9\.]+)?(\.google\.com)?/i.test(this.config_.guestPath)&&/^[^.]+\.[a-z]{2,4}\/?/i.test(this.config_.guestPath))console.error("Iframe caller domain name not allowed!");else if(this.config_.width&&!/^\d{1,4}(px|%)?$/i.test(this.config_.width))console.error("Width parameter contain illegal value!");else{var a=this.config_.guestPath+this.url_,b=[],c="trends-widget-"+this.generateSeed_(),e;for(e in this.params_)Object.prototype.hasOwnProperty.call(this.params_,
e)&&b.push(e+"="+encodeURIComponent(JSON.stringify(this.params_[e])));this.config_.timeStamp&&b.push("ts="+this.config_.timeStamp);void 0!==this.config_.forceMobileMode&&b.push("forceMobileMode="+!!this.config_.forceMobileMode);void 0!==this.config_.isPreviewMode&&b.push("isPreviewMode="+!!this.config_.isPreviewMode);this.config_.exploreQuery&&b.push("eq="+encodeURIComponent(this.config_.exploreQuery));this.config_.locale&&b.push("hl="+this.config_.locale.replace(/[^a-z]/ig,""));this.config_.geo&&
b.push("geo="+this.config_.geo);b.length&&(a+="?"+b.join("&"));a=this.createIframe_({id:c,src:a,width:this.config_.width||"100%",frameBorder:0,scrolling:0});return{id:c,element:a}}};d.generateSeed_=function(){return Ma?++Ma:Ma=1};d.render=function(){var a=this.generate_();if(a){document.write(a.element.outerHTML);var b=document.getElementById(a.id);this.createIframeCycle_(b,a.id)}return b};
d.renderTo=function(a){var b=this.generate_();if(b){var c=b.element;a.appendChild(c);this.createIframeCycle_(c,b.id)}return c};d.socketHandshake_=function(a,b,c){a.addEventListener("load",function(){a.contentWindow.postMessage({uniqueID:b},"*")});window.addEventListener("message",function(e){e.data.uniqueID===b&&c(e)},!1)};t("trends.embed.renderWidget",function(a,b,c){return(new Pa(a,b,c)).render()},void 0);t("trends.embed.renderTopChartsWidget",function(a,b,c){return(new Qa(a,b,c)).render()},void 0);
var Sa=function(a,b,c,e){return(new Pa(b,c,e)).renderTo(a)};t("trends.embed.renderWidgetTo",Sa,void 0);var Ta=function(a,b,c,e){return(new Qa(b,c,e)).renderTo(a)};t("trends.embed.renderTopChartsWidgetTo",Ta,void 0);var Ua=function(a,b,c){return(new Ra(a,b,c)).render()};t("trends.embed.renderExploreWidget",Ua,void 0);var Va=function(a,b,c,e){return(new Ra(b,c,e)).renderTo(a)};t("trends.embed.renderExploreWidgetTo",Va,void 0);
t("trends.embed.renderExploreWidgetFromOldParamaters",function(a){a=Wa(a);var b=Na.convertOldEmbedParams(a),c="";a.cat&&(c=a.cat.split("-"),c="&cat="+c[c.length-1]);Ua(b.widgetType,b.comparisonItems,{exploreQuery:"date="+b.comparisonItems.comparisonItem[0].time+"&q="+b.q+(a.geo?"&geo="+a.geo:"")+(a.gprop?"&gprop="+a.gprop:"")+c},{exploreQuery:"q="+b.q+"&date="+b.comparisonItems.comparisonItem[0].time,guestPath:"https://trends.google.com/trends/"})},void 0);
var Wa=function(a){var b={};a.replace(/[?&](.+?)=([^&#]*)/g,function(c,e,f){b[e]=decodeURI(f).replace(/\+/g," ")});return b};var Xa=angular.module("narratorAppViews",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){function c(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}b()&&(a.put("/components/embed/embed-code-preview-directive.html",'<textarea readonly class="embed-dialog-textarea" ng-if="exploreParams"\n          ng-copy="trackEmbedPreviewEvent(COPY_EVENT)"\n          ng-click="trackEmbedPreviewEvent(CLICK_EVENT)"\n          ve-tracking\n          jslog="40983; track:generic_click">\n  <script type="text/javascript" src="{{loaderScriptPathPrefix}}/embed_loader.js">\x3c/script>\n  <script type="text/javascript">\n    trends.embed.renderExploreWidget("{{widgetId}}", {{exploreParams}}, {{getWidgetConfig()}});\n  \x3c/script>\n</textarea>\n\n<textarea readonly class="embed-dialog-textarea" ng-if="!exploreParams && !yisYear"\n          ng-copy="trackEmbedPreviewEvent(COPY_EVENT)"\n          ng-click="trackEmbedPreviewEvent(CLICK_EVENT)"\n          ve-tracking\n          jslog="40983; track:generic_click">\n  <script type="text/javascript" src="{{loaderScriptPathPrefix}}/embed_loader.js">\x3c/script>\n  <script type="text/javascript">\n    trends.embed.renderWidget("{{storyId}}", "{{widgetId}}", {{getWidgetConfig()}});\n  \x3c/script>\n</textarea>\n\n<textarea readonly class="embed-dialog-textarea" ng-if="!exploreParams && yisYear"\n          ng-copy="trackEmbedPreviewEvent(COPY_EVENT)"\n          ng-click="trackEmbedPreviewEvent(CLICK_EVENT)"\n          ve-tracking\n          jslog="40983; track:generic_click">\n  <script type="text/javascript" src="{{loaderScriptPathPrefix}}/embed_loader.js">\x3c/script>\n  <script type="text/javascript">\n    trends.embed.renderTopChartsWidget("{{widgetId}}", {{getWidgetConfig()}}, {{yisYear}});\n  \x3c/script>\n</textarea>\n'),
a.put("/components/embed/embed-dialog.html",['<md-dialog class="embed-dialog-wrapper">\n  <div class="dialog-content-wrapper" ng-class="{\'wide-dialog-content-wrapper\': ctrl.wideView}">\n    <div class="customize-wrapper">\n      <div class="embed-dialog-header-text">\n        Embed\n      </div>\n      <md-checkbox class="embed-dialog-text md-primary"\n                   ng-model="ctrl.keepDataUpdated"\n                   aria-label="Keep data updated"\n                   ng-if="ctrl.showLiveDataCheckbox">\n        Keep data updated\n      </md-checkbox>\n      <div class="embed-dialog-text"\n           ng-if="!ctrl.keepDataUpdated || !ctrl.isLiveDataSupported">\n        This data is static and will not update\n      </div>\n      <div class="embed-dialog-text"\n           ng-if="ctrl.keepDataUpdated && ctrl.isLiveDataSupported">\n        This data is live and will keep updating\n      </div>\n      <md-content class="embed-dialog-content">\n        <div class="embed-dialog-text instruction-text">\n          Paste this into any HTML page:\n        </div>\n        <div class="embed-dialog-textarea-wrapper">\n          <embed-code-preview story-id="ctrl.storyId"\n                              widget-id="ctrl.widgetId"\n                              explore-params="ctrl.exploreParams"\n                              keep-data-updated="ctrl.keepDataUpdated"\n                              is-live-data-supported="ctrl.isLiveDataSupported"\n                              timestamp="ctrl.timestamp"\n                              time-range="ctrl.timeRange"\n                              explore-query="ctrl.exploreQuery"\n                              geo="{{::ctrl.geo}}">\n          </embed-code-preview>\n        </div>\n      </md-content>\n    </div>\n    <div class="preview-wrapper" ng-class="{\'wide-preview-wrapper\': ctrl.wideView}">\n      <div class="embed-dialog-header-text">\n        Preview\n      </div>\n      <md-content class="tabs-wrapper">\n        <md-tabs ng-switch on="ctrl.activeTab">',
'          <md-tab label="'+c("DESKTOP")+'"','                  md-on-select="ctrl.setSelectedTab(\'desktop\')">\n            <md-content class="md-padding tab-content" ng-switch-when="desktop">\n              <embed-widget-preview class="embed-widget-preview-container"\n                                    story-id="ctrl.storyId"\n                                    widget-id="ctrl.widgetId"\n                                    explore-params="ctrl.exploreParams"\n                                    explore-query="ctrl.exploreQuery"\n                                    timestamp="ctrl.timestamp"\n                                    force-mobile-mode="false"\n                                    geo="{{::ctrl.geo}}"\n                                    ng-if="isDialogComplete">\n              </embed-widget-preview>\n            </md-content>\n          </md-tab>',
'          <md-tab label="'+c("MOBILE")+'"','                  md-on-select="ctrl.setSelectedTab(\'mobile\')">\n            <md-content class="md-padding tab-content mobile-tab" ng-switch-when="mobile">\n              <embed-widget-preview class="embed-widget-preview-container"\n                                    story-id="ctrl.storyId"\n                                    widget-id="ctrl.widgetId"\n                                    explore-params="ctrl.exploreParams"\n                                    timestamp="ctrl.timestamp"\n                                    force-mobile-mode="true"\n                                    geo="{{::ctrl.geo}}"\n                                    ng-if="isDialogComplete">\n              </embed-widget-preview>\n            </md-content>\n          </md-tab>\n        </md-tabs>\n      </md-content>\n    </div>\n    <div class="bottom-wrapper">\n      <md-button ng-click="ctrl.cancelDialog()" class="embed-dialog-button">\n        DONE\n      </md-button>\n    </div>\n  </div>\n</md-dialog>\n'].join("\n")),
a.put("/components/feed/chips-list-directive/chips-list-directive.html",'<div class="chips-list border-separator">\n  <div class="small-title">{{::title}}</div>\n  <div class="list">\n    <a ng-repeat="chip in list track by $index"\n       class="chip"\n       title="Explore {{::chip.title}}"\n       track="[\'Trending Searches \' + selectedTab, \'click\', \'chip title: \' + chip.title]"\n       ng-href="{{::chip.link}}">\n      {{::chip.title}}\n    </a>\n  </div>\n</div>\n'),a.put("/components/feed/feed-item-carousel-directive/feed-item-carousel-atom.html",
'<div class="feed-item-carousel-item">\n  <div class="carousel-image-wrapper">\n    <img ng-src="{{::item.imgUrl}}" ng-if="::item.imgUrl" role="presentation"/>\n    <div class="image-text" ng-if="item.shouldShowImageSource">{{::item.imageSource}}</div>\n  </div>\n  <div class="carousel-text-wrapper" ng-class="{\'with-image\': item.imgUrl}">\n    <div class="item-title" multi-line-ellipsis>{{::item.title}}</div>\n    <div class="item-subtitles" title="{{::item.subtitles}}">\n      <span>{{::item.subtitles}}</span>\n    </div>\n  </div>\n</div>\n'),
a.put("/components/feed/feed-item-carousel-directive/feed-item-carousel-directive.html",'<div class="feed-item-carousel border-separator">\n  <div class="small-title">{{::title}}</div>\n  <carousel class="feed-item-carousel-wrapper"\n            hide-buttons="false"\n            tracking-name="{{::title}}"\n            viewable-items-count="numberOfViewableItems">\n    <a ng-href="{{::item.exploreUrl}}"\n       ng-repeat="item in list track by $index"\n       ng-include="\'/components/feed/feed-item-carousel-directive/feed-item-carousel-atom.html\'"\n       title="{{::item.sanitizedTitle}}"\n       target="_blank"\n       track="[\'Trending Searches \' + selectedTab, \'click\', \'carousel item: \' + title]"\n       ng-style="{\'width\': atomWidth}">\n    </a>\n  </carousel>\n</div>\n'),
a.put("/components/feed/feed-item-dialog/feed-item-dialog-daily-body.html",'<chips-list title="{{::ctrl.chips.title}}"\n            list="ctrl.chips.list"\n            selected-tab="ctrl.currentFeedItemType"\n            ng-if="ctrl.chips.list.length">\n</chips-list>\n<feed-item-carousel title="{{::ctrl.carousel.title}}"\n                    selected-tab="ctrl.currentFeedItemType"\n                    list="ctrl.carousel.list">\n</feed-item-carousel>\n'),a.put("/components/feed/feed-item-dialog/feed-item-dialog-realtime-body.html",
'<trends-widget story-id="storyId"\n               data="ctrl.timelineWidget"\n               ng-if="ctrl.timelineWidget"\n               template="fe_trendingfeed">\n</trends-widget>\n<feed-item-carousel title="{{::ctrl.carousel.title}}"\n                    selected-tab="ctrl.currentFeedItemType"\n                    list="ctrl.carousel.list">\n</feed-item-carousel>\n<chips-list title="{{::ctrl.chips.title}}"\n            list="ctrl.chips.list"\n            selected-tab="ctrl.currentFeedItemType"\n            ng-if="ctrl.chips.list.length">\n</chips-list>\n'),
a.put("/components/feed/feed-item-dialog/feed-item-dialog-top.html",'<div class="feed-item-dialog-top">\n  <div class="index">{{::ctrl.index}}</div>\n  <div class="details">\n    <div class=\'title\'>\n      <span ng-repeat="titlePart in ctrl.titleArray">\n        <a ng-href="{{::titlePart.link}}" ng-attr-title="{{::titlePart.hoverMessage}}"\n           track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'click\', \'feed item dialog title: \' + titlePart.text]">\n          {{::titlePart.text}}\n        </a>\n        <span ng-if="!$last">\u2022</span>\n      </span>\n    </div>\n    <div class="details-bottom">\n      <span class="details-bottom-text"\n            ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.DAILY">\n        {{::ctrl.searchCountMsg}}\n      </span>\n      <span class="details-bottom-text"\n            ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.REALTIME">\n        {{::ctrl.timeRange}}\n      </span>\n    </div>\n  </div>\n  <i class="material-icons-extended size-24 gray"\n     ng-click="ctrl.share($event)"\n     track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'click\', \'share feed item dialog\']">\n    share\n  </i>\n</div>\n'),
a.put("/components/feed/feed-item-dialog/feed-item-dialog.html",'<md-dialog class="feed-item-dialog" ng-click="ctrl.closeShareBottomSheet()">\n  <md-toolbar layout="row"\n              layout-align="start center"\n              class="feed-item-dialog-toolbar"\n              ng-style="ctrl.style.toolbar">\n    <i class="material-icons-extended size-24 gray flip-icon-rtl"\n       ng-click="ctrl.close()"\n       track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'close feed item dialog\', titlePart.text]">\n      arrow_back\n    </i>\n    <span class="title" ng-style="ctrl.style.title">\n      <span ng-repeat="titlePart in ctrl.titleArray">\n        <span>\n          {{::titlePart.text}}\n        </span>\n        <span ng-if="!$last">\u2022</span>\n      </span>\n    </span>\n  </md-toolbar>\n  <md-content scroll-detector\n              on-scroll="ctrl.handleScroll"\n              class="feed-item-dialog-content border-separator">\n    <ng-include src="\'/components/feed/feed-item-dialog/feed-item-dialog-top.html\'"></ng-include>\n    <ng-include ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.DAILY"\n                src="\'/components/feed/feed-item-dialog/feed-item-dialog-daily-body.html\'">\n    </ng-include>\n    <ng-include ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.REALTIME"\n                src="\'/components/feed/feed-item-dialog/feed-item-dialog-realtime-body.html\'">\n    </ng-include>\n  </md-content>\n</md-dialog>\n'),
a.put("/components/feed/feed-item-directive/feed-item-daily-body.html",'<div class="feed-item-body"\n     ng-class="ctrl.showItemBody ? \'expanded\' : \'contracted\'"\n     ng-if="ctrl.isItemExpanded">\n  <chips-list title="{{::chips.title}}"\n              list="chips.list"\n              selected-tab="ctrl.currentFeedItemType"\n              ng-if="chips.list.length">\n  </chips-list>\n  <feed-item-carousel title="{{::carousel.title}}"\n                      list="carousel.list"\n                      selected-tab="ctrl.currentFeedItemType">\n  </feed-item-carousel>\n</div>\n'),
a.put("/components/feed/feed-item-directive/feed-item-directive.html","\x3c!-- Set title as empty string in order to disable the hover tooltip. --\x3e\n<ng-include src='ctrl.feedItemTemplate' title=\"\"></ng-include>\n"),a.put("/components/feed/feed-item-directive/feed-item-realtime-body.html",'<div class="feed-item-body"\n     ng-class="ctrl.showItemBody ? \'expanded\' : \'contracted\'"\n     ng-if="ctrl.isItemExpanded">\n  <trends-widget story-id="storyId"\n                 data="ctrl.timelineWidget"\n                 ng-if="ctrl.timelineWidget"\n                 template="fe_trendingfeed">\n  </trends-widget>\n  <feed-item-carousel title="{{::carousel.title}}"\n                      list="carousel.list"\n                      selected-tab="ctrl.currentFeedItemType"\n                      ng-if="carousel.list.length">\n  </feed-item-carousel>\n  <chips-list title="{{::chips.title}}"\n              list="chips.list"\n              selected-tab="ctrl.currentFeedItemType"\n              ng-if="chips.list.length">\n  </chips-list>\n</div>\n'),
a.put("/components/feed/feed-item-directive/feed-item-sparkline-or-search-count.html",'<sparkline ng-if=\'storyId\'\n           service-bind="ctrl.sparklineService.getSparkline(storyId)"\n           thickness="{{::ctrl.sparklineConfig.desktop.thickness}}"\n           width="{{::ctrl.sparklineConfig.desktop.width}}"\n           height="{{::ctrl.sparklineConfig.desktop.height}}"\n           draw-area="false">\n    <p class="sparkline-text">\n      Past 24h\n    </p>\n</sparkline>\n<div class="search-count"\n     ng-if=\'!storyId\'>\n  <div class="search-count-title">{{::searchCount}}</div>\n  <div class="text">\n    searches\n  </div>\n</div>\n'),
a.put("/components/feed/feed-item-directive/feed-item-template-large-screen.html",'<div ng-class="[\'feed-item\', {\'expanded-item\': ctrl.isItemExpanded, \'contracted-item\': !ctrl.isItemExpanded}]">\n  <div class="feed-item-header"\n       ng-click="ctrl.toggleItem($event)"\n       ng-style="ctrl.blockAnimations && ctrl.noTransitions"\n       scroll-to\n       id="feed-item-{{::ctrl.getItemId_()}}"\n       target-id="feed-item-{{::ctrl.getItemId_()}}"\n       trigger-action="manually">\n    <div class="details-wrapper">\n      <div class="index"\n           ng-style="ctrl.blockAnimations && ctrl.noTransitions">\n        {{::index}}\n      </div>\n      <div class="details">\n        <div class="details-top">\n          <div class="title" ng-style="ctrl.blockAnimations && ctrl.noTransitions">\n            <span ng-repeat="titlePart in titleArray">\n              <a ng-href="{{::titlePart.link}}"\n                 ng-attr-title="{{::titlePart.hoverMessage}}"\n                 track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'click\', \'item title: \' + titlePart.text]">\n                {{::titlePart.text}}\n              </a>\n              <span ng-if="!$last">\u2022</span>\n            </span>\n          </div>\n          <i class="material-icons-extended size-24 gray"\n             ng-class="ctrl.showItemHeaderElements ? \'hidden\' : \'visible\'"\n             ng-click="ctrl.share($event)"\n             track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'click\', \'share\']"\n             ng-style="ctrl.blockAnimations && ctrl.noTransitions">\n            share\n          </i>\n        </div>\n        <div class="details-bottom">\n          <div ng-class="[\'subtitles-text-wrapper\', ctrl.showItemHeaderElements ? \'visible\' : \'hidden\']">\n            <div class="summary-text" dir="{{::subtitles.titleDir}}">\n              <a ng-href="{{::subtitles.articleUrl}}"\n                 target="_blank"\n                 title="{{::subtitles.sanitizedArticleTitle}}"\n                 track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'click\', \'article link: \' + subtitles.sanitizedArticleTitle]"\n                 bind-html-compile="subtitles.articleTitle">\n              </a>\n            </div>\n            <div class="source-and-time"\n                 ng-class="::{\'rtl-in-lrt\': ctrl.isTextRtlInLtrPage}"\n                 title="{{::subtitles.articleSourceAndTime}}">\n              {{::subtitles.articleSourceAndTime}}\n            </div>\n          </div>\n          <div ng-class="[\'subtitles-overlap\', {visible: !ctrl.showItemHeaderElements, hidden: ctrl.showItemHeaderElements}]"\n               ng-style="ctrl.blockAnimations && ctrl.noTransitions">\n            <div ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.DAILY">\n              {{::searchCountMsg}}\n            </div>\n            <div ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.REALTIME">\n              {{ctrl.storyTimeRange}}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ng-class="ctrl.showItemHeaderElements ? \'visible\': \'hidden\'">\n        <ng-include src="\'/components/feed/feed-item-directive/feed-item-sparkline-or-search-count.html\'">\n        </ng-include>\n      </div>\n\n    </div>\n    <div class="image-link-wrapper">\n      <div ng-if="::imageUrl">\n        <a ng-href="{{::subtitles.articleUrl}}"\n           ng-class="ctrl.showItemHeaderElements ? \'visible\' : \'hidden\'"\n           target="_blank"\n           track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'click article image\', subtitles.sanitizedArticleTitle]"\n           title="{{::subtitles.sanitizedArticleTitle}}">\n          <div class="feed-item-image-wrapper">\n            <img ng-src="{{::imageUrl}}" role="presentation">\n            <div class="image-text" ng-if="imageSource">{{::imageSource}}</div>\n          </div>\n        </a>\n      </div>\n    </div>\n    <div ng-class="[\'arrow-icon-wrapper\', ctrl.showItemHeaderElements ? \'rotate-down\' : \'rotate-up\']">\n      <i class="material-icons-extended size-24 gray">keyboard_arrow_down</i>\n    </div>\n  </div>\n  <ng-include src="\'/components/feed/feed-item-directive/feed-item-daily-body.html\'"\n              ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.DAILY">\n  </ng-include>\n  <ng-include src="\'/components/feed/feed-item-directive/feed-item-realtime-body.html\'"\n              ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.REALTIME">\n  </ng-include>\n</div>\n'),
a.put("/components/feed/feed-item-directive/feed-item-template-small-screen.html",'<div class=\'feed-item\'\n     ng-click=\'ctrl.showDialog()\'\n     track="[\'Trending Searches \' + ctrl.currentFeedItemType, \'click\', \'open feed item dialog\']">\n  <div class=\'feed-item-header\'>\n    <div class=\'index large-font\'>{{::index}}</div>\n    <div class=\'details\'>\n      <div class=\'title\' ng-class="{\'title-break\': ctrl.currentFeedItemType === ctrl.FeedItemType.DAILY}">\n        <span ng-repeat="titlePart in titleArray">\n          <span>\n            {{::titlePart.text}}\n          </span>\n          <span ng-if="!$last">\u2022</span>\n        </span>\n      </div>\n      <div class=\'details-bottom\' ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.DAILY">\n        {{::searchCountMsg}}\n      </div>\n    </div>\n    <sparkline ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.REALTIME"\n               service-bind="ctrl.sparklineService.getSparkline(storyId)"\n               thickness="{{::ctrl.sparklineConfig.mobile.thickness}}"\n               width="{{::ctrl.sparklineConfig.mobile.width}}"\n               height="{{::ctrl.sparklineConfig.mobile.height}}"\n               draw-area="false">\n      <p class="sparkline-text">\n        Past 24h\n      </p>\n    </sparkline>\n    <div class="image-link-wrapper" ng-if="ctrl.currentFeedItemType === ctrl.FeedItemType.DAILY">\n      <div ng-if="::imageUrl">\n        \x3c!-- Notice onclick is needed on the <a> tag so it won\'t trigger ctrl.toggleItem. --\x3e\n        <a ng-href="{{::subtitles.articleUrl}}"\n           onclick="event.stopPropagation();"\n           target="_blank"\n           title="{{::subtitles.sanitizedArticleTitle}}">\n          <div class="feed-item-image-wrapper">\n            <img ng-src="{{::imageUrl}}" role="presentation">\n            <div class="image-text" ng-if="imageSource" multi-line-ellipsis>{{::imageSource}}</div>\n          </div>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'),
a.put("/components/filter/filter-dialog.html",'<md-dialog class="filter-dialog">\n  <md-toolbar layout="row" layout-align="start center" class="filter-dialog-toolbar">\n    <a class="filter-dialog-menu-button-wrapper" ng-click="ctrl.handleBackButtonClick()">\n      <md-icon class="filter-dialog-menu-button flip-rtl"\n               md-svg-src="{{::ctrl.backButtonIcon}}">\n      </md-icon>\n    </a>\n    <div class="filter-dialog-title">{{ctrl.dialogTitle}}</div>\n  </md-toolbar>\n  <md-content class="filter-dialog-content">\n    <md-list ng-repeat="filterOption in ::ctrl.filterOptions track by $index"\n             ng-if="ctrl.isFilterSelectionPage()">\n      <md-item ng-click="ctrl.changeSelectedFilter(filterOption)" class="filter-dialog-menu-item">\n        <div class="filter-dialog-menu-item-title">\n          {{::filterOption.title}}\n        </div>\n        <div class="filter-dialog-menu-item-selection">\n          {{filterOption.selectedValue.name}}\n        </div>\n      </md-item>\n    </md-list>\n    <md-list ng-repeat="filterOption in ::ctrl.filterOptions track by $index"\n             ng-if="filterOption.isFilterSelected">\n      <md-item ng-click="ctrl.cancelDialogWithCallback(option, filterOption)"\n               ng-repeat="option in ::filterOption.options |\n                          OrderBySelectedOptionFilter: filterOption.selectedValue.id">\n        <div class="filter-dialog-menu-option"\n             ng-class="{\'filter-dialog-selected\': option.name === filterOption.selectedValue.name}">\n          {{option.name}}\n        </div>\n      </md-item>\n    </md-list>\n  </md-content>\n</md-dialog>\n'),
a.put("/components/filter/filter-directive.html",['<div class="selectors-wrapper"\n     ng-class="{\'geo-picker\': hasGeo && !ctrl.isLargeDisplayWidth}">\n  <md-button ng-if="!ctrl.isLargeDisplayWidth"\n             class="md-icon-button md-no-ink filter-menu-button" id="homepage-filters"\n             ng-click="ctrl.showMobileFilterDialog()"\n             track="[\'Filter\', \'open select dialog\', ctrl.location.path()]"','             aria-label="'+c("Filter")+'">','    <i class="material-icons-extended" ng-class="iconClassMobile ? iconClassMobile : \'white\'">\n      {{ctrl.iconNameMobile}}\n    </i>\n  </md-button>\n\n  <md-select ng-if="ctrl.isLargeDisplayWidth"\n             ng-model="filterOption.selectedValue"\n             ng-change="filterOption.updateFilterCallback(filterOption.selectedValue)"\n             ng-repeat="filterOption in ::ctrl.filterOptions track by $index"\n             track="[\'Filter\', \'open select dropdown\', ctrl.location.path()]"\n             class="top-selector" aria-label="Select stories category">\n    <md-option class="top-selector-option"\n               ng-value="option"\n               ng-repeat="option in filterOption.options | OrderBySelectedOptionFilter: filterOption.selectedValue.id">\n      {{ ::option.name }}\n    </md-option>\n  </md-select>\n</div>\n'].join("\n")),
a.put("/components/filter/yis-filter-dialog.html",'<md-dialog class="yis-country-filter-wrapper">\n  <div class="yis-filter-container">\n    <div class="yis-filter-title">\n      Select a country\n    </div>\n    <div class="separator"></div>\n    <md-content class="yis-filter-content">\n      <md-item class="yis-filter-options"\n               ng-repeat="geo in ctrl.yisGeoOptions"\n               ng-class="{disabled: !geo.supported,\n                          current: ctrl.isSelectedGeo(geo)}"\n               ng-click="ctrl.setSelectedGeo(geo)"\n               track="[\'Geo Filter Dialog\', \'Selected geo\', geo.name]">\n        {{ geo.name }}\n        <span ng-if="!geo.supported">\n          - unavailable\n        </span>\n      </md-item>\n    </md-content>\n    <div class="separator"></div>\n    <div class="dialog-buttons">\n      <md-button ng-click="ctrl.hideModal()"\n                 class="dialog-button">\n        CANCEL\n      </md-button>\n    </div>\n  </div>\n</md-dialog>\n'),
a.put("/components/filter/yis-filter-directive.html",['<md-button class="yis-open-filter-dialog-button"\n           ng-click="showYisCountryFilterDialogBind($event)"\n           track="[\'Geo filter\', \'Open filter dialog\']"\n           ng-mouseover="openChev = true"\n           ng-mouseleave="openChev = false">\n  {{selectedGeo.name}}\n    <div class="chev-wrapper"\n         ng-if="globalsService.isDesktopMode && !openChev">\n      <md-icon class="yis-filter-chev-icon"\n               md-svg-src="{{staticPathPrefix}}/chev-closed.svg"',
'               alt="'+c("Open country picker")+'">','      </md-icon>\n    </div>\n    <div class="chev-wrapper"\n         ng-if="globalsService.isDesktopMode && openChev">\n      <md-icon class="yis-filter-chev-icon"\n               md-svg-src="{{staticPathPrefix}}/chev-opened.svg"','               alt="'+c("Open country picker")+'">','      </md-icon>\n    </div>\n    <div class="chev-wrapper mobile"\n         ng-if="globalsService.isMobileMode">\n      <md-icon class="yis-filter-chev-icon mobile"\n               md-svg-src="{{staticPathPrefix}}/chev-mobile.svg"',
'               alt="'+c("Open country picker")+'">',"      </md-icon>\n    </div>\n</md-button>\n"].join("\n")),a.put("/components/layout/error-directive.html",'<div class="error-container">\n  <div ng-if="errorMessage" class="server-error-wrapper">\n    <div class="error-title">Oops! There was a problem displaying this page.</div>\n    <div class="error-suggest">\n      Please try again\n    </div>\n  </div>\n  <div ng-if="isEmptyState" class="empty-state-wrapper">\n    <div class="error-title">\n      Hmm, your search doesn\'t have enough data to show this page.\n    </div>\n    <div class="error-suggest">Please make sure everything is spelled correctly, or try a more general term.</div>\n  </div>\n</div>\n'),
a.put("/components/layout/error-state.html",'<div class="error-message">\n  <p class="error-message-title">\n    Error loading page\n  </p>\n  <p class="error-message-desc">\n    Please try again later\n  </p>\n</div>\n'),a.put("/components/layout/footer-directive.html",'<div class="footer-container">\n  <div class="footer-logo"></div>\n  <div class="footer-links-container">\n    <a class="footer-link"\n       ng-href="//www.google.com/intl/{{ctrl.configService.locale}}/policies/privacy/"\n       target="_blank"\n       track="[\'General\', \'Footer\', \'Privacy\']">\n      Privacy\n    </a>\n    <a class="footer-link"\n       ng-href="//www.google.com/intl/{{ctrl.configService.locale}}/policies/terms/"\n       target="_blank"\n       track="[\'General\', \'Footer\', \'Terms\']">\n      Terms\n    </a>\n    <a class="footer-link"\n       ng-href="//support.google.com/trends/?hl={{ctrl.configService.locale}}#topic=6248052"\n       target="_blank"\n       track="[\'General\', \'Footer\', \'Help Center\']">\n      Help Center\n    </a>\n    <span class="footer-link"\n       ng-click="ctrl.feedbackService.sendFeedback()"\n       track="[\'General\', \'Footer\', \'Send Feedback\']">\n      Send Feedback\n    </span>\n    <a class="footer-link"\n       ng-href="//www.google.com/intl/{{ctrl.configService.locale}}/about/"\n       target="_blank"\n       track="[\'General\', \'Footer\', \'About\']">\n      About\n    </a>\n  </div>\n</div>\n'),
a.put("/components/layout/grid-directive.html",'<div class="grid-container" ng-class="{\'fade-out\': fadingOut,\n                                       \'mobile\': $root.globals.isMobileMode}">\n  <div class="grid-column" ng-repeat="row in gridContentMatrix track by $index">\n    <div class="grid-cell" ng-repeat="cell in row">\n      <trends-widget\n          story-id="{{storyId}}"\n          story-timestamp="{{storyTimestamp}}"\n          data="cell"\n          share-title-getter="generateYisWidgetShareTitleBind(widgetTitle)">\n      </trends-widget>\n    </div>\n  </div>\n</div>\n'),
a.put("/components/layout/header-directive.html",["<div class=\"header-wrapper\"\n     ng-class=\"{'empty-story': isEmptyStory,\n                'yis-header-wrapper': isYisHub || isYisStory}\">\n  <div class=\"header-background\"\n      ng-class=\"{'has-custom-image': backgroundImage && isImageLoaded,\n                 'has-overlaying-gradient': !isYisGoobers}\"\n      ng-style=\"{'background-image': isImageLoaded ? 'url(' + backgroundImage + ')' : 'none',\n                 'background-color': backColorRulesBind()}\">\n    <img ng-src=\"{{backgroundImage}}\" ng-show=\"false\" />\n  </div>\n\n  <div class=\"header-background opacity-mask\"\n       ng-style=\"{'opacity': imageOpacityPercentage,\n                  'background-color': backColorRulesBind()}\">\n  </div>\n\n  <div class=\"header-content\"\n       ng-style=\"{'margin-bottom': isDesktopWidth ? bottomMargin + 'px' : '0'}\">\n    <div class=\"header-topbar\"\n         ng-class=\"{'header-topbar-grow': isOneGoogleEmailMode || !enableSearch,\n                    'header-with-search': enableSearch,\n                    'toolbar-shadow': showShadow,\n                    'home-page-shadow': isHomePage,\n                    'ie10': isIE10}\"\n         ng-style=\"{'background-color': backColorRulesBind(), 'box-shadow': shadowValue}\">\n      <div class=\"header-topbar-left\">\n        <md-button md-ink-ripple=\"false\"\n                   ng-click=\"triggerToggleSidenav()\"\n                   track=\"['General', 'Menu', 'Open']\"\n                   class=\"menu-btn md-button-override\" id=\"sidenav-menu-btn\">\n          <div class=\"sidenav-container\"",
'               title="'+c("Open menu")+'">','            <md-icon md-svg-src="{{::$root.config.staticPathPrefix}}/ic_menu_24px.svg"></md-icon>\n          </div>\n        </md-button>\n\n        <div class="logo-container">\n          <a class="header-title" target="_self"\n             href="{{::$root.config.pathPrefix}}"\n             track="[\'General\', \'Logo\', \'Click\']">\n            <md-icon class="google-logo header-logo generic-hide-in-mobile"></md-icon>\n            <h1>{{::pageTitle || \'Trends\'}}</h1>\n          </a>\n\n          <h2 class="header-sub-title" ng-if="pageSubtitle">\n            <span>{{pageSubtitle}}</span>\n          </h2>\n        </div>\n      </div>\n\n      <md-button ng-if="isYisHub"\n                 class="md-icon-button md-no-ink story-version-mobile"',
'                 aria-label="'+c("Story geo")+'">','        <md-icon class="flip-rtl"\n                 md-svg-src="{{::$root.config.staticPathPrefix}}/globe-image.svg"\n                 ng-click="showMobileStoryVersionDialog()">\n        </md-icon>\n      </md-button>\n\n      <div id="onebar-container" class="header-topbar-right">\n        <div class="top-header-year-picker-link-wrapper" ng-if="isYisPage">\n          <yis-year-picker></yis-year-picker>\n        </div>\n        <div class="header-topbar-center"\n             ng-class="{\'yis-hub-header\': isYisHub,\n                        \'search-container\': enableSearch && $root.globals.isDesktopMode,\n                        \'header-yis\': isYisPage,\n                       }"\n             ng-if="enableSearch">\n          <search class="search-directive-container"\n                  enable-geo-picker="enableGeoPicker"\n                  on-geo-change="onGeoChange">\n          </search>\n        </div>\n        <div class="home-page-header-autocomplete-container top-bar-explore-bar"\n             ng-if="isHomePage && !$root.globals.isSmallDisplayWidth"\n             ng-show="shouldShowExploreBar">\n          <autocomplete has-icon="true"\n                        class-name="\'search-repeat top-bar\'"\n                        input-text="exploreBarInputText">\n          </autocomplete>\n        </div>\n        <i class="material-icons-extended white opacity-ease-in-transition padding-8"\n           ng-click="triggerOpenAutocompleteDialog()"\n           ng-if="isHomePage && $root.globals.isSmallDisplayWidth"\n           ng-show="shouldShowExploreBar">\n          search\n        </i>\n        <share ng-if="shareConfig"\n               config="shareConfig"\n               ng-class="{\'hide-share-yis\': hideShareButtonYis,\n                          \'share-transition-yis\': imageOpacityPercentage >= 1}">\n        </share>\n        <filter class="home-page-header-filter"\n                ng-if="isHomePage"\n                has-geo="true"\n                on-geo-change="onGeoChange"\n                geo-options="geoOptions"\n                icon-name-mobile="language">\n        </filter>\n        <md-button ng-if="!hideFeedbackButton"\n                   md-ink-ripple="false"\n                   class="header-feedback-button md-button-override"\n                   ng-click="feedback.sendFeedback()"\n                   track="[\'General\', \'Header\', \'Send Feedback\']">\n          <md-icon md-svg-src="{{::$root.config.staticPathPrefix}}/ic_feedback_24px.svg"></md-icon>\n        </md-button>\n      </div>\n    </div>\n\n    <ng-transclude class="opacity-anim"\n                   ng-class="{\'has-opacity\': enableScrollOpacity && hideHeaderContent}"\n                   ng-style="{\'opacity\': enableScrollOpacity ? (1 - imageOpacityPercentage) : 1}">\n    </ng-transclude>\n\n    <div class="header-display-overlay"\n         ng-if="enableScrollOpacity && hideHeaderContent && blockButtonsInHeaderOnScroll"\n         ng-style="{\'top\': (64 + bodyScroll) + \'px\',\n                    \'bottom\': ((isDesktopWidth ? 46 : 38) - bottomMargin) + \'px\'}">\n    </div>\n  </div>\n</div>\n\n<side-nav-bar></side-nav-bar>\n'].join("\n")),
a.put("/components/layout/loader-directive.html",'<div class="loader-desktop" ng-if="!isMobile">\n  <svg class="circular">\n    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>\n  </svg>\n</div>\n<div class="loader-tablet" ng-if="isMobile">\n  <div class="circular">\n    <md-progress-circular md-mode="indeterminate"\n                          md-diameter="30px">\n    </md-progress-circular>\n  </div>\n</div>\n'),a.put("/components/layout/side-nav-bar-directive.html",
'<md-sidenav class="fe-side-nav-bar" md-component-id="left">\n  <div class="fe-sidenav-header"\n       layout="row"\n       layout-align="start center">\n    <div class="logo-container menu-logo" dir="ltr">\n      <md-icon class="google-logo sidenav-logo">\n      </md-icon>\n    </div>\n  </div>\n\n  <md-list class="fe-sidenav-bar-list-wrapper">\n    <div class="fe-sidenav-list-group" id="sidenav-list-group-trends">\n      <md-item ng-class="{\'current-tab\': ctrl.isCurrentTab(\'HOME\')}">\n        <md-item-content class="side-nav-bar-item-content">\n          <a ng-href="{{ctrl.getPageLink(\'HOME\')}}"\n             target="_self"\n             track="[\'General\', \'Menu\', \'Home\']"\n             class="fe-sidenav-menu-item-link">\n          <i class="material-icons-extended"\n             ng-class="ctrl.getTabClass(\'HOME\')">\n            home\n          </i>\n          <div class="md-button fe-sidenav-menu-item">\n            Home\n          </div>\n          </a>\n        </md-item-content>\n      </md-item>\n      <md-item ng-class="{\'current-tab\': ctrl.isCurrentTab(\'EXPLORE\')}">\n        <md-item-content class="side-nav-bar-item-content">\n          <a ng-href="{{::ctrl.getPageLink(\'EXPLORE\')}}"\n             target="_self"\n             track="[\'General\', \'Menu\', \'Explore\']"\n             class="fe-sidenav-menu-item-link">\n            <i class="material-icons-extended"\n               ng-class="ctrl.getTabClass(\'EXPLORE\')">\n              search\n            </i>\n            <div class="md-button fe-sidenav-menu-item">\n              Explore\n            </div>\n          </a>\n        </md-item-content>\n      </md-item>\n      <md-item ng-class="{\'current-tab\': ctrl.isCurrentTab(\'TRENDING_SEARCHES\')}">\n        <md-item-content class="side-nav-bar-item-content">\n          <a ng-href="{{ctrl.getPageLink(\'TRENDING_SEARCHES\')}}"\n             target="_self"\n             track="[\'General\', \'Menu\', \'Trending Searches\']"\n             class="fe-sidenav-menu-item-link">\n            <i class="material-icons-extended"\n               ng-class="ctrl.getTabClass(\'TRENDING_SEARCHES\')">\n              trending_up\n            </i>\n            <div class="md-button fe-sidenav-menu-item">\n              Trending Searches\n            </div>\n          </a>\n        </md-item-content>\n      </md-item>\n      <md-item ng-class="{\'current-tab\': ctrl.isCurrentTab(\'YEAR_IN_SEARCH\')}">\n        <md-item-content class="side-nav-bar-item-content">\n          <a ng-href="{{ctrl.getPageLink(\'YEAR_IN_SEARCH\')}}"\n             target="_self"\n             track="[\'General\', \'Menu\', \'Year in Search\']"\n             class="fe-sidenav-menu-item-link">\n            <i class="material-icons-extended"\n               ng-class="ctrl.getTabClass(\'YEAR_IN_SEARCH\')">\n              public\n            </i>\n            <div class="md-button fe-sidenav-menu-item">\n              Year in Search\n            </div>\n          </a>\n        </md-item-content>\n      </md-item>\n      <md-item ng-class="{\'current-tab\': ctrl.isCurrentTab(\'SUBSCRIPTIONS\')}">\n        <md-item-content class="side-nav-bar-item-content">\n          <a ng-href="{{::ctrl.getPageLink(\'SUBSCRIPTIONS\')}}"\n             target="_self"\n             track="[\'General\', \'Menu\', \'Subscriptions\']"\n             class="fe-sidenav-menu-item-link">\n            <i class="material-icons-extended"\n               ng-class="ctrl.getTabClass(\'SUBSCRIPTIONS\')">\n              email\n            </i>\n            <div class="md-button fe-sidenav-menu-item">\n              Subscriptions\n            </div>\n          </a>\n        </md-item-content>\n      </md-item>\n    </div>\n    <div class="fe-sidenav-list-group" id="sidenav-list-group-terms">\n      <md-item>\n        <md-item-content class="side-nav-bar-item-content">\n          <a ng-href="//support.google.com/trends/?hl={{::ctrl.locale}}#topic=6248052"\n             target="_blank"\n             track="[\'General\', \'Menu\', \'Help Center\']"\n             class="fe-sidenav-menu-item-link">\n            <i class="material-icons-extended gray">help_outline</i>\n            <div class="md-button fe-sidenav-menu-item">\n              Help\n            </div>\n          </a>\n        </md-item-content>\n      </md-item>\n      <md-item>\n        <md-item-content class="side-nav-bar-item-content">\n          <md-button ng-click="ctrl.feedbackService.sendFeedback(); ctrl.toggleSidenav()"\n                     track="[\'General\', \'Menu\', \'Send Feedback\']"\n                     class="fe-sidenav-menu-item-link">\n            <i class="material-icons-extended gray">feedback</i>\n            <div class="fe-sidenav-menu-item">\n              Send Feedback\n            </div>\n          </md-button>\n        </md-item-content>\n      </md-item>\n    </div>\n  </md-list>\n  <div class="sidenav-footer-links-container">\n    <a class="fe-sidenav-menu-footer-item"\n       ng-href="//www.google.com/intl/{{::ctrl.locale}}/policies/privacy/"\n       target="_blank"\n       track="[\'General\', \'Menu\', \'Privacy\']">\n      Privacy\n    </a>\n    <a class="fe-sidenav-menu-footer-item"\n       ng-href="//www.google.com/intl/{{::ctrl.locale}}/policies/terms/"\n       target="_blank"\n       track="[\'General\', \'Menu\', \'Terms\']">\n      Terms\n    </a>\n  </div>\n</md-sidenav>\n'),
a.put("/components/layout/yis-2016-front-door.html",'<div class="yis-landing">\n  <div class="yis-landing__terms-row">\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Hodor\n      </li>\n      <li class="yis-landing__term">Altruismo\n      </li>\n      <li class="yis-landing__term">General relativity\n      </li>\n      <li class="yis-landing__term">\u6c17\u5019\n      </li>\n      <li class="yis-landing__term">Banjo\n      </li>\n      <li class="yis-landing__term">Full moon\n      </li>\n      <li class="yis-landing__term">\u7368\u89d2\u7378\n      </li>\n      <li class="yis-landing__term">Kugelschreiber\n      </li>\n      <li class="yis-landing__term">International Women\u2019s Day\n      </li>\n      <li class="yis-landing__term">Hi-top fade\n      </li>\n      <li class="yis-landing__term">T\u00e9 de hierbas\n      </li>\n      <li class="yis-landing__term">\u679c\u6c41\n      </li>\n      <li class="yis-landing__term">Curry\n      </li>\n      <li class="yis-landing__term">Blood donation\n      </li>\n      <li class="yis-landing__term">\uc724\ub144\n      </li>\n    </ul>\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Hodor\n      </li>\n      <li class="yis-landing__term">Altruismo\n      </li>\n      <li class="yis-landing__term">General relativity\n      </li>\n      <li class="yis-landing__term">\u6c17\u5019\n      </li>\n      <li class="yis-landing__term">Banjo\n      </li>\n      <li class="yis-landing__term">Full moon\n      </li>\n      <li class="yis-landing__term">\u7368\u89d2\u7378\n      </li>\n      <li class="yis-landing__term">Kugelschreiber\n      </li>\n      <li class="yis-landing__term">International Women\u2019s Day\n      </li>\n      <li class="yis-landing__term">Hi-top fade\n      </li>\n      <li class="yis-landing__term">T\u00e9 de hierbas\n      </li>\n      <li class="yis-landing__term">\u679c\u6c41\n      </li>\n      <li class="yis-landing__term">Curry\n      </li>\n      <li class="yis-landing__term">Blood donation\n      </li>\n      <li class="yis-landing__term">\uc724\ub144\n      </li>\n    </ul>\n  </div>\n  <div class="yis-landing__terms-row">\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Olly olly oxen free\n      </li>\n      <li class="yis-landing__term">Kimchi\n      </li>\n      <li class="yis-landing__term">Voli pantai\n      </li>\n      <li class="yis-landing__term">Corrupci\u00f3n\n      </li>\n      <li class="yis-landing__term">LGBT\n      </li>\n      <li class="yis-landing__term">Oposto\n      </li>\n      <li class="yis-landing__term">Flache Erde\n      </li>\n      <li class="yis-landing__term">\u5c0f\u4e11\n      </li>\n      <li class="yis-landing__term">Mosquito\n      </li>\n      <li class="yis-landing__term">R\u00e9f\u00e9rendum\n      </li>\n      <li class="yis-landing__term">Demagogo\n      </li>\n      <li class="yis-landing__term">\u041a\u043e\u0431\u0438 \u0411\u0440\u0430\u0439\u0430\u043d\u0442\n      </li>\n      <li class="yis-landing__term">Fidel Castro\n      </li>\n      <li class="yis-landing__term">Promesa\n      </li>\n    </ul>\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Olly olly oxen free\n      </li>\n      <li class="yis-landing__term">Kimchi\n      </li>\n      <li class="yis-landing__term">Voli pantai\n      </li>\n      <li class="yis-landing__term">Corrupci\u00f3n\n      </li>\n      <li class="yis-landing__term">LGBT\n      </li>\n      <li class="yis-landing__term">Oposto\n      </li>\n      <li class="yis-landing__term">Flache Erde\n      </li>\n      <li class="yis-landing__term">\u5c0f\u4e11\n      </li>\n      <li class="yis-landing__term">Mosquito\n      </li>\n      <li class="yis-landing__term">R\u00e9f\u00e9rendum\n      </li>\n      <li class="yis-landing__term">Demagogo\n      </li>\n      <li class="yis-landing__term">\u041a\u043e\u0431\u0438 \u0411\u0440\u0430\u0439\u0430\u043d\u0442\n      </li>\n      <li class="yis-landing__term">Fidel Castro\n      </li>\n      <li class="yis-landing__term">Promesa\n      </li>\n    </ul>\n  </div>\n  <div class="yis-landing__terms-row">\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Bruxelas\n      </li>\n      <li class="yis-landing__term">Orlando\n      </li>\n      <li class="yis-landing__term">Cachorrinho\n      </li>\n      <li class="yis-landing__term">G\u00e9n\u00e9ration Y\n      </li>\n      <li class="yis-landing__term">14 juillet\n      </li>\n      <li class="yis-landing__term">Havana\n      </li>\n      <li class="yis-landing__term">Medalha\n      </li>\n      <li class="yis-landing__term">Chicago Cubs\n      </li>\n      <li class="yis-landing__term">Daredevil\n      </li>\n      <li class="yis-landing__term">\uc624\ud06c\ub77c\n      </li>\n      <li class="yis-landing__term">D\u00eda de la Bastilla\n      </li>\n      <li class="yis-landing__term">\u041c\u0438\u043b\u043b\u0438\u043e\u043d\n      </li>\n      <li class="yis-landing__term">Alchemy\n      </li>\n    </ul>\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Bruxelas\n      </li>\n      <li class="yis-landing__term">Orlando\n      </li>\n      <li class="yis-landing__term">Cachorrinho\n      </li>\n      <li class="yis-landing__term">G\u00e9n\u00e9ration Y\n      </li>\n      <li class="yis-landing__term">14 juillet\n      </li>\n      <li class="yis-landing__term">Havana\n      </li>\n      <li class="yis-landing__term">Medalha\n      </li>\n      <li class="yis-landing__term">Chicago Cubs\n      </li>\n      <li class="yis-landing__term">Daredevil\n      </li>\n      <li class="yis-landing__term">\uc624\ud06c\ub77c\n      </li>\n      <li class="yis-landing__term">D\u00eda de la Bastilla\n      </li>\n      <li class="yis-landing__term">\u041c\u0438\u043b\u043b\u0438\u043e\u043d\n      </li>\n      <li class="yis-landing__term">Alchemy\n      </li>\n    </ul>\n  </div>\n  <div class="yis-landing__terms-row">\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Hi-top fade\n      </li>\n      <li class="yis-landing__term">T\u00e9 de hierbas\n      </li>\n      <li class="yis-landing__term">\u679c\u6c41\n      </li>\n      <li class="yis-landing__term">Curry\n      </li>\n      <li class="yis-landing__term">Blood donation\n      </li>\n      <li class="yis-landing__term">\uc724\ub144\n      </li>\n      <li class="yis-landing__term">Taufe\n      </li>\n      <li class="yis-landing__term">Olly olly oxen free\n      </li>\n      <li class="yis-landing__term">Kimchi\n      </li>\n      <li class="yis-landing__term">Voli pantai\n      </li>\n      <li class="yis-landing__term">Corrupci\u00f3n\n      </li>\n      <li class="yis-landing__term">LGBT\n      </li>\n      <li class="yis-landing__term">Oposto\n      </li>\n      <li class="yis-landing__term">Flache Erde\n      </li>\n      <li class="yis-landing__term">\u5c0f\u4e11\n      </li>\n    </ul>\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">Hi-top fade\n      </li>\n      <li class="yis-landing__term">T\u00e9 de hierbas\n      </li>\n      <li class="yis-landing__term">\u679c\u6c41\n      </li>\n      <li class="yis-landing__term">Curry\n      </li>\n      <li class="yis-landing__term">Blood donation\n      </li>\n      <li class="yis-landing__term">\uc724\ub144\n      </li>\n      <li class="yis-landing__term">Taufe\n      </li>\n      <li class="yis-landing__term">Olly olly oxen free\n      </li>\n      <li class="yis-landing__term">Kimchi\n      </li>\n      <li class="yis-landing__term">Voli pantai\n      </li>\n      <li class="yis-landing__term">Corrupci\u00f3n\n      </li>\n      <li class="yis-landing__term">LGBT\n      </li>\n      <li class="yis-landing__term">Oposto\n      </li>\n      <li class="yis-landing__term">Flache Erde\n      </li>\n      <li class="yis-landing__term">\u5c0f\u4e11\n      </li>\n    </ul>\n  </div>\n  <div class="yis-landing__terms-row yis-landing__extra-row">\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">R\u00e9f\u00e9rendum\n      </li>\n      <li class="yis-landing__term">Demagogo\n      </li>\n      <li class="yis-landing__term">\u041a\u043e\u0431\u0438 \u0411\u0440\u0430\u0439\u0430\u043d\u0442\n      </li>\n      <li class="yis-landing__term">Fidel Castro\n      </li>\n      <li class="yis-landing__term">Promesa\n      </li>\n      <li class="yis-landing__term">Clown\n      </li>\n      <li class="yis-landing__term">Bruxelas\n      </li>\n      <li class="yis-landing__term">Orlando\n      </li>\n      <li class="yis-landing__term">Cachorrinho\n      </li>\n      <li class="yis-landing__term">G\u00e9n\u00e9ration Y\n      </li>\n      <li class="yis-landing__term">14 juillet\n      </li>\n      <li class="yis-landing__term">Havana\n      </li>\n      <li class="yis-landing__term">Medalha\n      </li>\n      <li class="yis-landing__term">Chicago Cubs\n      </li>\n    </ul>\n    <ul class="yis-landing__block">\n      <li class="yis-landing__term">R\u00e9f\u00e9rendum\n      </li>\n      <li class="yis-landing__term">Demagogo\n      </li>\n      <li class="yis-landing__term">\u041a\u043e\u0431\u0438 \u0411\u0440\u0430\u0439\u0430\u043d\u0442\n      </li>\n      <li class="yis-landing__term">Fidel Castro\n      </li>\n      <li class="yis-landing__term">Promesa\n      </li>\n      <li class="yis-landing__term">Clown\n      </li>\n      <li class="yis-landing__term">Bruxelas\n      </li>\n      <li class="yis-landing__term">Orlando\n      </li>\n      <li class="yis-landing__term">Cachorrinho\n      </li>\n      <li class="yis-landing__term">G\u00e9n\u00e9ration Y\n      </li>\n      <li class="yis-landing__term">14 juillet\n      </li>\n      <li class="yis-landing__term">Havana\n      </li>\n      <li class="yis-landing__term">Medalha\n      </li>\n      <li class="yis-landing__term">Chicago Cubs\n      </li>\n    </ul>\n  </div>\n</div>\n'),
a.put("/components/pickers/custom-date-picker-desktop.html",'<md-select ng-model="$parent.$parent.selectedOption"\n           ng-change="changeHandler()"\n           md-on-close="onClose()"\n           md-on-open="onOpen()"\n           track="[\'Explore\', \'Time picker\', \'click\']"\n           aria-label="Select time period"\n           ng-model-options="{trackBy: \'$value.id\'}"\n           md-container-class="custom-date-picker-select-container {{mdContainerClass}}">\n  <md-option class="custom-date-picker-select-option"\n             ng-repeat="option in sortedOptions track by option.id"\n             ng-value="option"\n             ng-if="isPeriodToShow(option.id, isWebSearch)">\n    {{option.name}}\n  </md-option>\n</md-select>\n'),
a.put("/components/pickers/custom-date-picker-dialog.html",['<md-dialog ng-class="{\'rtl-custom-date-picker-dialog\': ctrl.isPageRtl}">\n  <div class="custom-date-picker-dialog-title">\n    Custom time range\n  </div>\n  <md-tabs md-selected="ctrl.selectedTabIndex"\n           md-dynamic-height="true"\n           class="custom-date-picker-dialog-tabs">','    <md-tab label="'+c("ARCHIVE")+'">','      <md-content class="custom-date-picker-dialog-archive-content">\n        <form name="archive">\n          <md-radio-group ng-model="ctrl.archiveRadioGroup"\n                          class="custom-date-picker-dialog-radio-group">\n            <md-radio-button value="date_range"\n                             class="md-primary"\n                             aria-label="Date range selection">\n            </md-radio-button>\n            <md-radio-button value="full_year"\n                             class="md-primary"\n                             aria-label="Full year selection">\n            </md-radio-button>\n          </md-radio-group>\n          <div class="custom-date-picker-dialog-range-from">\n            <span>From</span>\n            <md-datepicker ng-model="ctrl.rangeFrom"\n                           md-min-date="ctrl.minDate"\n                           md-max-date="ctrl.rangeTo"\n                           ng-disabled="ctrl.archiveRadioGroup !== \'date_range\'">\n            </md-datepicker>\n          </div>\n          <div class="custom-date-picker-dialog-range-to">\n            <span>To</span>\n            <md-datepicker ng-model="ctrl.rangeTo"\n                           md-min-date="ctrl.rangeFrom"\n                           md-max-date="ctrl.today"\n                           ng-disabled="ctrl.archiveRadioGroup !== \'date_range\'">\n            </md-datepicker>\n          </div>\n          <div class="custom-date-picker-dialog-year">\n            <span>Full year</span>\n            <md-select ng-model="ctrl.fullYear"\n                       ng-disabled="ctrl.archiveRadioGroup !== \'full_year\'"\n                       aria-label="Select full year">\n              <md-option class="custom-date-picker-dialog-select-option"\n                         ng-repeat="year in ctrl.years | OrderBySelectedOptionFilter:ctrl.fullYear"\n                         ng-value="year">\n                {{ year }}\n              </md-option>\n            </md-select>\n          </div>\n        </form>\n      </md-content>\n    </md-tab>',
'    <md-tab label="'+c("PAST WEEK")+'">','      <md-content class="custom-date-picker-dialog-week-content">\n        <div class="custom-date-picker-dialog-datetime-from">\n          <span>From</span>\n          <md-select ng-model="ctrl.fromDay"\n                     md-on-close="ctrl.validatePastWeekSelection()"\n                     class="custom-date-picker-dialog-datetime-from-day"\n                     aria-label="Select day">\n            <md-option class="custom-date-picker-dialog-select-option"\n                       ng-repeat="day in ctrl.pastWeek | OrderBySelectedOptionFilter:ctrl.fromDay"\n                       ng-value="day.id">\n              {{ day.name }}\n            </md-option>\n          </md-select>\n          <md-select ng-model="ctrl.fromTime"\n                     md-on-close="ctrl.validatePastWeekSelection()"\n                     class="custom-date-picker-dialog-datetime-from-time"\n                     aria-label="Select time">\n            <md-option class="custom-date-picker-dialog-select-option"\n                       ng-repeat="hour in ctrl.hours | OrderBySelectedOptionFilter:ctrl.fromTime"\n                       ng-value="hour.id">\n              {{ hour.name }}\n            </md-option>\n          </md-select>\n        </div>\n        <div class="custom-date-picker-dialog-datetime-to">\n          <span>To</span>\n          <md-select ng-model="ctrl.toDay"\n                     md-on-close="ctrl.validatePastWeekSelection()"\n                     class="custom-date-picker-dialog-datetime-to-day"\n                     aria-label="Select day">\n            <md-option class="custom-date-picker-dialog-select-option"\n                       ng-repeat="day in ctrl.pastWeek | OrderBySelectedOptionFilter:ctrl.toDay"\n                       ng-value="day.id">\n              {{ day.name }}\n            </md-option>\n          </md-select>\n          <md-select ng-model="ctrl.toTime"\n                     md-on-close="ctrl.validatePastWeekSelection()"\n                     class="custom-date-picker-dialog-datetime-to-time"\n                     aria-label="Select time">\n            <md-option class="custom-date-picker-dialog-select-option"\n                       ng-repeat="hour in ctrl.hours | OrderBySelectedOptionFilter:ctrl.toTime"\n                       ng-value="hour.id">\n              {{ hour.name }}\n            </md-option>\n          </md-select>\n        </div>\n        <div ng-if="ctrl.pastWeekInvalid"\n             class="custom-date-picker-dialog-past-week-invalid-wrapper">\n          <div class="custom-date-picker-dialog-past-week-invalid-text">\n            End date must follow the start date\n          </div>\n          <md-icon class="custom-date-picker-dialog-past-week-invalid-icon"\n                   md-svg-src="{{ctrl.config.staticPathPrefix}}/ic_warning_googred_18dp.svg">\n          </md-icon>\n        </div>\n      </md-content>\n    </md-tab>\n  </md-tabs>\n  <md-dialog-actions class="custom-date-picker-dialog-actions"\n                     layout="row">\n    <span flex></span>\n    <md-button ng-click="ctrl.mdDialog.cancel()"\n               class="custom-date-picker-dialog-button">\n      CANCEL\n    </md-button>\n    <md-button ng-click="ctrl.mdDialog.hide(ctrl.getSelection())"\n               ng-disabled="!ctrl.isDialogValid(archive)"\n               class="custom-date-picker-dialog-button">\n      OK\n    </md-button>\n  </md-dialog-actions>\n</md-dialog>\n'].join("\n")),
a.put("/components/pickers/custom-date-picker-directive.html",'<ng-include src="\'/components/pickers/custom-date-picker-desktop.html\'"\n            ng-if="$root.globals.isDesktopMode">\n</ng-include>\n\n<ng-include src="\'/components/pickers/custom-date-picker-mobile.html\'"\n            ng-if="$root.globals.isMobileMode">\n</ng-include>\n'),a.put("/components/pickers/custom-date-picker-mobile.html",'<md-item ng-repeat="option in sortedOptions"\n         ng-click="changeHandler(option)"\n         ng-show="option.id != (isWebSearch ? \'all_2008\' : \'all\')">\n  {{ option.name }}\n</md-item>\n'),
a.put("/components/pickers/hierarchy-picker-desktop.html",'<div class="hierarchy-select ng-pristine ng-valid"\n     ng-click="focus()"\n     track="[\'Explore\', trackName, \'click\']"\n     ng-style="{\'visibility\': hasFocus ? \'hidden\' : \'visible\'}">\n  <div class="_md-select-value _md-select-placeholder">\n    <span>{{ ctrl.getSelectedNode().name }}</span>\n    <span class="_md-select-icon" aria-hidden="true"></span>\n  </div>\n</div>\n\n<div class="hierarchy-autocomplete" ng-show="hasFocus">\n  <md-autocomplete\n      md-no-cache="true"\n      md-search-text="ctrl.searchQuery"\n      md-items="node in ctrl.getResults(ctrl.searchQuery)"\n      md-selected-item-change="node && (ctrl.setSelectedNode(node.id) || blur())"\n      md-item-text="node.name"\n      md-min-length="0">\n    <md-item-template>\n      <div class="hierarchy-picker-root"\n           ng-if="node.isRoot">\n        <md-icon\n            class="hierarchy-picker-back flip-rtl"\n            md-svg-src="{{ $root.config.staticPathPrefix }}/ic_arrow_back_24px.svg"\n            ng-click="ctrl.zoomIntoNode(node.parent.id, $event);">\n        </md-icon>\n\n        <div class="hierarchy-picker-label">{{ node.name }}</div>\n      </div>\n\n      <div class="hierarchy-picker-node"\n           ng-if="!node.isRoot">\n        <div class="hierarchy-picker-label">\n          <span ng-repeat="parentID in node.parentsIds"\n                ng-if="showBreadcrumbs && ctrl.searchQuery">\n            {{ parentID }}\n\n            <md-icon\n                class="hierarchy-picker-label-separator flip-rtl"\n                md-svg-src="{{ $root.config.staticPathPrefix }}/ic_keyboard_arrow_right_24px.svg">\n            </md-icon>\n          </span>\n\n          <span md-highlight-text="ctrl.searchQuery"\n                md-highlight-flags="^i">\n            {{ node[\'name\'] }}\n          </span>\n        </div>\n\n        <md-icon\n            class="hierarchy-picker-zoom flip-rtl"\n            md-svg-src="{{ $root.config.staticPathPrefix }}/ic_keyboard_arrow_right_24px.svg"\n            ng-click="ctrl.zoomIntoNode(node.id, $event);"\n            ng-if="!$root.globals.isTouchDevice() && node.id && node.children.length > 0">\n        </md-icon>\n      </div>\n    </md-item-template>\n  </md-autocomplete>\n</div>\n'),
a.put("/components/pickers/hierarchy-picker-directive.html",'<ng-include src="\'/components/pickers/hierarchy-picker-desktop.html\'"\n            ng-if="$root.globals.isDesktopMode">\n</ng-include>\n\n<ng-include src="\'/components/pickers/hierarchy-picker-mobile.html\'"\n            ng-if="$root.globals.isMobileMode">\n</ng-include>\n'),a.put("/components/pickers/hierarchy-picker-mobile.html",'<md-item ng-repeat="node in ctrl.dataTree.iterator()"\n         ng-click="ctrl.setSelectedNode(node.id, true)">\n  {{ node.name }}\n</md-item>\n'),
a.put("/components/search/autocomplete-dialog/autocomplete-dialog.html",'<md-dialog class="search-term-autocomplete-mobile-dialog"\n           aria-label="Search term autocomplete dialog">\n  <md-toolbar class="search-term-autocomplete-mobile-dialog-toolbar"\n              layout="row"\n              layout-align="start center">\n    <div class="search-term-autocomplete-mobile-dialog-close" ng-click="ctrl.closeDialog()">\n      <i class="material-icons-extended white flip-icon-rtl">arrow_back</i>\n    </div>\n    <div class="search-term-autocomplete-mobile-dialog-title">\n      Explore\n    </div>\n  </md-toolbar>\n  <div class="search-term-autocomplete-mobile-dialog-autocomplete">\n    <autocomplete class-name="\'subscriptions-repeat\'"\n                  placeholder="::ctrl.autocompletePlaceHolder"\n                  is-autofocus="::ctrl.isAutoFocus"\n                  ng-if="ctrl.showAutocomplete">\n    </autocomplete>\n  </div>\n</md-dialog>\n'),
a.put("/components/search/autocomplete-directive.html",'<md-icon class="search-button search-button-desktop" ng-if="hasIcon">\n  <i class="material-icons-extended white">search</i>\n</md-icon>\n<md-autocomplete\n    placeholder="{{::placeholder}}"\n    md-selected-item-change="setSelectedItem(item)"\n    md-search-text="inputText"\n    md-items="item in getAutoCompleteListBind(inputText)"\n    md-item-text="item.title"\n    md-min-length="2"\n    md-no-cache="disableCache"\n    md-search-text-change="textChangeHandler()"\n    md-autofocus="isAutofocus"\n    md-delay="300">\n  <md-item-template>\n    <div class="autocomplete-entity autocomplete-title">{{item.title}}</div>\n    <div class="autocomplete-entity autocomplete-desc">{{item.type}}</div>\n  </md-item-template>\n</md-autocomplete>\n<md-icon class="search-button search-clear-button" ng-if="inputText"\n         md-svg-src="{{config.staticPathPrefix}}/ic_close_24px.svg"\n         ng-click="clearInput()">\n</md-icon>\n'),
a.put("/components/search/search-dialog.html",'\x3c!-- The click-close attribute is used to identify event target elements that close\n     the md-dialog, see search-dialog-controller.js --\x3e\n<md-dialog class="search-dialog" ng-click="ctrl.cancelDialog($event)"\n           click-close aria-label="Explore topics dialog">\n  <div class="search-dialog-wrapper search-autocomplete">\n    \x3c!-- The mobileSearchAutocomplete id is used to do an element query in search-directive.js --\x3e\n    <autocomplete></autocomplete>\n  </div>\n\n  \x3c!-- The click-close attribute is used to identify event target elements that close\n       the md-dialog, see search-dialog-controller.js --\x3e\n  <a class="search-button search-dialog-button" ng-click="ctrl.cancelDialog($event)">\n    <md-icon class="flip-rtl" click-close md-svg-src="{{ctrl.config.staticPathPrefix}}/ic_arrow_back_24px.svg"></md-icon>\n  </a>\n</md-dialog>\n'),
a.put("/components/search/search-directive.html",["\x3c!-- START Desktop - this section is only visible on desktop using CSS media query. --\x3e\n<autocomplete ng-if='isLargeDisplayWidth' has-icon=\"true\"></autocomplete>\n\x3c!-- END Desktop - this section is only visible on desktop using CSS media query. --\x3e\n\x3c!-- START Mobile - this section is only visible on mobile using CSS media query. --\x3e\n<md-button ng-if='!isLargeDisplayWidth'\n           class=\"search-button search-button-mobile\"",
'           aria-label="'+c("Search")+'"','           ng-click="showMobileSearchDialog()"\n           md-ink-ripple="false"\n           track="[\'Story\', \'Search\', \'Open\']">\n  <md-icon md-svg-icon="{{config.staticPathPrefix}}/ic_search_24px.svg">\n  </md-icon>\n</md-button>\n<div class="geo-picker" ng-if="enableGeoPicker && !isLargeDisplayWidth">\n  <filter has-geo="true" on-geo-change="onGeoChange()" icon-name-mobile="language"></filter>\n</div>\n\x3c!-- END Mobile - this section is only visible on mobile using CSS media query. --\x3e\n'].join("\n")),
a.put("/components/share/item-action-modal-yis.html",'<md-bottom-sheet class="share-dialog">\n  <md-content class="yis-content-wrapper">\n    <md-subheader class="share-dialog-title yis-2016-title">\n     {{ctrl.selectedWidgetItem}}\n    </md-subheader>\n    <div class="share-dialog-content">\n      <button class="share-dialog-content-element flex"\n              ng-click="ctrl.exploreItem()"\n              ng-if="ctrl.yisService.shouldDisplayListsExploreLinks()">\n        <i class="material-icons-extended gray story-share-social-icon">timeline</i>\n        <span>Explore\n        </span>\n      </button>\n      <button class="share-dialog-content-element flex" ng-click="ctrl.searchItem()">\n        <i class="material-icons-extended gray story-share-social-icon">search</i>\n        <span>Search on Google\n        </span>\n      </button>\n    </div>\n  </md-content>\n</md-bottom-sheet>\n'),
a.put("/components/share/share-directive.html",['<md-button class="story-share md-button-override"','           aria-label="'+c("Share")+'"','           ng-click="openDialog()" md-no-ink="true"\n           track="[\'Story\', \'Share\', \'Open\']">\n  <md-icon md-svg-src="{{ $root.config.staticPathPrefix }}/ic_share_white_24dp.svg"\n           class="story-share-image"\n           ng-class="{\'rtl-position-fix\': isPageRtl}"','           alt="'+c("Share")+'">',"  </md-icon>\n</md-button>\n"].join("\n")),
a.put("/components/share/share-modal-desktop.html",'<md-dialog class="share-dialog" ng-init="track = ctrl.track">\n  <md-content>\n    <md-subheader class="share-dialog-title">\n      Share\n    </md-subheader>\n\n    <loader ng-if="ctrl.isQuerying"></loader>\n\n    <ng-include ng-if="!ctrl.isQuerying"\n                src="\'/components/share/share-networks.html\'">\n    </ng-include>\n  </md-content>\n\n  <div class="md-dialog-actions" layout="row">\n    <a ng-click="ctrl.hideModal()" class="share-dialog-button">\n      Cancel\n    </a>\n  </div>\n</md-dialog>\n'),
a.put("/components/share/share-modal-mobile-yis.html",'<md-bottom-sheet class="share-dialog" ng-init="track = ctrl.track">\n  <md-content class="yis-content-wrapper">\n    <md-subheader class="share-dialog-title yis-2016-title"\n                  ng-class="{\'ltr-rtl-fix\': ctrl.doesWidgetTitleNeedsTextDirectionFix}">\n      {{ctrl.widgetTitle}}\n    </md-subheader>\n    <loader ng-if="ctrl.isQuerying"></loader>\n    <div class="share-dialog-content" ng-if="!ctrl.isShareClicked && !ctrl.isQuerying">\n      <button class="share-dialog-content-element flex"\n              ng-click="ctrl.openShareDialog()"\n              track="[\'fe_expandable_list\', \'Share\', ctrl.widgetTitle]">\n        <i class="material-icons-extended gray story-share-social-icon">share</i>\n        <span>Share</span>\n      </button>\n      <button class="share-dialog-content-element flex"\n              ng-click="ctrl.copyToClipBoardDialog()"\n              ng-if="!ctrl.isIOSDevice()"\n              track="[\'fe_expandable_list\', \'Copy\', ctrl.widgetTitle]">\n        <i class="material-icons-extended gray story-share-social-icon">content_copy</i>\n        <span>Copy to clipboard</span>\n      </button>\n    </div>\n    <ng-include ng-if="!ctrl.isQuerying && ctrl.isShareClicked"\n                src="\'/components/share/share-networks.html\'">\n    </ng-include>\n  </md-content>\n</md-bottom-sheet>\n'),
a.put("/components/share/share-modal-mobile.html",'<md-bottom-sheet class="share-dialog" ng-init="track = ctrl.track">\n  <md-content>\n    <md-subheader class="share-dialog-title">\n      Share\n    </md-subheader>\n\n    <loader ng-if="ctrl.isQuerying"></loader>\n\n    <ng-include ng-if="!ctrl.isQuerying"\n                src="\'/components/share/share-networks.html\'">\n    </ng-include>\n  </md-content>\n</md-bottom-sheet>\n'),a.put("/components/share/share-networks.html",['<div ng-repeat="network in ctrl.networks"\n     ng-init="displayName = network.config.displayName"\n     class="share-dialog-content">\n  <button class="share-dialog-content-element"\n          ng-click="ctrl.dispatchNetwork(network)"\n          track="[\'Story\', \'Desktop Share\', displayName]"\n          ve-tracking\n          jslog="{{network.config.veId}}; track:generic_click">\n    <md-icon md-svg-src="{{:: network.getIconAbsPath()}}"\n        class="story-share-social-icon"',
'        alt="'+c("Share")+'">','    </md-icon>\n    <span bidi="displayName"></span>\n  </button>\n</div>\n'].join("\n")),a.put("/components/stories/featured-story-directive.html",'<div class="featured-story-container"\n     ng-style="{\'direction\': getFeaturedDirection()}">\n  <a href="story/{{::id}}" class="featured-story">\n    <div class="featured-story-title-container">\n      <div class="featured-story-title-text"\n           bidi="storyTitleArray.length ? storyTitleArray : storyTitle"></div>\n    </div>\n    <div class="featured-story-mobile-link">\n      <md-icon md-svg-src="{{::config.staticPathPrefix}}/ic_arrow_forward_24px.svg"\n               class="featured-story-mobile-arrow flip-rtl">\n      </md-icon>\n      Explore story\n    </div>\n    <trends-widget data="widget"\n                   template="fe_featured"\n                   story-id="{{::id}}"\n                   ng-if="globals.isDesktopMode">\n    </trends-widget>\n  </a>\n</div>\n'),
a.put("/components/stories/trending-story-directive.html",'<div class="trending-story-wrapper">\n  <a class="trending-story"\n     ng-href="{{::ctrl.getStoryHref($root.config, id)}}"\n     track="[\'Home\', \'Trending\', \'Click\', $parent.$index + 1]"\n     target="{{isEmbedStories ? \'_blank\' : \'\'}}">\n    <div class="index"></div>\n    <div class="title" bidi="storyTitleArray.length ? storyTitleArray : storyTitle"></div>\n    <div class="article-data"\n         ng-if="showNewsSnippet && storyArticles.length > 0">\n      <div class="article-item"\n           ng-repeat="article in storyArticles | limitTo: 1"\n           ng-init="articleTitle = ctrl.changeHtmlToPlainText(article.articleTitle)">\n        <span class="article-data-title" bidi="articleTitle"></span>\n        <span>, {{ article.source }}</span>\n        <span>, {{ article.time }}</span>\n      </div>\n    </div>\n    <sparkline\n        service-bind="ctrl.sparklineService.getSparkline(id)"\n        thickness="{{ $root.globals.isDesktopMode ? 2 : 1.5 }}"\n        width="{{ sparklineSize[0] }}"\n        height="{{ sparklineSize[1] }}"\n        ng-class="{\'no-image\': hideImage}">\n      <p class="fe-atoms-generic-hide-in-mobile spark-line-label">\n        Past 24h\n      </p>\n    </sparkline>\n  </a>\n  <a class="image-wrapper"\n     ng-class="::{\'empty-url\': !newsUrl}"\n     ng-href="{{::newsUrl}}"\n     target="_blank"\n     ng-if="$root.globals.isDesktopMode && !hideImage">\n    <img class="image fe-atoms-generic-hide-in-mobile"\n         ng-src="{{::imageUrl}}"\n         alt="{{::storyTitle}}"\n         width="96"\n         height="96"\n         ng-if="imageUrl"/>\n    <div class="image image-placeholder-wrapper"\n         ng-if="!imageUrl">\n      <div class="image-placeholder"></div>\n    </div>\n\n    <div class="image-source-label fe-atoms-generic-hide-in-mobile"\n         bidi="imageSource" ng-if="imageUrl">\n      {{imageSource}}\n    </div>\n  </a>\n</div>\n'),
a.put("/components/subscriptions/delete-dialog/delete-dialog.html",'<div class="delete-dialog-page-container">\n  <div class="delete-dialog-container">\n    <div class="delete-dialog-title">\n      Are you sure you want to delete this subscription?\n    </div>\n    <div class="delete-dialog-buttons-container">\n      <div class="delete-dialog-button" ng-click="closeDialog()">\n        Cancel\n      </div>\n      <div class="delete-dialog-button" ng-click="deleteSubscription()">\n        Delete\n      </div>\n    </div>\n  </div>\n</div>\n'),
a.put("/components/subscriptions/dialog/desktop/add-subscription-content-desktop.html",'<md-tabs md-dynamic-height="true" md-stretch-tabs="always" ng-if="!ctrl.isSpecificSubscription">\n  <md-tab label="{{::ctrl.subscriptionsTopicTab}}"\n          md-on-select="ctrl.setSubscriptionType(ctrl.subscriptionTypes.TOPIC)">\n    <ng-include src="\'/components/subscriptions/dialog/desktop/subscriptions-dialog-content-desktop.html\'"></ng-include>\n  </md-tab>\n  <md-tab label="{{::ctrl.subscriptionsTrendingSearchesTab}}"\n          md-on-select="ctrl.setSubscriptionType(ctrl.subscriptionTypes.TRENDING_SEARCHES)">\n    <ng-include src="\'/components/subscriptions/dialog/desktop/subscriptions-dialog-content-desktop.html\'"></ng-include>\n  </md-tab>\n</md-tabs>\n<div ng-if="ctrl.isSpecificSubscription">\n  <ng-include src="\'/components/subscriptions/dialog/desktop/subscriptions-dialog-content-desktop.html\'"></ng-include>\n</div>\n<div class="subscriptions-dialog-button-container">\n  <button class="subscriptions-dialog-button"\n          ng-class="{\'disabled\': !ctrl.canSaveSubscription}"\n          ng-click="ctrl.saveSubscription()">\n    {{::ctrl.subscribeButtonText}}\n  </button>\n</div>\n'),
a.put("/components/subscriptions/dialog/desktop/edit-subscription-content-desktop.html",'<ng-include src="\'/components/subscriptions/dialog/desktop/subscriptions-dialog-content-desktop.html\'"></ng-include>\n<button class="subscriptions-dialog-button" ng-click="ctrl.saveSubscription()">\n  {{::ctrl.saveButtonText}}\n</button>\n<button class="subscriptions-dialog-button unsubscribe"\n        ng-click="ctrl.openDeleteDialog()"\n        ng-if="ctrl.isEditDialog">\n  {{::ctrl.unsubscribeButtonText}}\n</button>\n'),
a.put("/components/subscriptions/dialog/desktop/subscription-dialog-desktop.html",'<md-dialog class="subscriptions-dialog add-subscription">\n  <md-toolbar layout="row"\n              layout-align="start center"\n              class="subscriptions-dialog-toolbar">\n    <i class="material-icons-extended button" ng-click="ctrl.closeDialog()">clear</i>\n    <span class="title">{{::ctrl.title}}</span>\n  </md-toolbar>\n  <md-content>\n    <ng-include src="ctrl.contentTemplate"></ng-include>\n  </md-content>\n</md-dialog>\n'),
a.put("/components/subscriptions/dialog/desktop/subscriptions-dialog-content-desktop.html",'<md-content class="subscriptions-dialog-content" ng-switch="ctrl.subscriptionType">\n  <div class="subscriptions-item-container add">\n    <span ng-switch-when="topic">{{::ctrl.subscriptionsTermTitle}}</span>\n    <span ng-switch-when="trendingSearches">{{::ctrl.subscriptionsTrendingSearchesTitle}}</span>\n    <span class="subscriptions-item-content">{{::ctrl.userEmail}}</span>\n  </div>\n  <div class="subscriptions-item-container" ng-switch-when="topic">\n    <span class="subscriptions-item-title">{{::ctrl.subscriptionsTopic}}</span>\n    <div class="autocomplete-container subscriptions-search-container">\n      <autocomplete placeholder="::ctrl.autocompletePlaceHolderText"\n                    class-name="\'subscriptions-repeat-desktop\'"\n                    input-text="ctrl.termTitle"\n                    on-select-item="ctrl.onAutoCompleteSelectBind"\n                    is-autofocus="::ctrl.isAutoFocus"\n                    enable-input-selection-on-blur="true"\n                    ng-if="ctrl.isTermMenuOpen">\n      </autocomplete>\n      <div class="selected-term-container"\n           ng-click="ctrl.setAutocompleteParams()"\n           ng-if="!ctrl.isTermMenuOpen">\n        <div class="selected-term-title">\n          {{ctrl.selectedSubscription.term.title}}\n          <span>{{ctrl.selectedSubscription.term.type}}</span>\n        </div>\n        <i class="material-icons-extended gray" ng-if="ctrl.termTitle">mode_edit</i>\n      </div>\n    </div>\n  </div>\n  <div class="subscriptions-item-container">\n    <span class="subscriptions-item-title">{{::ctrl.subscriptionsRegion}}</span>\n    <md-select ng-model="ctrl.selectedSubscription.geo"\n               ng-change="ctrl.onGeoChange()"\n               aria-label="Select subscriptions region">\n      <md-option ng-value="option"\n                 class="top-selector-option"\n                 ng-repeat="option in ctrl.geoOptions | OrderBySelectedOptionFilter:ctrl.selectedSubscription.geo.id">\n        {{::option.name}}\n      </md-option>\n    </md-select>\n  </div>\n  <div class="subscriptions-item-container" ng-switch-when="trendingSearches">\n    <span class="subscriptions-item-title large">{{::ctrl.subscriptionsType}}</span>\n    <md-radio-group ng-model="ctrl.selectedSubscription.level">\n      <md-radio-button class="md-primary"\n                       ng-value="::levelOption"\n                       ng-repeat="levelOption in ::ctrl.subscriptionsService.levelOptions">\n        {{::levelOption.name}}\n      </md-radio-button>\n    </md-radio-group>\n  </div>\n  <div class="subscriptions-item-container">\n    <span class="subscriptions-item-title large">\n      How often?\n    </span>\n    <md-radio-group ng-model="ctrl.selectedSubscription.frequency" ng-switch-when="topic">\n      <md-radio-button class="md-primary"\n                       ng-value="::frequencyOption"\n                       ng-repeat="frequencyOption in ::ctrl.subscriptionsService.frequencyTopicOptions">\n        {{::frequencyOption.name}}\n      </md-radio-button>\n    </md-radio-group>\n    <md-radio-group ng-model="ctrl.selectedSubscription.frequency" ng-switch-when="trendingSearches">\n      <md-radio-button class="md-primary"\n                       ng-value="::frequencyHotTrendsOption"\n                       ng-repeat="frequencyHotTrendsOption in ::ctrl.subscriptionsService.frequencyHotTrendsOption">\n        {{::frequencyHotTrendsOption.name}}\n      </md-radio-button>\n    </md-radio-group>\n  </div>\n</md-content>\n'),
a.put("/components/subscriptions/dialog/mobile/add-subscription-dialog-mobile.html",'<md-toolbar layout="row"\n            layout-align="start center"\n            class="subscriptions-dialog-toolbar"\n            ng-switch="ctrl.isMenuOpen">\n  <i class="material-icons-extended button white"\n     ng-click="ctrl.closeDialog()"\n     ng-switch-when="false">\n    clear\n  </i>\n  <i class="material-icons-extended white button flip-icon-rtl"\n     ng-click="ctrl.closeMenu()"\n     ng-switch-when="true">\n    arrow_back\n  </i>\n  <span class="title">{{ctrl.title}}</span>\n</md-toolbar>\n<md-content ng-if="!ctrl.isSpecificSubscription">\n  <md-tabs md-dynamic-height="true" md-stretch-tabs="always" ng-show="!ctrl.isMenuOpen">\n    <md-tab label="{{::ctrl.subscriptionsTopicTab}}" md-on-select="ctrl.setSubscriptionType(ctrl.subscriptionTypes.TOPIC)">\n      <ng-include src="\'/components/subscriptions/dialog/mobile/subscriptions-dialog-content-mobile.html\'"></ng-include>\n    </md-tab>\n    <md-tab label="{{::ctrl.subscriptionsTrendingSearchesTab}}"\n            md-on-select="ctrl.setSubscriptionType(ctrl.subscriptionTypes.TRENDING_SEARCHES)">\n      <ng-include src="\'/components/subscriptions/dialog/mobile/subscriptions-dialog-content-mobile.html\'"></ng-include>\n    </md-tab>\n  </md-tabs>\n</md-content>\n<md-content ng-if="ctrl.isSpecificSubscription && !ctrl.isMenuOpen">\n  <ng-include src="\'/components/subscriptions/dialog/mobile/subscriptions-dialog-content-mobile.html\'"></ng-include>\n</md-content>\n'),
a.put("/components/subscriptions/dialog/mobile/edit-subscription-dialog-mobile.html",'<md-toolbar layout="row"\n            layout-align="start center"\n            class="subscriptions-dialog-toolbar"\n            ng-switch="ctrl.isMenuOpen">\n  <i class="material-icons-extended button white"\n     ng-click="ctrl.closeDialog()"\n     ng-switch-when="false">\n    clear\n  </i>\n  <i class="material-icons-extended white button flip-icon-rtl"\n     ng-click="ctrl.closeMenu()"\n     ng-switch-when="true">\n    arrow_back\n  </i>\n  <span class="title">{{ctrl.title}}</span>\n  <i class="material-icons-extended white button right"\n     ng-click="ctrl.openDeleteDialog()"\n     ng-if="!ctrl.isMenuOpen">\n    delete\n  </i>\n</md-toolbar>\n<div ng-if="!ctrl.isMenuOpen">\n  <ng-include src="\'/components/subscriptions/dialog/mobile/subscriptions-dialog-content-mobile.html\'"></ng-include>\n</div>\n'),
a.put("/components/subscriptions/dialog/mobile/subscription-dialog-mobile.html",'<md-dialog class="subscriptions-dialog">\n  <ng-include src="ctrl.contentTemplate"></ng-include>\n  <md-content ng-if="ctrl.isMenuOpen">\n    <md-list ng-if="!ctrl.isTermMenuOpen">\n      <md-item ng-repeat="option in ::ctrl.menuOptions.options track by $index"\n               ng-click="ctrl.setSelectedSubscription(option, ctrl.menuOptions.menuType)">\n        <div class="subscriptions-dialog-menu-option">\n          {{::option.name}}\n        </div>\n      </md-item>\n    </md-list>\n    <div class="subscriptions-search-container" ng-if="ctrl.isTermMenuOpen">\n      <autocomplete class-name="\'subscriptions-repeat\'"\n                    placeholder="ctrl.autocompletePlaceHolderText"\n                    input-text="ctrl.termTitle"\n                    on-select-item="ctrl.onAutoCompleteSelectBind"\n                    is-autofocus="ctrl.isAutoFocus">\n      </autocomplete>\n    </div>\n  </md-content>\n  <button class="subscriptions-dialog-button"\n          ng-class="{\'disabled\': !ctrl.canSaveSubscription}"\n          ng-click="ctrl.saveSubscription()"\n          ng-if="!ctrl.isMenuOpen">\n    {{::ctrl.isEditDialog ? ctrl.saveButtonText : ctrl.subscribeButtonText}}\n  </button>\n</md-dialog>\n'),
a.put("/components/subscriptions/dialog/mobile/subscriptions-dialog-content-mobile.html",'<md-content class="subscriptions-dialog-content" ng-switch="ctrl.subscriptionType">\n  <div class="subscriptions-item-container add">\n    <span ng-switch-when="topic">{{::ctrl.subscriptionsTermTitle}}</span>\n    <span ng-switch-when="trendingSearches">{{::ctrl.subscriptionsTrendingSearchesTitle}}</span>\n    <span class="subscriptions-item-content">{{::ctrl.userEmail}}</span>\n  </div>\n  <div class="subscriptions-item-container"\n       ng-click="ctrl.openTermMenu()"\n       ng-switch-when="topic">\n    <span>{{::ctrl.subscriptionsTopic}}</span>\n    <span class="subscriptions-item-content">{{ctrl.getTermTitle()}}</span>\n  </div>\n  <div class="subscriptions-item-container" ng-click="ctrl.openMenu(ctrl.menuTypes.GEO)">\n    <span>{{::ctrl.subscriptionsRegion}}</span>\n    <span class="subscriptions-item-content">{{ctrl.selectedSubscription.geo.name}}</span>\n  </div>\n  <div class="subscriptions-item-container"\n       ng-click="ctrl.openMenu(ctrl.menuTypes.LEVEL)"\n       ng-switch-when="trendingSearches">\n    <span>{{::ctrl.subscriptionsType}}</span>\n    <span class="subscriptions-item-content">{{ctrl.selectedSubscription.level.name}}</span>\n  </div>\n  <div class="subscriptions-item-container"\n       ng-click="ctrl.openMenu(ctrl.menuTypes.FREQUENCY_TOPIC)"\n       ng-switch-when="topic">\n    <span>{{::ctrl.subscriptionsHowOften}}</span>\n    <span class="subscriptions-item-content">{{ctrl.selectedSubscription.frequency.name}}</span>\n  </div>\n  <div class="subscriptions-item-container"\n       ng-click="ctrl.openMenu(ctrl.menuTypes.FREQUENCY_HOT_TRENDS)"\n       ng-switch-when="trendingSearches">\n    <span>{{::ctrl.subscriptionsHowOften}}</span>\n    <span class="subscriptions-item-content">{{ctrl.selectedSubscription.frequency.name}}</span>\n  </div>\n</md-content>\n'),
a.put("/components/video/video-directive.html",["<button class=\"video-overlay-play-button\"\n   ng-click=\"play()\"\n   track=\"['Story', 'Video', 'Play']\">\n  <md-icon md-svg-src={{getPlayIconSvgPath()}}",'      alt="'+c("Play.")+'">',"  </md-icon>\n</button>\n"].join("\n")),a.put("/components/video/video.html",['<div class="video-overlay-dialog video-overlay-dialog-closed">\n  <div class="video-overlay-dialog-content">\n    <md-button class="video-overlay-close-button md-icon-button md-no-ink"',
'               aria-label="'+c("Close")+'"',"               ng-click=\"$event.stopPropagation();$event.preventDefault();close();\"\n               track=\"['Story', 'Video', 'Close']\">\n      <md-icon md-svg-src=\"{{config.staticPathPrefix}}/ic_close_white_24dp.svg\"",'               alt="'+c("Close")+'">','      </md-icon>\n    </md-button>\n    <div id="player" width="100%" height="100%"></div>\n  </div>\n</div>\n'].join("\n")),a.put("/components/widgets/types/fe-expandable-list.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    id="anchorName"\n    embed="embed"\n    geo="geo"\n    share="share"\n    is-expanded-list="isExpandedList"\n    is-prefetched="true"\n    generic-action="genericAction"\n    fields="[\n        {\'name\': \'topic\', \'value\': listTitle},\n        {\'name\': \'bullets\', \'values\': listItems},\n        {\'name\': \'listItemsV2\', \'values\': listItemsV2},\n    ]"\n    story-id="storyId"\n    yis-year="yisYear"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    palette="widgetPalette"\n    forced-color="{{::forcedColor}}">\n</widget>\n'),
a.put("/components/widgets/types/fe-generic.html",'<widget\n    type="{{widgetType}}"\n    version="{{version}}"\n    template="{{template}}"\n    fields="widgetFields"\n    apis="widgetExternalApis"\n    on-event="onEvent({\'event\': event})"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    show-mode-picker="false"\n    widget-is-curated="data.isCurated"\n    embed="embed"\n    share="share"\n    generic-action="genericAction"\n    palette="widgetPalette"\n    forced-color="{{::forcedColor}}"\n    is-main-editorial-item="isMainEditorialItem">\n</widget>\n'),
a.put("/components/widgets/types/fe-geo-chart-explore.html","<widget\n    type=\"fe_geo_chart\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'region', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchVolumeIndexLabel', 'value': searchInterestLabel},\n        {'name': 'color', 'value': color},\n        {'name': 'displayMode', 'value': displayMode}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_geo_compared_map',\n          'url': config.pathPrefix + '/api/widgetdata/comparedgeo',\n          'params': {'req': request, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    time-range=\"timeRange\"\n    help-dialog=\"helpDialog\"\n    ve-tracking\n    jslog=\"39384; track:impression\">\n</widget>\n"),
a.put("/components/widgets/types/fe-geo-chart.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'region', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchVolumeIndexLabel', 'value': searchInterestLabel},\n        {'name': 'displayMode', 'value': displayMode}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_geomap',\n          'url': config.pathPrefix + '/api/widgetdata/geomap',\n          'params': {'req': request, 'token': token}\n        }\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\">\n</widget>\n"),
a.put("/components/widgets/types/fe-geo-color-chart.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'region', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchVolumeIndexLabel', 'value': searchInterestLabel},\n        {'name': 'displayMode', 'value': displayMode},\n        {'name': 'showLegend', 'value': showLegend},\n        {'name': 'bullets', 'value': bullets}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_geo_color_map',\n          'url': config.pathPrefix + '/api/widgetdata/comparedgeo',\n          'params': {'req': request, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    help-dialog=\"helpDialog\">\n</widget>\n"),
a.put("/components/widgets/types/fe-int-over-time.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'barAnnotationText', 'value': barAnnotationText},\n        {'name': 'lineAnnotationText', 'value': lineAnnotationText},\n        {'name': 'sumAnnotationText', 'value': sumAnnotationText},\n        {'name': 'barData', 'value': barData}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_intovertime',\n          'url': config.pathPrefix + '/api/widgetdata/timeline',\n          'params': {'req': request, 'tz': config.userTimezoneOffset, 'token': token}\n        }\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\">\n</widget>\n"),
a.put("/components/widgets/types/fe-line-chart.html","<widget\n    type=\"fe_line_chart\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'lineAnnotationText', 'value': lineAnnotationText},\n        {'name': 'bullets', 'value': bullets},\n        {'name': 'showLegend', 'value': showLegend},\n        {'name': 'showAverages', 'value': showAverages},\n        {'name': 'color', 'value': color},\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_line',\n          'url': config.pathPrefix + '/api/widgetdata/multiline',\n          'params': {'req': request, 'tz': config.userTimezoneOffset, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    help-dialog=\"helpDialog\"\n    ve-tracking\n    jslog=\"39385; track:impression\">\n</widget>\n\n"),
a.put("/components/widgets/types/fe-list.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    embed="embed"\n    share="share"\n    fields="[\n        {\'name\': \'topic\', \'value\': list.title},\n        {\'name\': \'subTopic\', \'value\': list.subtitle},\n        {\'name\': \'bullets\', \'values\': list.item}\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    palette="widgetPalette"\n    forced-color="{{::forcedColor}}">\n</widget>\n'),
a.put("/components/widgets/types/fe-multi-heat-map.html","<widget\n    class=\"multi-heat-map-widget\"\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'bullets', 'value': bullets},\n        {'name': 'geo', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchInterestLabel', 'value': searchInterestLabel},\n        {'name': 'displayMode', 'value': displayMode},\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_multiheatmap',\n          'url': config.pathPrefix + '/api/widgetdata/comparedgeo',\n          'params': {'req': request, 'token': token},\n        },\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    show-multi-heat-map-message=\"showMultiHeatMapMessage\">\n</widget>\n"),
a.put("/components/widgets/types/fe-multi-range-chart.html","<widget\n    type=\"fe_line_chart\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'lineAnnotationText', 'value': lineAnnotationText},\n        {'name': 'bullets', 'value': bullets},\n        {'name': 'showLegend', 'value': showLegend},\n        {'name': 'showAverages', 'value': showAverages},\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_line_multi_range',\n          'url': config.pathPrefix + '/api/widgetdata/multirange',\n          'params': {'req': request, 'tz': config.userTimezoneOffset, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    help-dialog=\"helpDialog\">\n</widget>\n\n"),
a.put("/components/widgets/types/fe-related-queries.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    embed="embed"\n    share="share"\n    export="export"\n    fields="[\n        {\'name\': \'topic\', \'value\': title},\n    ]"\n    apis="[\n        {\n          \'name\': \'fe_relatedqueries\',\n          \'url\': config.pathPrefix + \'/api/widgetdata/relatedqueries\' + \'?token=\' + token,\n          \'params\': request\n        }\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    show-mode-picker="false"\n    palette="palette"\n    forced-color="{{::forcedColor}}">\n</widget>\n'),
a.put("/components/widgets/types/fe-related-searches.html",'<widget\n    type="fe_related_queries"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    embed="embed"\n    share="share"\n    export="export"\n    explore-query="exploreQuery"\n    fields="[\n        {\'name\': \'topic\', \'value\': title},\n        {\'name\': \'color\', \'value\': color}\n    ]"\n    apis="[\n        {\n          \'name\': \'fe_relatedsearches\',\n          \'url\': config.pathPrefix + \'/api/widgetdata/relatedsearches\',\n          \'params\': {\'req\': request, \'token\': token}\n        }\n    ]"\n    story-title="storyTitle"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    show-mode-picker="true"\n    palette="palette"\n    forced-color="{{::forcedColor}}"\n    help-dialog="helpDialog"\n    widget-name="widgetName"\n    ve-tracking\n    jslog="{{widgetName === \'RELATED_TOPICS\' ? \'39387\' : \'39386\'}}; track:impression">\n</widget>\n'),
a.put("/components/widgets/types/fe-related-topics.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    fields="[\n        {\'name\': \'topic\', \'value\': title}\n    ]"\n    apis="[\n        {\n          \'name\': \'fe_relatedtopics\',\n          \'url\': config.pathPrefix + \'/api/widgetdata/relatedtopics\',\n          \'params\': {\'req\': request, \'token\': token}\n        }\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems">\n</widget>\n'),
a.put("/components/widgets/types/fe-text.html",'<widget\n    id="id"\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    fields="[\n        {\'name\': \'content\', \'value\': text.text},\n        {\'name\': \'url\', \'value\': url},\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems">\n</widget>\n'),
a.put("/components/widgets/types/fe-top-news.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'more_articles_link', 'value': newsClusterLinkUrl},\n        {'name': 'bullets', 'values': arrayMap(articles, {\n            'title': 'title',\n            'imageUrl': 'image',\n            'source': 'source',\n            'time': 'time',\n            'url': 'link'\n        })}\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\">\n</widget>\n"),
a.put("/components/widgets/types/fe-trending-searches.html","<widget\n  type=\"fe_trending_searches\"\n  version=\"1\"\n  template=\"fe_embed\"\n  fields=\"[\n    {'name': 'bullets', 'values': listItems},\n    {'name': 'geo', 'value': countryName},\n  ]\">\n</widget>\n"),a.put("/components/widgets/types/fe-video.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'description', 'value': videoTitle},\n        {'name': 'videoUrl', 'value': embedUrl},\n        {'name': 'imageUrl', 'values': imageUrl},\n        {'name': 'owner', 'values': owner},\n        {'name': 'ownerUrl', 'values': ownerUrl},\n        {'name': 'localViews', 'values': localViews},\n        {'name': 'date', 'values': date},\n        {'name': 'globalViews', 'values': globalViews}\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\">\n</widget>\n"),
a.put("/components/yis/yearpicker/yis-year-picker-dialog.html",'<md-dialog class="yis-year-picker-dialog-wrapper">\n  <div class="yis-year-picker-dialog">\n    <h1>Select a year</h1>\n    <ul>\n      <li ng-repeat="yearObject in ctrl.availableYears"\n          ng-class="{disabled: !yearObject.supported,\n                     current: ctrl.isCurrentYear(yearObject.id)}"\n          ng-click="ctrl.onSelectYear(yearObject)">\n        {{yearObject.name}}\n        <span ng-if="!yearObject.supported">\n          - unavailable\n        </span>\n      </li>\n    </ul>\n    <md-button ng-click="ctrl.mdDialog.cancel()">\n      CANCEL\n    </md-button>\n  </div>\n</md-dialog>\n'),
a.put("/components/yis/yearpicker/yis-year-picker-directive.html",'<div class="yis-year-picker-link _md-select-value" ng-click="ctrl.openDialog()">\n  <div>{{currentYear}}</div>\n  <span class="_md-select-icon"></span>\n</div>\n'),a.put("/components/yis/yis-directive.html",'<div ng-show="!isCurrentlyQuerying()">\n  <grid\n      class=\'yis-grid\'\n      grid-content-array=\'widgets\'\n      story-timestamp=\'timestamp\'\n      story-id=\'year\'\n      scroll-to\n      target-id="yis-filters-container"\n      trigger-action="load"\n      fading-out="fadingOut">\n  </grid>\n\n  <ng-include src="\'/components/yis/yis-interactive.html\'"\n              ng-if="interactiveData.url && interactiveData.imgUrl"></ng-include>\n</div>\n\n<md-progress-circular md-diameter="30px"\n                      md-mode="indeterminate"\n                      ng-if="isCurrentlyQuerying()">\n</md-progress-circular>\n'),
a.put("/components/yis/yis-interactive.html",'<div class="interactive-link-flex-wrapper">\n  <div class="interactive-link-container">\n    <a class="interactive-link"\n       ng-href="{{interactiveData.url}}"\n       target="_blank">\n      <img ng-src="{{interactiveData.imgUrl}}" class="interactive-image">\n      <span class="interactive-link-text">\n        {{::interactiveMessage}}\n        <i class="material-icons-extended flip-icon-rtl">\n          arrow_forward\n        </i>\n      </span>\n    </a>\n  </div>\n</div>\n'),
a.put("/explorepage/explore-mobile-hub-dialog.html",'<md-dialog class="explore-hub-dialog">\n  <md-toolbar class="explore-hub-dialog-toolbar" layout="row" layout-align="start center">\n    <a class="explore-hub-dialog-close"\n       ng-click="ctrl.activeFilter ? ctrl.activeFilter = \'\' : ctrl.closeDialog()">\n      <md-icon class="flip-rtl"\n               md-svg-src="{{ $root.config.staticPathPrefix }}/ic_arrow_back_24px.svg">\n      </md-icon>\n    </a>\n\n    <div ng-hide="ctrl.activeFilter" class="explore-hub-dialog-title">\n      Filter\n      <span ng-if="individualSearchTerm"\n            class="search-term-title">\n        {{ individualSearchTerm }}\n      </span>\n    </div>\n\n    <span ng-if="ctrl.activeFilter">\n      {{ ctrl.getTitleByPicker(ctrl.activeFilter) }}\n    </span>\n  </md-toolbar>\n\n  <md-content class="explore-hub-dialog-content">\n    <md-list class="explore-hub-dialog-list" ng-hide="ctrl.activeFilter">\n      <md-item\n          ng-repeat="pickerName in visiblePickers"\n          ng-click="ctrl.activeFilter = pickerName"\n          ng-if="ctrl.pickersData[pickerName]">\n        {{ ctrl.messages[\'MSG_\' + pickerName.toUpperCase()] }}\n        <span>{{ ctrl.getTitleByPicker(pickerName) }}</span>\n      </md-item>\n    </md-list>\n\n    <md-list class="explore-hub-dialog-list" ng-show="ctrl.activeFilter">\n      <hierarchy-picker\n          data="ctrl.pickersData.category"\n          ng-model="ctrl.scope.ngModelCategory"\n          on-change="ctrl.applyChanges()"\n          ng-show="ctrl.activeFilter == \'category\'"\n          ng-if="ctrl.pickersData.category">\n      </hierarchy-picker>\n\n      <hierarchy-picker\n          data="ctrl.pickersData.geo"\n          ng-model="ctrl.scope.ngModelGeo"\n          on-change="ctrl.applyChanges()"\n          ng-show="ctrl.activeFilter == \'geo\'"\n          ng-if="ctrl.pickersData.geo">\n      </hierarchy-picker>\n\n      <custom-date-picker\n          is-web-search="isWebSearch"\n          ng-show="ctrl.activeFilter == \'period\'"\n          ng-model="ctrl.scope.ngModelPeriod"\n          on-change="ctrl.applyChanges()"\n          options="ctrl.pickersData.period"\n          ng-if="ctrl.pickersData.period">\n      </custom-date-picker>\n\n      <md-item\n          ng-show="ctrl.activeFilter == \'property\'"\n          ng-repeat="property in ctrl.pickersData.property.iterator()"\n          ng-if="ctrl.pickersData.property"\n          ng-click="ctrl.applyClick(ctrl.scope, property.id)">\n        {{ property.name }}\n      </md-item>\n    </md-list>\n  </md-content>\n</md-dialog>\n'),
a.put("/explorepage/explore-mobile-hub-directive.html",'<div class="explore-hub-toolbar" ng-click="ctrl.openDialog()">\n  <md-button class="explore-hub-button md-icon-button md-no-ink">\n    <md-icon md-svg-icon="{{ $root.config.staticPathPrefix }}/ic_filter_list_24px.svg"></md-icon>\n  </md-button>\n\n  <div class="explore-hub-legend">\n    <div class="explore-hub-legend-item"\n         ng-repeat="pickerName in visibleLegendPickers"\n         ng-if="visibleLegendPickers && visibleLegendPickers.length > 0 && ctrl.pickersData[pickerName]">\n      <span ng-if="$index > 0">, </span>\n      {{ ctrl.getTitleByPicker(pickerName) }}\n    </div>\n\n    <span ng-if="visibleLegendPickers && visibleLegendPickers.length == 0 && !individualSearchTerm">\n      More filters\n    </span>\n    <span ng-if="individualSearchTerm">\n      Change filters\n    </span>\n  </div>\n</div>\n'),
a.put("/explorepage/explore-pills-directive-new.html",['<div class="content-wrap">\n  <div class="compare-term-container compare-term-container-new"\n       ng-repeat="term in terms">\n    <explore-search-term-new\n        ng-class="{\'small-pill\': ctrl.isSmallPill()}"\n        term="term"\n        term-change-handler="ctrl.updateSearchTerm(entity, $index)"\n        reset-filters-handler="resetFiltersHandler()"\n        is-global-filters-mode="isGlobalFiltersMode"\n        is-web-search="isWebSearch"\n        is-small-pills-mode="ctrl.isSmallPill()"\n        is-single="terms.length === 1"\n        tab-handler="ctrl.handleTabKey($index)"\n        color="{{colors[$index]}}"\n        is-advanced-comparison="isAdvancedComparison">\n    </explore-search-term-new>\n    <explore-search-term-filter\n        ng-if="isAdvancedComparison"\n        term="term"\n        is-web-search="isWebSearch"\n        term-change-handler="ctrl.updateSearchTerm(entity, $index)">\n    </explore-search-term-filter>\n  </div>\n  <md-button class="compare-term-container compare-term-container-new add-term-button pill-outline"',
'             aria-label="'+c("Add a search term for comparison")+'"','             ng-class="{\'centered-add-term-button\': !($root.globals.isMobileMode || ctrl.showTextOnAddTermButton()),\n               \'is-advanced-comparison\': isAdvancedComparison}"\n             ng-click="ctrl.addSearchTerm()"\n             ng-if="ctrl.showAddTermButton()">\n    <md-icon class="add-term-icon"\n             md-svg-src="{{::config.staticPathPrefix}}/ic_plus_sign_grey.svg">\n    </md-icon>\n      <span class="add-term-text"\n            ng-if="$root.globals.isMobileMode || ctrl.showTextOnAddTermButton()">\n        <span ng-show="terms.length <= 1">\n          Compare\n        </span>\n        <span ng-show="terms.length > 1">\n          Add comparison\n        </span>\n      </span>\n  </md-button>\n</div>\n'].join("\n")),
a.put("/explorepage/explore-pills-directive.html",['<div class="content-wrap">\n  <div class="compare-term-container"\n       ng-repeat="term in terms">\n    <explore-search-term\n        ng-class="{\'small-pill\': ctrl.isSmallPill()}"\n        term="term"\n        term-change-handler="ctrl.updateSearchTerm(entity, $index)"\n        reset-filters-handler="resetFiltersHandler()"\n        is-global-filters-mode="isGlobalFiltersMode"\n        is-web-search="isWebSearch"\n        is-small-pills-mode="ctrl.isSmallPill()"\n        is-single="terms.length === 1"\n        tab-handler="ctrl.handleTabKey($index)"\n        color="{{colors[$index]}}"\n        is-advanced-comparison="isAdvancedComparison">\n    </explore-search-term>\n    <explore-search-term-filter\n        ng-if="isAdvancedComparison"\n        term="term"\n        is-web-search="isWebSearch"\n        term-change-handler="ctrl.updateSearchTerm(entity, $index)">\n    </explore-search-term-filter>\n  </div>\n  <md-button class="compare-term-container add-term-button pill-outline"',
'             aria-label="'+c("Add a search term for comparison")+'"','             ng-class="{\'centered-add-term-button\': !($root.globals.isMobileMode || ctrl.showTextOnAddTermButton())}"\n             ng-click="ctrl.addSearchTerm()"\n             ng-if="ctrl.showAddTermButton()">\n    <md-icon class="add-term-icon"\n             md-svg-src="{{config.staticPathPrefix}}/ic_plus_sign_grey.svg">\n    </md-icon>\n      <span class="add-term-text"\n            ng-if="$root.globals.isMobileMode || ctrl.showTextOnAddTermButton()">\n        <span ng-show="terms.length <= 1">\n          Compare\n        </span>\n        <span ng-show="terms.length > 1">\n          Add comparison\n        </span>\n      </span>\n  </md-button>\n</div>\n'].join("\n")),
a.put("/explorepage/explorepage-desktop-new.html",['\x3c!-- TODO(b/29386053): Rename to explorepage-desktop.html after the advanced comparison development\nends. --\x3e\n\x3c!-- TODO(bstromza): use enums for all veId\'s.  --\x3e\n\x3c!-- LINT.IfChange --\x3e\n<div class="explorepage-content-header explorepage-content-header-advanced-comparison"\n     id="explorepage-content-header"\n     ng-class="{\'is-advanced-comparison\': ctrl.isAdvancedComparison}">\n\x3c!-- LINT.ThenChange(//depot/google3/java/com/google/trends/narrator/fe/client/explorepage/sticky-legend-bar-directive.js) --\x3e\n  <explore-pills-new\n      ng-if="ctrl.showPills()"\n      class="compare-terms explore-header-wrapper"\n      ng-keypress="ctrl.showExamples = false"\n      terms="ctrl.model.terms"\n      reset-filters-handler="ctrl.resetFilters()"\n      is-global-filters-mode="ctrl.isGlobalFiltersMode"\n      create-term-object="ctrl.createTermObject(term, geo, date, isFocus)"\n      pill-filters-change-handler="ctrl.handlePillFiltersUpdate(entity)"\n      is-web-search="ctrl.isWebSearch"\n      is-advanced-comparison="ctrl.isAdvancedComparison">\n  </explore-pills-new>\n  <div class="explorepage-examples-wrapper"\n       ng-if="globals.isDesktopMode && ctrl.showExamples && ctrl.examples.length">\n    <div class="explorepage-examples-container">\n      <div class="explorepage-examples-toolbar">\n        <div class="explorepage-examples-arrow"></div>\n        Start with an example\n        <md-icon class="explorepage-examples-close"\n                 ng-click="ctrl.showExamples = false"\n                 md-svg-src="{{::config.staticPathPrefix}}/ic_close_white_24dp.svg"',
'                 alt="'+c("Close")+'">','        </md-icon>\n      </div>\n      <carousel tracking-name="Explorepage Examples"\n                class="explorepage-examples-carousel"\n                layout="row">\n        <a class="explorepage-examples-carousel-widget-wrapper"\n           ng-repeat="example in ctrl.examples"\n           ng-href="{{::config.pathPrefix + example.url}}">\n          <trends-widget data="example.widget"\n                         story-title-array="::example.bullets"\n                         template="fe_explore_example">\n          </trends-widget>\n        </a>\n      </carousel>\n    </div>\n  </div>\n\n  <div class="compare-pickers-wrapper compare-pickers-wrapper-new explore-header-wrapper"\n       ng-if="globals.isDesktopMode && ctrl.geoOptions && ctrl.categoryOptions"\n       id="compare-pickers-wrapper">\n    <div class="compare-pickers compare-pickers-new content-wrap">\n      \x3c!--Geo picker--\x3e\n      <hierarchy-picker\n          class="compare-picker compare-geo"\n          data="ctrl.geoOptions"\n          track-name="geoPicker"\n          ng-model="ctrl.model.geo"\n          on-change="ctrl.onGlobalFilterChange()"\n          show-breadcrumbs="true"\n          ng-if="!ctrl.isAdvancedComparison">\n      </hierarchy-picker>\n\n      \x3c!--Time period picker--\x3e\n      <custom-date-picker\n          class="compare-picker compare-geo"\n          is-web-search="ctrl.isWebSearch"\n          md-container-class="explore-select-dropdown"\n          append-custom="true"\n          ng-if="!ctrl.isAdvancedComparison"\n          ng-model="ctrl.model.period"\n          on-change="ctrl.onGlobalFilterChange()"\n          options="ctrl.periodOptions">\n      </custom-date-picker>\n\n      \x3c!--Category picker--\x3e\n      <hierarchy-picker\n          class="compare-picker"\n          data="ctrl.categoryOptions"\n          track-name="CategoryPicker"\n          ng-model="ctrl.model.category">\n      </hierarchy-picker>\n\n      \x3c!--Search property picker--\x3e\n      <md-select\n          class="explore-select compare-picker"\n          md-container-class="explore-select-dropdown"\n          ng-model="ctrl.model.property"\n          ng-change="ctrl.trackPropertyChange(ctrl.model.property)"\n          track="[\'Explore\', \'Search property picker\', \'click\']"\n          aria-label="Select stories location">\n        <md-option\n            class="top-selector-option"\n            ng-value="search.id"\n            ng-repeat="search in ctrl.propertyOptions.iterator() | OrderBySelectedOptionFilter: ctrl.model.property">\n          {{search.name}}\n        </md-option>\n      </md-select>\n\n      \x3c!--Advanced comparison slider--\x3e\n      <div class="advanced-comparison-wrap">\n        <div class="advanced-comparison-switch">\n          <md-switch class="md-primary"\n                     ng-disabled="!ctrl.isAdvancedComparisonEnabled()"\n                     ng-class="{\'disabled\': !ctrl.isAdvancedComparisonEnabled()}"\n                     ng-model="ctrl.isAdvancedComparison"\n                     ng-change="ctrl.toggleIsAdvancedComparison()"\n                     md-invert="true" md-no-ink="true">\n            {{::ctrl.advancedComparisonMsg}}\n          </md-switch>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'].join("\n")),
a.put("/explorepage/explorepage-mobile-new.html",['\x3c!-- TODO(b/29386053): Rename to explorepage-mobile.html after the advanced comparison development\nends. --\x3e\n\x3c!-- LINT.IfChange --\x3e\n<div class="explorepage-content-header"\n     id="explorepage-content-header">\n\x3c!-- LINT.ThenChange(//depot/google3/java/com/google/trends/narrator/fe/client/explorepage/sticky-legend-bar-directive.js) --\x3e\n  <explore-pills\n    ng-if="!(ctrl.model.isDefaultData && ctrl.model.terms.length &&\n            ctrl.model.terms[0].selectedTerm.mid)"\n    class="compare-terms explore-header-wrapper"\n    ng-keypress="ctrl.showExamples = false"\n    terms="ctrl.model.terms"\n    reset-filters-handler="ctrl.resetFilters()"\n    is-global-filters-mode="ctrl.isGlobalFiltersMode"\n    create-term-object="ctrl.createTermObject(term, geo, date, isFocus)"\n    pill-filters-change-handler="ctrl.handlePillFiltersUpdate(entity)"\n    is-web-search="ctrl.isWebSearch">\n  </explore-pills>\n  <div class="explorepage-examples-wrapper"\n       ng-if="globals.isDesktopMode && ctrl.showExamples && ctrl.examples.length">\n    <div class="explorepage-examples-container">\n      <div class="explorepage-examples-toolbar">\n        <div class="explorepage-examples-arrow"></div>\n        Start with an example\n        <md-icon class="explorepage-examples-close"\n                 ng-click="ctrl.showExamples = false"\n                 md-svg-src="{{config.staticPathPrefix}}/ic_close_white_24dp.svg"',
'                 alt="'+c("Close")+'">','        </md-icon>\n      </div>\n      <carousel tracking-name="Explorepage Examples"\n                class="explorepage-examples-carousel"\n                layout="row">\n        <a class="explorepage-examples-carousel-widget-wrapper"\n           ng-repeat="example in ctrl.examples"\n           ng-href="{{::config.pathPrefix + example.url}}">\n          <trends-widget data="example.widget"\n                         story-title-array="::example.bullets"\n                         template="fe_explore_example">\n          </trends-widget>\n        </a>\n      </carousel>\n    </div>\n  </div>\n\n  <div class="compare-pickers-wrapper explore-header-wrapper"\n       ng-if="globals.isDesktopMode && ctrl.geoOptions && ctrl.categoryOptions"\n       id="compare-pickers-wrapper">\n    <div class="compare-pickers content-wrap">\n      \x3c!--Geo picker--\x3e\n      <hierarchy-picker\n          class="compare-picker"\n          data="ctrl.geoOptions"\n          track-name="geoPicker"\n          ng-model="ctrl.model.geo"\n          on-change="ctrl.onGlobalFilterChange()"\n          show-breadcrumbs="true"\n          ng-if="ctrl.isGlobalFiltersMode">\n      </hierarchy-picker>\n\n      \x3c!--Time period picker--\x3e\n      <custom-date-picker\n          class="compare-picker"\n          is-web-search="ctrl.isWebSearch"\n          md-container-class="explore-select-dropdown"\n          append-custom="true"\n          ng-if="ctrl.isGlobalFiltersMode"\n          ng-model="ctrl.model.period"\n          on-change="ctrl.onGlobalFilterChange()"\n          options="ctrl.periodOptions">\n      </custom-date-picker>\n\n      \x3c!--Category picker--\x3e\n      <hierarchy-picker\n          class="compare-picker"\n          data="ctrl.categoryOptions"\n          track-name="CategoryPicker"\n          ng-model="ctrl.model.category">\n      </hierarchy-picker>\n\n      \x3c!--Search property picker--\x3e\n      <md-select\n          class="explore-select compare-picker"\n          md-container-class="explore-select-dropdown"\n          ng-model="ctrl.model.property"\n          ng-change="ctrl.trackPropertyChange(ctrl.model.property)"\n          track="[\'Explore\', \'Search property picker\', \'click\']"\n          aria-label="Select stories location">\n        <md-option class="top-selector-option" ng-value="search.id"\n                   ng-repeat="search in ctrl.propertyOptions.iterator() |\n                       OrderBySelectedOptionFilter: ctrl.model.property">\n          {{search.name}}\n        </md-option>\n      </md-select>\n    </div>\n  </div>\n\n  <explore-mobile-hub\n      is-web-search="ctrl.isWebSearch"\n      ng-model-geo="ctrl.model.geo"\n      ng-model-period="ctrl.model.period"\n      ng-model-category="ctrl.model.category"\n      ng-model-property="ctrl.model.property"\n      visible-pickers="ctrl.mobileHubVisiblePickers"\n      visible-legend-pickers="ctrl.mobileHubLegendPickers"\n      show-legend="true"\n      ng-if="globals.isMobileMode"\n      on-change="ctrl.onGlobalFilterChange()">\n  </explore-mobile-hub>\n</div>\n'].join("\n")),
a.put("/explorepage/explorepage-new.html",'<div ve-tracking jslog="39383; t1rack:impression">\n  <header class="explore-header"\n          id="header"\n          background-image="{{::ctrl.bannerImgUrl}}"\n          page-subtitle="{{ctrl.model.terms.length > 1 ? ctrl.compareMsg : ctrl.exploreMsg}}"\n          enable-search="false"\n          share-config="ctrl.shareConfig">\n    <div class="explore-internal-note"\n         ng-if="ctrl.showExploreInternalNote">\n      CONFIDENTIAL: Google Only.  Do not share externally, do not screenshot.\n    </div>\n    <div class="explore-hidden-pill-text" ng-repeat="term in ctrl.model.terms">\n      {{term.selectedTerm.title}}\n    </div>\n    <ng-include src="\'/explorepage/explorepage-desktop-new.html\'"\n                ng-if="ctrl.rootScope_.globals.isDesktopMode">\n    </ng-include>\n    <ng-include src="\'/explorepage/explorepage-mobile-new.html\'"\n                ng-if="ctrl.rootScope_.globals.isMobileMode">\n    </ng-include>\n    <sticky-legend-bar\n        model="ctrl.model"\n        is-global-filters-mode="ctrl.isGlobalFiltersMode"\n        scroll-to\n        target-id="header"\n        trigger-action="click">\n    </sticky-legend-bar>\n  </header>\n\n  <loader ng-if="ctrl.isQuerying"></loader>\n\n  <error error-message="ctrl.errorMessage"\n         is-empty-state="ctrl.isEmptyState">\n  </error>\n\n  <md-content class="explorepage-content content" ng-if="ctrl.widgets.length && !ctrl.isQuerying">\n    <div class="content-wrap">\n      <div class="widget-container-wrapper" layout="row" layout-wrap>\n\n        <div ng-repeat="widget in ctrl.widgets"\n             flex="{{::widget.isLong ? 100 : 50}}"\n             class="widget-container">\n          <div id="{{::widget.id}}" class="widget-anchor"></div>\n\n          <trends-widget\n              data="widget"\n              explore-params-getter="ctrl.createRequestParams()"\n              time-range = "ctrl.timeRange"\n              share-title-getter="ctrl.generateWidgetShareTitle(widgetTitle)"\n              on-event="ctrl.onWidgetEvent(event, widget.index)"\n              export="ctrl.exploreService.exportAsCSV(widget.request, widget.token, widget.type)"\n              explore-query="ctrl.exploreUrl"\n              widget-name="{{::widget.id}}">\n          </trends-widget>\n        </div>\n      </div>\n    </div>\n  </md-content>\n</div>\n'),
a.put("/explorepage/explorepage.html",['\x3c!--TODO (bstromza): use enums for all veId\'s.  --\x3e\n<div ve-tracking jslog="39383; track:impression">\n  <header class="explore-header"\n          id="header"\n          background-image="{{::ctrl.bannerImgUrl}}"\n          page-subtitle="{{ ctrl.model.terms.length > 1 ?\n              ctrl.messages.MSG_COMPARE : ctrl.messages.MSG_EXPLORE }}"\n          enable-search="false"\n          share-config="ctrl.shareConfig">\n    <div class="explore-back-button-wrapper"\n        class="olympics-carousel-link" ng-if="ctrl.storyId">\n      <div class="back-button-link-wrapper">\n        <a href="{{::config.pathPrefix }}/story/{{ctrl.storyId}}">\n          <md-icon md-svg-src="{{::config.staticPathPrefix}}/ic_arrow_back_24px.svg"\n                  class="explore-back-button-arrow flip-rtl">\n          </md-icon>\n          <div class="explore-back-button-text">{{ctrl.storyTitle}}</div>\n        </a>\n      </div>\n    </div>\n    <div class="explore-internal-note"\n        ng-if="ctrl.showExploreInternalNote">\n      CONFIDENTIAL: Google Only.  Do not share externally, do not screenshot.\n    </div>\n    <div class="explore-hidden-pill-text" ng-repeat="term in ctrl.model.terms">\n      {{term.selectedTerm.title}}\n    </div>\n    <div class="explorepage-content-header" id="explorepage-content-header">\n      <explore-pills\n        ng-if="!(ctrl.model.isDefaultData && ctrl.model.terms.length &&\n                ctrl.model.terms[0].selectedTerm.mid)"\n        class="compare-terms explore-header-wrapper"\n        ng-keypress="ctrl.showExamples = false"\n        terms="ctrl.model.terms"\n        reset-filters-handler="ctrl.resetFilters()"\n        is-global-filters-mode="ctrl.isGlobalFiltersMode"\n        create-term-object="ctrl.createTermObject(term, geo, date, isFocus)"\n        pill-filters-change-handler="ctrl.handlePillFiltersUpdate(entity)"\n        is-web-search="ctrl.isWebSearch">\n      </explore-pills>\n      <div class="explorepage-examples-wrapper"\n            ng-if="globals.isDesktopMode && ctrl.showExamples && ctrl.examples.length">\n        <div class="explorepage-examples-container">\n          <div class="explorepage-examples-toolbar">\n            <div class="explorepage-examples-arrow"></div>\n            Start with an example\n            <md-icon class="explorepage-examples-close"\n                      ng-click="ctrl.showExamples = false"\n                      md-svg-src="{{config.staticPathPrefix}}/ic_close_white_24dp.svg"',
'                      alt="'+c("Close")+'">','            </md-icon>\n          </div>\n          <carousel tracking-name="Explorepage Examples"\n                    class="explorepage-examples-carousel"\n                    layout="row">\n            <a class="explorepage-examples-carousel-widget-wrapper"\n                ng-repeat="example in ctrl.examples"\n                ng-href="{{::config.pathPrefix + example.url}}">\n              <trends-widget data="example.widget"\n                              story-title-array="::example.bullets"\n                              template="fe_explore_example">\n              </trends-widget>\n            </a>\n          </carousel>\n        </div>\n      </div>\n\n      <div class="compare-pickers-wrapper explore-header-wrapper"\n            ng-if="globals.isDesktopMode && ctrl.geoOptions && ctrl.categoryOptions"\n            id="compare-pickers-wrapper">\n        <div class="compare-pickers content-wrap">\n          \x3c!--Geo picker--\x3e\n          <hierarchy-picker\n              class="compare-picker"\n              data="ctrl.geoOptions"\n              track-name="geoPicker"\n              ng-model="ctrl.model.geo"\n              on-change="ctrl.onGlobalFilterChange()"\n              show-breadcrumbs="true"\n              ng-if="ctrl.isGlobalFiltersMode">\n          </hierarchy-picker>\n\n          \x3c!--Time period picker--\x3e\n          <custom-date-picker\n              class="compare-picker"\n              is-web-search="ctrl.isWebSearch"\n              md-container-class="explore-select-dropdown"\n              append-custom="true"\n              ng-if="ctrl.isGlobalFiltersMode"\n              ng-model="ctrl.model.period"\n              on-change="ctrl.onGlobalFilterChange()"\n              options="ctrl.periodOptions">\n          </custom-date-picker>\n\n          \x3c!--Category picker--\x3e\n          <hierarchy-picker\n              class="compare-picker"\n              data="ctrl.categoryOptions"\n              track-name="CategoryPicker"\n              ng-model="ctrl.model.category">\n          </hierarchy-picker>\n\n          \x3c!--Search property picker--\x3e\n          <md-select\n              class="explore-select compare-picker"\n              md-container-class="explore-select-dropdown"\n              ng-model="ctrl.model.property"\n              ng-change="ctrl.trackPropertyChange(ctrl.model.property)"\n              track="[\'Explore\', \'Search property picker\', \'click\']"\n              aria-label="Select stories location">\n            <md-option class="top-selector-option" ng-value="search.id"\n                      ng-repeat="search in ctrl.propertyOptions.iterator() |\n                          OrderBySelectedOptionFilter: ctrl.model.property">\n              {{ search.name }}\n            </md-option>\n          </md-select>\n        </div>\n      </div>\n\n      <explore-mobile-hub\n          is-web-search="ctrl.isWebSearch"\n          ng-model-geo="ctrl.model.geo"\n          ng-model-period="ctrl.model.period"\n          ng-model-category="ctrl.model.category"\n          ng-model-property="ctrl.model.property"\n          visible-pickers="ctrl.mobileHubVisiblePickers"\n          visible-legend-pickers="ctrl.mobileHubLegendPickers"\n          show-legend="true"\n          ng-if="globals.isMobileMode"\n          on-change="ctrl.onGlobalFilterChange()">\n      </explore-mobile-hub>\n    </div>\n    <sticky-legend-bar\n        model="ctrl.model"\n        is-global-filters-mode="ctrl.isGlobalFiltersMode"\n        scroll-to\n        target-id="header"\n        trigger-action="click">\n    </sticky-legend-bar>\n  </header>\n\n  <loader ng-if="ctrl.isQuerying"></loader>\n\n  <error error-message="ctrl.errorMessage"\n        is-empty-state="ctrl.isEmptyState">\n  </error>\n\n  <md-content class="explorepage-content content" ng-if="ctrl.widgets.length && !ctrl.isQuerying">\n    <div class="content-wrap">\n      <div class="widget-container-wrapper" layout="row" layout-wrap>\n\n        <div ng-repeat="widget in ctrl.widgets"\n            flex="{{::widget.isLong ? 100 : 50}}"\n            class="widget-container">\n          <div id="{{::widget.id}}" class="widget-anchor"></div>\n\n          <trends-widget\n              data="widget"\n              explore-params-getter="ctrl.createRequestParams()"\n              time-range = "ctrl.timeRange"\n              share-title-getter="ctrl.generateWidgetShareTitle(widgetTitle)"\n              on-event="ctrl.onWidgetEvent(event, widget.index)"\n              export="ctrl.exploreService.exportAsCSV(widget.request, widget.token, widget.type)"\n              explore-query="ctrl.exploreUrl"\n              widget-name="{{widget.id}}"\n              show-multi-heat-map-message="ctrl.shouldShowMultiHeatMapMessage">\n          </trends-widget>\n        </div>\n      </div>\n    </div>\n  </md-content>\n</div>\n'].join("\n")),
a.put("/explorepage/pills-autocomplete-template.html",['<md-autocomplete\n    ng-class="{\'show-filters\': showFilters}"\n    class="pill-outline"','    placeholder="'+c("Add a search term")+'"','    md-selected-item-change="onAutoCompleteSelect(item)"\n    md-search-text="$parent.acInputTextItem"\n    md-items="item in getAutoCompleteListBind(acInputTextItem, true)"\n    md-item-text="item && item.title"\n    md-min-length="2"\n    md-delay="300"\n    md-no-cache="false">\n  <md-item-template>\n    <div class="autocomplete-entity autocomplete-title">{{ item.title }}</div>\n    <div class="autocomplete-entity autocomplete-desc">{{ item.type }}</div>\n  </md-item-template>\n</md-autocomplete>\n'].join("\n")),
a.put("/explorepage/search-term-autocomplete-mobile-dialog.html",'<md-dialog class="search-term-autocomplete-mobile-dialog"\n           aria-label="Search term autocomplete dialog">\n  <md-toolbar class="search-term-autocomplete-mobile-dialog-toolbar"\n              layout="row"\n              layout-align="start center">\n    \x3c!-- The click-close attribute is used to identify event target elements that close\n     the md-dialog, see search-term-autocomplete-mobile-dialog-controller.js --\x3e\n    <a class="search-term-autocomplete-mobile-dialog-close"\n       ng-click="ctrl.backArrowClickHandler($event)">\n      <md-icon class="flip-rtl"\n               md-svg-src="{{ctrl.config.staticPathPrefix}}/ic_arrow_back_24px.svg">\n      </md-icon>\n    </a>\n    <div class="search-term-autocomplete-mobile-dialog-title">\n      {{ctrl.dialogTitle}}\n    </div>\n  </md-toolbar>\n  <div class="search-term-autocomplete-mobile-dialog-autocomplete">\n    <ng-include src="\'/explorepage/pills-autocomplete-template.html\'">\n    </ng-include>\n  </div>\n</md-dialog>\n'),
a.put("/explorepage/search-term-directive-new.html",'<div class="pill-mobile-overlay"\n     ng-if="$root.globals.isMobileMode"\n     ng-click="showSearchTermAutocompleteDialog()">\n</div>\n<div class="search-term-wrapper"\n     ng-class="{\'individual-filters-on\': !isGlobalFiltersMode, \'term-not-selected\': !term.selectedTerm.mid}">\n  <span ng-style="{\'color\': \' \' + color}"\n        class="search-term-bullet">\n    &bull;\n  </span>\n  <ng-include src="\'/explorepage/pills-autocomplete-template.html\'">\n  </ng-include>\n  \x3c!--Clear text button.--\x3e\n  <div class="search-terms-delete-icon" ng-click="clearTermBind()">\n    <i class="material-icons-extended search-term-actions"\n       ng-class="{\'show-search-term-actions\': isTouchDevice}"\n       ng-show="term.selectedTerm.mid">\n      delete\n    </i>\n  </div>\n  <div class="search-term-entity-wrapper"\n       ng-if="term.selectedTerm.mid">\n    <div class="search-term-entity-desc">\n      {{ term.selectedTerm.type }}\n    </div>\n  </div>\n</div>\n'),
a.put("/explorepage/search-term-directive.html",'<div class="pill-mobile-overlay"\n     ng-if="$root.globals.isMobileMode"\n     ng-click="showSearchTermAutocompleteDialog()">\n</div>\n<div class="search-term-wrapper"\n     ng-class="{\'individual-filters-on\': !isGlobalFiltersMode, \'term-not-selected\': !term.selectedTerm.mid}">\n  <span ng-style="{\'color\': \' \' + color}"\n        class="search-term-bullet">\n    &bull;\n  </span>\n  <ng-include src="\'/explorepage/pills-autocomplete-template.html\'">\n  </ng-include>\n  \x3c!--Clear text button.--\x3e\n  <md-icon class="search-clear-button"\n           ng-if="$root.globals.isDesktopMode && acInputTextItem"\n           md-svg-src="{{config.staticPathPrefix}}/ic_close_24px.svg"\n           ng-click="clearInputBind()">\n  </md-icon>\n  <md-menu md-offset="{{optionsMenuOffset}}">\n    <div class="search-terms-options-menu-icon-button"\n         ng-click="openOptionsMenuBind($mdOpenMenu, $event)">\n      <md-icon class="search-term-actions"\n               ng-class="{\'show-search-term-actions\': isTouchDevice}"\n               md-menu-origin=""\n               ng-show="term.selectedTerm.mid"\n               md-svg-src="{{config.staticPathPrefix}}/more-vert.svg">\n      </md-icon>\n    </div>\n    <md-menu-content width="2"\n                     class="search-term-options-menu">\n      <md-menu-item>\n        <md-button ng-click="clearTermBind()">\n          <md-icon md-svg-src="{{config.staticPathPrefix}}/ic_close_24px.svg"\n                   md-menu-align-target="">\n          </md-icon>\n          Remove\n        </md-button>\n      </md-menu-item>\n      <md-menu-item>\n        <md-button ng-click="editTermBind()">\n          <md-icon md-svg-src="{{config.staticPathPrefix}}/ic_pencil_edit_sign_grey.svg"\n                   md-menu-align-target="">\n          </md-icon>\n          Edit\n        </md-button>\n      </md-menu-item>\n      <md-menu-item ng-if="!isSingle()">\n        <md-button ng-click="showFilterDialogBind($event)"\n                   ng-if="$root.globals.isDesktopMode">\n          <md-icon md-svg-src="{{config.staticPathPrefix}}/ic_filter_list_24px.svg"\n                   md-menu-align-target="">\n          </md-icon>\n          Change filters\n        </md-button>\n        <explore-mobile-hub\n            class="individual-search-term-hub"\n            is-web-search="isWebSearch"\n            ng-model-geo="term.selectedGeo.geo"\n            ng-model-period="term.selectedPeriod.period"\n            ng-if="$root.globals.isMobileMode"\n            show-legend="!isGlobalFiltersMode"\n            visible-pickers="[\'geo\', \'period\']"\n            individual-search-term="{{ term.selectedTerm.title }}"\n            on-change="termChangeHandler({\'entity\': term})">\n        </explore-mobile-hub>\n      </md-menu-item>\n      <md-menu-item ng-if="!isGlobalFiltersMode">\n        <md-button ng-click="resetFiltersHandler()">\n          <md-icon md-svg-src="{{config.staticPathPrefix}}/RemoveFilters.svg"\n                   md-menu-align-target="">\n          </md-icon>\n          Reset all filters\n        </md-button>\n      </md-menu-item>\n    </md-menu-content>\n  </md-menu>\n  <div class="search-term-entity-wrapper"\n       ng-if="term.selectedTerm.mid">\n    <div class="search-term-entity-desc">\n      {{ term.selectedTerm.type }}\n    </div>\n    <div class="search-term-entity-filters"\n         ng-if="!isGlobalFiltersMode && term.selectedTerm.mid">\n      <span ng-show="term.selectedGeo.geo">{{geoOptions.getNodeByID(term.selectedGeo.geo).name}}</span>\n      <span ng-show="!term.selectedGeo.geo">\n        Worldwide\n      </span>\n      <span ng-show="term.selectedPeriod.period.name">\n        , {{term.selectedPeriod.period.name}}\n      </span>\n      <span ng-show="!term.selectedPeriod.period.name">\n        , {{periodOptions.getNodeByID(term.selectedPeriod.period.id).name}}\n      </span>\n    </div>\n  </div>\n</div>\n'),
a.put("/explorepage/search-term-filter-dialog.html",'<div class="individual-search-term-pickers">\n  <div class="filters-wrapper">\n    <div class="filter-title">\n      Filter\n      <span class="filter-term-title">{{ ctrl.searchTermTitle }}</span>\n    </div>\n    <div class="individual-filter">\n      \x3c!--Geo picker--\x3e\n      <md-icon class="filter-icon"\n               md-svg-src="{{ config.staticPathPrefix }}/globe-image.svg">\n      </md-icon>\n      <hierarchy-picker\n          class="search-term-filter"\n          data="ctrl.geoOptions"\n          ng-model="ctrl.selectedGeo"\n          show-breadcrumbs="true">\n      </hierarchy-picker>\n    </div>\n   <div class="individual-filter">\n     \x3c!--Time period picker--\x3e\n     <md-icon class="filter-icon"\n              md-svg-src="{{ config.staticPathPrefix }}/ic_clock_grey.svg">\n     </md-icon>\n     \x3c!-- To reshow dialog on change use:\n     on-change="!isPreset && ctrl.showModal()" --\x3e\n     <custom-date-picker\n        class="search-term-filter"\n        is-web-search="ctrl.isWebSearch"\n        append-custom="true"\n        ng-model="ctrl.selectedPeriod"\n        on-change="!isPreset && ctrl.okClickHandle()"\n        on-cancel="ctrl.showModal()"\n        options="ctrl.periodOptions">\n     </custom-date-picker>\n   </div>\n  </div>\n  <div class="dialog-buttons">\n    <md-button ng-click="ctrl.hideModal()"\n               class="dialog-button">\n      CANCEL\n    </md-button>\n    <md-button ng-click="ctrl.okClickHandle()"\n        class="dialog-button">\n      OK\n    </md-button>\n  </div>\n</div>\n'),
a.put("/explorepage/search-term-filter-directive.html",'<div class="pill-filter-wrap">\n  <div class="filter-wrap">\n    <hierarchy-picker class="search-term-filter advanced-comparison-picker"\n                      term="term"\n                      data="geoOptions"\n                      ng-model="term.selectedGeo.geo"\n                      show-breadcrumbs="true"\n                      on-change="termChangeFunction()">\n    </hierarchy-picker>\n  </div>\n  <div class="filter-wrap">\n    <custom-date-picker class="search-term-filter advanced-comparison-picker"\n                        term="term"\n                        append-custom="true"\n                        ng-model="term.selectedPeriod.period"\n                        is-web-search="isWebSearch"\n                        options="periodOptions"\n                        on-change="termChangeFunction()">\n    </custom-date-picker>\n  <div>\n</div>\n'),
a.put("/explorepage/sticky-legend-bar-directive.html",'<div class="sticky-legend-bar-wrapper" ng-class="{\'showBar\': shouldShowStickyLegend}">\n  <div class="sticky-legend-bar">\n    <div class="sticky-legend-terms-container">\n      <div class="sticky-legend-term" ng-repeat="term in model.terms"\n           title="{{term.selectedTerm.title}}">\n        <div class="sticky-legend-term-circle" ng-style="{\'background-color\': colors[$index]}">\n        </div>\n        <div class="sticky-legend-term-title">{{term.selectedTerm.title}}</div>\n      </div>\n    </div>\n    <div class="sticky-legend-filters-description">\n      {{filtersCaption}}\n    </div>\n  </div>\n</div>\n'),
a.put("/fullscreenpage/fullscreenpage.html",['<div class="page-top"></div>\n<div class="header-wrapper header-wrapper-fs"\n     ng-class="{\'header-shadow-fs\' : ctrl.isTitleShadow}">\n  <div class="header-background-fs">\n  </div>\n  <div class="header-container-fs">\n    <div class="logo-container logo-container-fs" dir="ltr">\n      <div ng-class="{\'line-separator\' : ctrl.category}">\n        <a class="logo-wrapper-fs"\n           href="{{::config.pathPrefix}}{{::ctrl.getTrendingSearchesUrl()}}"\n           track="[\'General\', \'Logo\', \'Click\']">\n          <md-icon class="google-logo header-logo header-logo-fs">\n          </md-icon>\n        </a>\n      </div>\n      <span class="category-fs"\n            ng-if="ctrl.category">\n        {{ctrl.category}}\n      </span>\n    </div>\n    <div class="page-index-bullets"\n         ng-if="ctrl.realNumberOfPages > 1">\n      <span ng-repeat="i in ctrl.pageBulletsArray track by $index"\n            ng-class="{\'selected-page-index-bullets\' : ctrl.currentPageNumber === $index,\n                       \'pointer\' : ctrl.isPageScrollInProgress,\n                       \'bulletDisable\' : !ctrl.isPageScrollInProgress}"\n            ng-click="!ctrl.isPageScrollInProgress || ctrl.bulletClick($index)">\n        &bull;\n      </span>\n    </div>\n    <div class="toggle-page-scroll">\n      <md-switch ng-model="autoScrollPause"\n                 switch switch-value="ctrl.isPageScrollInProgress" switch-on="\'pause-button-svg.svg\'"  switch-off="\'play-button-svg.svg\'"',
'                 aria-label="'+c("Toggle auto page scroll")+'"','                 md-no-ink="false"\n                 ng-change="ctrl.togglePageScroll(autoScrollPause)">\n      </md-switch>\n    </div>\n    <a class="exit-full-screen"\n       ng-href="{{::config.pathPrefix}}{{::ctrl.getTrendingSearchesUrl()}}">\n      <md-icon md-svg-src="{{config.staticPathPrefix}}/ic_fullscreen_exit_white_24dp.svg"\n               class="exit-full-screen-img"','               alt="'+c("Exit Full Screen")+'">',
'      </md-icon>\n    </a>\n  </div>\n</div>\n\n\x3c!-- refreshTrendingStoriesFS_() loader & error message --\x3e\n<loader ng-if="ctrl.isQuerying && !(ctrl.trendingDataFullscreen.length)"></loader>\n\n<ng-include src="\'/components/layout/error-state.html\'"\n            ng-if="ctrl.errorMessage && !(ctrl.trendingDataFullscreen.length)">\n</ng-include>\n\n<div ng-if="!(ctrl.isQuerying || ctrl.errorMessage) || ctrl.trendingDataFullscreen.length">\n  <div class="content-wrap-full-screen">\n    <div class="homepage-trending-stories-fs generic-container"\n         ng-if="!ctrl.isQuerying || ctrl.trendingDataFullscreen.length">\n      <div class="error-message"\n           ng-if="ctrl.showErrorMessage && !ctrl.trendingDataFullscreen.length">\n        <p class="error-message-title">\n          No stories are trending on Google in this category\n        </p>\n      </div>\n\n      <md-list class="md-list-block"\n               ng-if="ctrl.trendingDataFullscreen.length">\n        <md-list-item class="md-list-item-full-screen"\n                      ng-class="{\'new-list-item-full-screen\' : story.positionFlag === \'new\'}"\n                      ng-repeat="story in ctrl.trendingDataFullscreen"\n                      class="trending-list-item"\n                      ng-init="storyIndex=$index">\n          <div class="trending-story-container-fs">\n            <trending-story class="trending-story-full-screen"\n                            id="{{::story.id}}"\n                            sparkline="story.sparkline"\n                            story-index="storyIndex + 1"\n                            story-title="{{::story.title}}"\n                            story-articles="story.articles"\n                            story-title-array="story.entityNames"\n                            image-url="{{::story.image.imgUrl}}"\n                            news-url="{{::story.image.newsUrl}}"\n                            image-source="{{::story.image.source}}"\n                            hide-image="ctrl.hideAllImages"\n                            show-news-snippet="true"\n                            sparkline-size="ctrl.sparklineSize"\n                            ng-class="{\'disable-border-bottom\':$last}">\n            </trending-story>\n            <md-icon class="trending-story-label-fs trending-up"\n                     md-svg-src="{{config.staticPathPrefix}}/ic_keyboard_arrow_up_black_48px.svg"\n                     ng-if="story.positionFlag === \'up\'"\n                     alt="[[]]">\n            </md-icon>\n            <md-icon class="trending-story-label-fs trending-down"\n                     md-svg-src="{{config.staticPathPrefix}}/ic_keyboard_arrow_down_black_48px.svg"\n                     ng-if="story.positionFlag === \'down\'"\n                     alt="[[]]">\n            </md-icon>\n          </div>\n        </md-list-item>\n      </md-list>\n    </div>\n  </div>\n</div>\n'].join("\n")),
a.put("/homepage/content.html",'<div class="home-page-content-container" ng-class="{\'no-examples\': !ctrl.isExamplesVisible}">\n  <examples class="examples-container"></examples>\n  <editorials geo-id="ctrl.geoId"></editorials>\n  <recently-trending geo-id="ctrl.geoId"></recently-trending>\n  <yis-card geo-id="ctrl.geoId"></yis-card>\n</div>\n<ng-include src="\'/homepage/news-lab-content.html\'"></ng-include>\n'),a.put("/homepage/editorials/editorial-item/editorial-item.html",'<a class="editorial-item-container"\n   ng-class="{\'main-card\': isMainItem}"\n   ng-href="{{::url}}"\n   target="{{::url.startsWith(\'/\') ? \'_self\' : \'_blank\'}}"\n   track="[\'Homepage\', \'click\', \'editorial item isMainItem - \' + isMainItem]">\n  <div class="editorial-item"\n       ng-class="{\'editorial-item-rtl-fix\': ctrl.doesNeedRtlFix}">\n    <div class="editorial-item-text featured" ng-if="isMainItem">\n      featured\n    </div>\n    <div class="editorial-item-text" ng-class="isMainItem ? \'main-card-title\' : \'title\'">\n      {{::editorialTitle}}\n    </div>\n    <div class="editorial-item-text description" multi-line-ellipsis>{{::description}}</div>\n  </div>\n  <div class="editorial-item editorial-image-container">\n    <trends-widget data="widget" template="fe_featured_homepage"\n                   is-main-editorial-item="isMainItem">\n    </trends-widget>\n  </div>\n  <div class="editorial-item link-container">\n    <div class="editorials-link">\n      <div class="editorial-item-link">{{::urlText}}</div>\n      <i class="material-icons-extended blue-link flip-icon-rtl">{{::urlIcon}}</i>\n    </div>\n  </div>\n</a>\n'),
a.put("/homepage/editorials/editorials.html",'<div class="home-page-section-container editorials-container" ng-if="ctrl.showEditorials()">\n  <div class="home-page-section-title">\n    Latest Stories and Insights\n  </div>\n  <div class="home-page-section-explanation">\n    Explore how Google data can be used to tell stories.\n  </div>\n  <div class="editorials-content-container">\n    <editorial-item ng-if="ctrl.editorials.mainCard"\n                    editorial-title="::ctrl.editorials.mainCard.title"\n                    description="::ctrl.editorials.mainCard.description"\n                    widget="::ctrl.editorials.mainCard.widget"\n                    url="::ctrl.editorials.mainCard.url"\n                    url-text="::ctrl.editorials.mainCard.urlText"\n                    url-icon="::ctrl.editorials.mainCard.urlIcon"\n                    is-main-item="true">\n    </editorial-item>\n    <div class="editorials-wrap-items-container">\n      <editorial-item ng-repeat="editorialItem in ctrl.editorials.cards | limitTo: ctrl.numberOfCardsToDisplay"\n                      class="editorial-not-main-card"\n                      editorial-title="::editorialItem.title"\n                      description="::editorialItem.description"\n                      widget="::editorialItem.widget"\n                      url="::editorialItem.url"\n                      url-text="::editorialItem.urlText"\n                      url-icon="::editorialItem.urlIcon">\n      </editorial-item>\n      <div class="loading-more-editorial-spinner" ng-if="ctrl.loadingEditorials">\n        <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n      </div>\n    </div>\n  </div>\n  <div class="editorials-show-more-container"\n       ng-click="ctrl.showMore()"\n       ng-if="ctrl.showShowMoreButton"\n       track="[\'Homepage\', \'click\', \'show more editorials\']">\n    <div class="editorials-show-more-button">{{::ctrl.showMoreText}}</div>\n    <i class="material-icons-extended gray">keyboard_arrow_down</i>\n  </div>\n</div>\n'),
a.put("/homepage/examples/examples.html",'<div class="homepage-examples-container" ng-show="ctrl.showExamples">\n  <div class="homepage-examples-arrow-box">\n    <div class="homepage-examples-toolbar">\n      <div>{{::ctrl.startWithExampleMsg}}</div>\n      <button ng-click="ctrl.hideExmaples()"\n              class="hide-examples-button"\n              track="[\'Homepage\', \'click\', \'hide examples\']">\n        HIDE\n      </button>\n    </div>\n    <div class="homepage-examples-templates-container">\n      <a class="homepage-examples-content"\n         ng-class="{\'one-item\': ctrl.visibleExamples.length === 1}"\n         ng-if="ctrl.examples.length"\n         ng-repeat="example in ctrl.visibleExamples"\n         ng-href="{{::example.url}}"\n         track="[\'Homepage\', \'click\', \'click on example\']">\n        <trends-widget data="::example.widget"\n                       story-title-array="::example.bullets"\n                       template="fe_explore_example">\n        </trends-widget>\n      </a>\n    </div>\n    <pagination max-items-per-page="ctrl.maxItemsPerPage"\n                total-number-of-items="ctrl.examples.length"\n                pagination-text="\'examples\'"\n                carousel-behavior="true"\n                current-page="ctrl.firstIndexInView">\n    </pagination>\n  </div>\n</div>\n'),
a.put("/homepage/header/header.html",'<div class="home-page-header-container">\n  <div class="home-page-header-title">\n    Explore what the world is searching\n  </div>\n  <div class="home-page-header-autocomplete-container">\n    <autocomplete ng-if="!ctrl.isSmallWidth"\n                  placeholder="::ctrl.autocompletePlaceHolder"\n                  has-icon="true"\n                  class-name="\'search-repeat home-page\'"\n                  input-text="ctrl.autocompleteText">\n    </autocomplete>\n    <div class="autocomplete-mobile-container"\n         ng-click="ctrl.openAutocompleteDialog()"\n         track="[\'Homepage\', \'search\', \'open autocomplete dialog\']"\n         ng-if="ctrl.isSmallWidth">\n      <div class="autocomplete-mobile-text">{{::ctrl.autocompletePlaceHolder}}</div>\n      <i class="material-icons-extended white">search</i>\n    </div>\n  </div>\n  <div class="home-page-header-examples-container"\n       ng-click="ctrl.showExamples()"\n       track="[\'Homepage\', \'click\', \'show examples\']"\n       ng-class="{\'show-button\': ctrl.isEditorialsApiCompleted}">\n    <div class="home-page-header-examples-text">{{::ctrl.examplesHeaderText}}</div>\n    <i class="material-icons-extended white">keyboard_arrow_down</i>\n  </div>\n</div>\n'),
a.put("/homepage/home-page.html",'<div class="home-page-container">\n  <header enable-search="false"\n          is-story-page="false"\n          is-home-page="true"\n          page-title="Trends"\n          is-new-breakpoints-range="true"\n          explore-bar-input-text="ctrl.autocompleteText">\n  </header>\n  <ng-include src="\'/homepage/header/header.html\'"></ng-include>\n  <div ng-show="ctrl.isEditorialsApiCompleted">\n    <ng-include src="\'/homepage/content.html\'"></ng-include>\n    <footer></footer>\n  </div>\n  <ng-include src="\'/homepage/welcome-message.html\'"\n              ng-if="!ctrl.isSmallWidth && ctrl.showWelcomeMessage">\n  </ng-include>\n</div>\n'),
a.put("/homepage/news-lab-content.html",'<div class="news-lab-wrapper">\n  <div class="news-lab-container">\n    <div class="news-lab-content">\n      <div class="news-lab-title">\n        Google News Initiative\n      </div>\n      <div class="news-lab-description">\n        The Google News Initiative is our effort to work with the news industry to help journalism thrive in the digital age. If you\u2019re interested in learning how to use Google\'s tools, explore our training center for over 40 lessons on Google products, including Google Trends. \n      </div>\n      <div class="news-lab-links-container">\n        <a class="news-lab-link"\n           ng-href="https://newsinitiative.withgoogle.com/"\n           target="_blank"\n           track="[\'Homepage\', \'click\', \'learn more link - news section\']">\n          <span>\n            LEARN MORE\n          </span>\n          <i class="material-icons-extended blue-light size-20 flip-icon-rtl">\n            open_in_new\n          </i>\n        </a>\n        <a class="news-lab-link"\n           ng-href="https://newsinitiative.withgoogle.com/training/lessons?tool=Google%20Trends&image=trends"\n           target="_blank"\n           track="[\'Homepage\', \'click\', \'take google trends lessons link\']">\n          <span>\n            TAKE GOOGLE TRENDS LESSONS\n          </span>\n          <i class="material-icons-extended blue-light size-20 flip-icon-rtl">\n            open_in_new\n          </i>\n        </a>\n      </div>\n    </div>\n    <div class="news-lab-image-container">\n      <div class="news-lab-image"></div>\n    </div>\n  </div>\n</div>\n'),
a.put("/homepage/recently-trending/list-item/list-item.html",'<a class="list-item-container"\n   ng-href="{{::url}}"\n   track="[\'Homepage\', \'click\', \'recently trending item\']">\n  <div class="list-item-content-container">\n    <div class="list-item-title">{{::itemTitle}}</div>\n    <div class="list-item-searches">{{::description}}</div>\n  </div>\n</a>\n'),a.put("/homepage/recently-trending/recently-trending.html",'<div class="home-page-section-container recently-trending-container">\n  <div class="home-page-section-title">{{ctrl.recentlyTrendingTitle}}</div>\n  <div class="home-page-section-explanation">\n    Keep up with the latest trending searches\n  </div>\n  <div class="recently-trending-list-container">\n    <div class="recently-trending-list">\n      <recently-trending-list-item ng-repeat="item in ctrl.recentlyTrendingItems | limitTo: ctrl.maxItemsToDisplay"\n                                   class="recently-trending-list-item"\n                                   item-title="item.title"\n                                   description="item.description"\n                                   url="item.trendingSearchUrl">\n      </recently-trending-list-item>\n    </div>\n    <a class="list-item-container link"\n       ng-href="{{::ctrl.pathPrefix}}/trendingsearches/daily?geo={{::geoId}}"\n       ng-if="!ctrl.isGlobalGeo"\n       track="[\'Homepage\', \'click\', \'more trending searches link\']">\n      <div class="more-trending-searches-link">\n        More trending searches\n      </div>\n      <i class="material-icons-extended blue-link flip-icon-rtl">arrow_forward</i>\n    </a>\n  </div>\n</div>\n'),
a.put("/homepage/welcome-message-bottom-sheet/welcome-message-bottom-sheet.html","<md-bottom-sheet>\n  <ng-include src=\"'/homepage/welcome-message.html'\"></ng-include>\n</md-bottom-sheet>\n"),a.put("/homepage/welcome-message.html",'<div class="welcome-message">\n  <div class="welcome-message-title">{{::ctrl.welcomeMessage.title}}</div>\n  <div class="welcome-message-body">\n    <span>{{::ctrl.welcomeMessage.body}}</span>\n  </div>\n  <div class="welcome-message-button" ng-click="ctrl.dismissWelcomeMessage()">\n    <span>\n      Got it\n    </span>\n  </div>\n</div>\n'),
a.put("/homepage/yis-card/yis-card.html",'<div class="home-page-section-container yis-container">\n  <div class="home-page-section-title">\n    Year in Search\n  </div>\n  <div class="home-page-section-explanation">\n    See what was trending on Google by year\n  </div>\n  <div class="yis-card">\n    <div class="image-and-list-wrapper">\n      <img class="yis-card-image"\n           ng-src="{{ctrl.globalsService.isSmallDisplayWidth ? ctrl.yisSmallImage : ctrl.yisLargeImage}}"\n           preserveAspectRatio="xMidYMid slice">\n      <div class="yis-list">\n        \x3c!-- TODO(b/74374701): Make sure back button works after reaching YIS pages.\n             Remove traget=_blank when bug is resolved. --\x3e\n        <a class="yis-link"\n           ng-repeat="yis in ctrl.yisVisibleList"\n           ng-href="{{::yis.url}}"\n           target="_blank"\n           track="[\'Homepage\', \'click\', \'yis link: \' + yis.url]">\n          <div class="yis-link-border-mobile"></div>\n          <div class="yis-link-container">\n            <div class="yis-link-text">{{::yis.caption}}</div>\n            <i class="material-icons-extended size-16 blue-link flip-icon-rtl">arrow_forward</i>\n          </div>\n        </a>\n      </div>\n    </div>\n    <pagination max-items-per-page="ctrl.maxItemsPerPage"\n                total-number-of-items="ctrl.yisList.length"\n                is-long="true"\n                current-page="ctrl.currentPage">\n    </pagination>\n  </div>\n</div>\n'),
a.put("/modules/embed_stories/embed-stories.html",'<loader ng-if="ctrl.isQuerying && !ctrl.trendingData.length"></loader>\n\n<div class="embed-stories-wrapper">\n  <div class="trendingData"\n       ng-if="ctrl.showErrorMessage && !ctrl.trendingData.length">\n    <p class="embed-stories-error-message">\n      No stories are trending on Google in this category\n    </p>\n  </div>\n\n  <md-list class="md-list-block"\n           ng-if="ctrl.trendingData.length">\n    <md-list-item class="md-list-item-embed-stories"\n                  ng-class="{\'new-list-item-full-screen\' : story.positionFlag === \'new\'}"\n                  ng-repeat="story in ctrl.trendingData"\n                  class="trending-list-item"\n                  ng-init="storyIndex=$index">\n      <div class="trending-story-container-fs">\n        <trending-story class="trending-story-embed-stories"\n                        id="{{::story.id}}"\n                        sparkline="story.sparkline"\n                        story-index="storyIndex + 1"\n                        story-title="{{::story.title}}"\n                        story-articles="story.articles"\n                        story-title-array="story.entityNames"\n                        image-url="{{::story.image.imgUrl}}"\n                        news-url="{{::story.image.newsUrl}}"\n                        image-source="{{::story.image.source}}"\n                        hide-image="false"\n                        show-news-snippet="true"\n                        sparkline-size="ctrl.sparklineSize",\n                        is-embed-stories="true"\n                        ng-class="{\'disable-border-bottom\':$last}">\n        </trending-story>\n        <md-icon class="trending-story-label-embed-stories trending-up"\n                 md-svg-src="{{config.staticPathPrefix}}/ic_keyboard_arrow_up_black_48px.svg"\n                 ng-if="story.positionFlag === \'up\'"\n                 alt="[[]]">\n        </md-icon>\n        <md-icon class="trending-story-label-embed-stories trending-down"\n                 md-svg-src="{{config.staticPathPrefix}}/ic_keyboard_arrow_down_black_48px.svg"\n                 ng-if="story.positionFlag === \'down\'"\n                 alt="[[]]">\n        </md-icon>\n      </div>\n    </md-list-item>\n  </md-list>\n</div>\n'),
a.put("/modules/yis2015/share-embed-dialog.html",'<md-dialog class="share-dialog">\n  <md-content>\n    <md-subheader class="share-dialog-title">Share and embed</md-subheader>\n\n    <div class="share-dialog-content-element-wrapper">\n      <div class="share-dialog-content-element"\n           ng-repeat="network in ctrl.networks"\n           ng-init="displayName = network.config.displayName"\n           ng-click="ctrl.dispatchNetwork(network)"\n           track="[\'YIS\', \'Share\', displayName]">\n        <md-icon md-svg-src="{{ctrl.config.staticPathPrefix}}/{{icons[network.identifier]}}"\n                 class="story-share-social-icon"\n                 alt="Share">\n        </md-icon>\n      </div>\n    </div>\n\n    <div class="embed-textarea-description">\n      Paste this into any HTML page:\n    </div>\n\n    <textarea readonly class="embed-textarea"><iframe frameborder="0" scrolling="no" width="100%" height="510" src="{{::ctrl.getSitePath()}}{{::ctrl.config.pathPrefix}}/2015/viz?embed=true"></iframe></textarea>\n  </md-content>\n\n  <div class="md-dialog-actions" layout="row">\n    <a ng-click="ctrl.hideModal()" class="share-dialog-button">Cancel</a>\n  </div>\n</md-dialog>\n'),
a.put("/modules/yis2015/viz.html",'<div class="trends-wrapper">\n  <div class="yis-viz-header">\n    <a href="/trends/"\n       ng-if="!isEmbed"\n       target="_blank"\n       class="yis-viz-header-logo-wrapper">\n      <img ng-src="{{::config.staticPathPrefix}}/lockup_trends_clr_24px.svg">\n    </a>\n    <a href="/trends/"\n       ng-if="isEmbed"\n       target="_blank"\n       class="yis-viz-header-logo-wrapper">\n      <img ng-src="{{::config.staticPathPrefix}}/lockup_trends_clr_20px.svg">\n    </a>\n    <div class="yis-viz-embed-header-rule"\n         ng-if="isEmbed"></div>\n    <div class="yis-viz-embed-header-title"\n          ng-if="isEmbed">\n      Year in Search 2015 Timeline\n    </div>\n    <md-icon class="yis-viz-embed-header-share flip-rtl"\n             ng-if="isEmbed"\n             ng-click="showShareAndEmbedDialog()"\n             md-svg-src="{{::config.staticPathPrefix}}/i-share.svg"\n             aria-label="Share and embed"\n             alt="Share and embed">\n    </md-icon>\n  </div>\n  <trends-widget template="fe_embed">\n  </trends-widget>\n  <button class="yis-viz-share-button"\n             ng-if="!isEmbed"\n             aria-label="Share and embed"\n             ng-click="showShareAndEmbedDialog()"\n             track="[\'YIS 2015 VIZ\', \'Share and embed\', \'Open\']">\n    <md-icon md-svg-src="{{::config.staticPathPrefix}}/ic_googleplus_reshare_24px.svg"\n             class="story-share-image flip-rtl"\n             alt="Share and embed">\n    </md-icon>\n  </button>\n</div>\n'),
a.put("/storypage/ELECTIONS_2016_CANDIDATE_STORY.html",'<div class="elections-str-story-header-content content-wrap" ng-if="ctrl.numberOfWidgets">\n  <div class="elections-str-story-header-content-wrapper">\n    <div class="elections-str-story-header-content-cell">\n      <a ng-if="ctrl.eventName"\n         href="{{ctrl.backToStoryURL}}"\n         class="elections-str-story-header-back-button md-button ng-scope ng-isolate-scope md-ink-ripple"\n         aria-label="{{ctrl.eventName}}"\n         track="ctrl.candidatesTrackArray">\n        <md-icon class="flip-rtl"\n                 md-svg-src="{{ctrl.arrowBackPath}}">\n        </md-icon>\n        <span class="elections-str-story-header-back-text">{{ctrl.eventName}}</span>\n      </a>\n      <h1 id="storyTitle"\n          bidi="ctrl.entityNames"></h1>\n      <h2 id="storySubTitle"\n          bidi="ctrl.subTitle"\n          ng-show="ctrl.subTitle"></h2>\n    </div>\n  </div>\n</div>\n'),
a.put("/storypage/ELECTIONS_2016_STATE_STORY.html",'<div class="elections-story-header-content content-wrap" ng-if="ctrl.numberOfWidgets">\n  <div class="elections-story-header-content-wrapper">\n    <div class="elections-story-header-content-cell">\n      <a ng-if="ctrl.eventName"\n         href="{{ctrl.backToStoryURL}}"\n         class="elections-story-header-back-button md-button ng-scope ng-isolate-scope md-ink-ripple"\n         aria-label="{{ctrl.eventName}}"\n         track="ctrl.stateTrackArray">\n        <md-icon class="flip-rtl"\n                 md-svg-src="{{ctrl.arrowBackPath}}">\n        </md-icon>\n        <span class="elections-story-header-back-text">{{ctrl.eventName}}</span>\n      </a>\n      <h1 id="storyTitle"\n          bidi="ctrl.entityNames"></h1>\n      <h2 id="storySubTitle"\n          bidi="ctrl.subTitle"\n          ng-show="ctrl.subTitle"></h2>\n    </div>\n  </div>\n</div>\n'),
a.put("/storypage/OLYMPICS_2016_FEATURED_STORIES.html",'<div class="oly-story-header-content content-wrap" ng-if="ctrl.numberOfWidgets">\n  <div class="oly-story-header-content-wrapper">\n    <div class="oly-story-header-content-cell">\n      <a ng-if="ctrl.eventName"\n         href="{{ctrl.backToStoryURL}}"\n         class="oly-story-header-back-button md-button ng-scope ng-isolate-scope md-ink-ripple"\n         aria-label="{{ctrl.eventName}}"\n         track="[\'Story-OLY\', \'Header Back\', \'Click\']">\n        <md-icon class="flip-rtl"\n                 md-svg-src="{{ctrl.arrowBackPath}}">\n        </md-icon>\n        <span class="oly-story-header-back-text">{{ctrl.eventName}}</span>\n      </a>\n      <h1 id="storyTitle"\n          bidi="ctrl.entityNames.length ? ctrl.entityNames : ctrl.title"></h1>\n      <h2 id="storySubTitle"\n          bidi="ctrl.subTitle"\n          ng-show="ctrl.subTitle"></h2>\n    </div>\n  </div>\n</div>\n'),
a.put("/storypage/OLYMPICS_2016_HUB.html",'<div class="olympics-content-header-container">\n  <div class="storypage-content-header olympics-content-header content-wrap"\n       ng-if="ctrl.numberOfWidgets">\n    <div class="vertical-middle">\n      <h1 class="olympics-story-title"\n          bidi="ctrl.title | typography"></h1>\n      <h2 class="olympics-story-subtitle"\n          bidi="ctrl.subTitle | typography"\n          ng-if="ctrl.subTitle"></h2>\n    </div>\n  </div>\n</div>\n'),a.put("/storypage/REGULAR_STORY.html",
'<div class="storypage-content-header content-wrap" ng-if="ctrl.numberOfWidgets">\n  <h1 bidi="ctrl.entityNames"></h1>\n  <h2>{{ctrl.timeRange}}</h2>\n</div>\n'),a.put("/storypage/YEAR_IN_SEARCH_2015_HUB.html",'<div class="yis-content-header-container">\n  <div class="storypage-content-header yis-content-header content-wrap"\n       ng-if="ctrl.numberOfWidgets">\n    <div class="vertical-middle">\n      <h1 class="yis-story-title" bidi="ctrl.entityNames"></h1>\n      <video-overlay video-url="ctrl.bannerVideoUrl"></video-overlay>\n    </div>\n    <share config="ctrl.shareConfig" icon-only="true" ng-if="ctrl.shareConfig"></share>\n  </div>\n</div>\n'),
a.put("/storypage/YEAR_IN_SEARCH_2015_STORY.html",'<div class="yis-story-header-content content-wrap" ng-if="ctrl.numberOfWidgets">\n  <div class="yis-story-header-content-wrapper">\n    <div class="yis-story-header-content-cell">\n      <a ng-if="ctrl.eventName"\n         href="{{ctrl.backToStoryURL}}"\n         class="yis-story-header-back-button md-button ng-scope ng-isolate-scope md-ink-ripple"\n         aria-label="{{ctrl.eventName}}"\n         track="[\'Story-YIS\', \'Header Back\', \'Click\']">\n        <md-icon class="flip-rtl"\n                 md-svg-src="{{ ctrl.arrowBackPath }}">\n        </md-icon>\n        <span class="yis-story-header-back-text">{{ctrl.eventName}}</span>\n      </a>\n      <h1 id="storyTitle"\n          bidi="ctrl.entityNames"></h1>\n      <h2 id="storySubTitle"\n          bidi="ctrl.subTitle"\n          ng-show="ctrl.subTitle"></h2>\n    </div>\n  </div>\n  <h3>{{ctrl.timeRange}}</h3>\n  <share config="ctrl.shareConfig"\n         ng-if="ctrl.shareConfig"\n         icon-only="true"></share>\n</div>\n'),
a.put("/storypage/elections-hub.html",'<div class="elections-content-header-container">\n  <div class="storypage-content-header elections-content-header content-wrap"\n       ng-if="ctrl.numberOfWidgets">\n    <div class="vertical-middle">\n      <h1 bidi="ctrl.title | typography"></h1>\n      <h2 bidi="ctrl.subTitle | typography"\n          ng-if="ctrl.subTitle"></h2>\n      <div class="elections-content-header-disclaimer">\n        Search data is an indication of curiosity in the subject or candidate. It should not be considered an indication of voter intent.\n        <a href="https://support.google.com/trends/answer/4355213?hl=en&ref_topic=4365599">\n          Learn more</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),
a.put("/storypage/elections-tabs.html",'<md-tabs md-border-bottom\n         md-center-tabs\n         md-no-pagination\n         md-no-ink\n         md-stretch-tabs="always">\n  <md-tab ng-repeat="tabName in ctrl.getTabNames()"\n          ng-init="tabStoryId = ctrl.electionsTabsStoriesIds[$index]"\n          md-active="ctrl.storyId == tabStoryId">\n    <md-tab-label>\n      <a href="{{ ::$root.config.pathPrefix }}/story/{{ ::tabStoryId }}"\n          ng-click="$event.ctrlKey && $event.stopPropagation()"\n          ng-if="ctrl.storyId != tabStoryId">\n        {{ ::tabName }}\n      </a>\n\n      <span ng-if="ctrl.storyId == tabStoryId">{{ ::tabName }}</span>\n    </md-tab-label>\n  </md-tab>\n</md-tabs>\n'),
a.put("/storypage/olympics-featured-story.html",'<div class="oly-str-story-header-content content-wrap" ng-if="ctrl.numberOfWidgets">\n  <div class="oly-str-story-header-content-wrapper"\n       ng-class="{\'oly-goobers\': ctrl.isOlympics2016GoobersLayout}">\n    <div class="oly-str-story-header-content-cell">\n      <a ng-if="ctrl.eventName"\n         href="{{ctrl.backToStoryURL}}"\n         class="oly-str-story-header-back-button md-button ng-scope ng-isolate-scope md-ink-ripple"\n         aria-label="{{ctrl.eventName}}"\n         track="[\'Story-OLY-STR\', \'Header Back\', \'Click\']">\n        <md-icon class="flip-rtl"\n                 md-svg-src="{{ctrl.arrowBackPath}}">\n        </md-icon>\n        <span class="oly-str-story-header-back-text">{{ctrl.eventName}}</span>\n      </a>\n      <h1 id="storyTitle"\n          bidi="ctrl.entityNames.length ? ctrl.entityNames : ctrl.title"></h1>\n      <h2 id="storySubTitle"\n          bidi="ctrl.subTitle"\n          ng-show="ctrl.subTitle"></h2>\n    </div>\n  </div>\n  <h3 ng-show="ctrl.isOlympics2016StoryLayout">{{ctrl.timeRange}}</h3>\n</div>\n'),
a.put("/storypage/storypage-version-mobile-dialog.html",'<md-dialog class="story-version-mobile-dialog">\n  <md-toolbar layout="row" layout-align="start center"\n              class="story-version-mobile-dialog-toolbar">\n    <a class="story-version-mobile-dialog-button-wrapper"\n       ng-click="ctrl.mdDialog.cancel()">\n      <md-icon class="story-version-mobile-dialog-button flip-rtl"\n               md-svg-src="{{ctrl.arrowBackPath}}">\n      </md-icon>\n    </a>\n    <div class="story-version-mobile-dialog-title">\n      Select country\n    </div>\n  </md-toolbar>\n  <md-content class="story-version-mobile-dialog-content">\n    <md-list>\n      <md-item ng-repeat="el in ctrl.storyVersions"\n               ng-click="ctrl.selectionHandler(el.id)"\n               class="story-version-mobile-dialog-item">\n        <div class="story-version-mobile-dialog-item-text">\n          {{el.name}}\n        </div>\n      </md-item>\n    </md-list>\n  </md-content>\n</md-dialog>\n'),
a.put("/storypage/storypage.html",'<header share-config="ctrl.shareConfig"\n        body-scroll="ctrl.bodyScroll"\n        enable-scroll-opacity="true"\n        background-image="{{ ctrl.model.bannerImgUrl }}"\n        page-layout="ctrl.model.pageLayout"\n        story-promise="ctrl.storyPromise"\n        parent-story-id="ctrl.model.parentStoryId"\n        content-overlap="{{ctrl.setContentOverlap()}}"\n        background-color="{{ ctrl.palette && ctrl.palette[0].hexvalue }}"\n        ng-class="{\'yis-2016-hub\': ctrl.isYis2016HubLayout, \'yis-2015-hub\': ctrl.isYis2015HubLayout}">\n  <ng-include ng-if="ctrl.headerTemplate && ctrl.headerTemplate !== \'EMPTY_STORY\'"\n              src="\'/storypage/\' + ctrl.headerTemplate + \'.html\'">\n  </ng-include>\n</header>\n\n<div class="content olympics-content" ng-if="ctrl.components.length">\n  <div class="content-wrap">\n    <div ng-repeat="comp in ctrl.components">\n      <div class="olympics-carousel-wrapper" ng-if="comp.component.type === \'IMAGE_CAROUSEL\'">\n        <div ng-class="{\'carousel-item-shadow\': ctrl.globalsService.isMobileMode}">\n          <carousel tracking-name="olympics carousel" class="olympics-carousel"\n                    layout="row">\n            <a class="olympics-carousel-widget-wrapper"\n               ng-repeat="widget in comp.widgets"\n               ng-href="{{ctrl.config.pathPrefix + \'/story/\' + comp.component.id}}">\n              <trends-widget data="widget" template="fe_goober_featured"></trends-widget>\n              <div class="olympics-carousel-link-wrapper"\n                   ng-if="ctrl.globalsService.isMobileMode">\n                <div ng-href="{{ctrl.config.pathPrefix + \'/story/\' + comp.component.id}}"\n                   class="olympics-carousel-link">\n                  see more\n                  <md-icon md-svg-src="{{::config.staticPathPrefix}}/ic_arrow_forward_24px.svg"\n                           class="olympics-carousel-link-arrow flip-rtl">\n                  </md-icon>\n                </div>\n              </div>\n            </a>\n          </carousel>\n          <div class="olympics-carousel-link-wrapper"\n               ng-if="ctrl.globalsService.isDesktopMode">\n            <a ng-href="{{ctrl.config.pathPrefix + \'/story/\' + comp.component.id}}"\n               class="olympics-carousel-link">\n                see more\n              <md-icon md-svg-src="{{::config.staticPathPrefix}}/ic_arrow_forward_24px.svg"\n                       class="olympics-carousel-link-arrow flip-rtl">\n              </md-icon>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div ng-if="comp.component.type === \'TOP_FEATURED\'" class="olympics-featured-widgets">\n        <div class="widget-container-wrapper" layout="row" layout-wrap>\n          <div flex="100" class="widget-container">\n            <div class="olympics-featured-insights-title">\n              featured insights\n            </div>\n          </div>\n        </div>\n        <div class="widget-container-wrapper olympics-widget-container" layout="row"\n             layout-wrap>\n          <div flex="50" class="widget-container"\n               ng-repeat="widget in comp.widgets">\n            <div id="{{::widget.id}}" class="widget-anchor"></div>\n            <trends-widget data="widget"\n                           on-event="ctrl.onWidgetEvent(event)"\n                           story-id="{{::ctrl.storyId}}"\n                           story-parent-id="{{::ctrl.model.parentStoryId}}"\n                           story-timestamp="{{::ctrl.model.timestamp}}"\n                           story-title="{{::ctrl.model.title}}"\n                           palette="ctrl.palette">\n            </trends-widget>\n          </div>\n        </div>\n        <div class="olympics-featured-insights-link-wrapper">\n          <a ng-href="{{ctrl.config.pathPrefix + \'/story/\' + comp.component.id}}"\n             class=" olympics-featured-insights-button-wrapper">\n            <md-button class="md-raised md-primary olympics-featured-insights-button">\n              all featured insights\n            </md-button>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="content-wrap" ng-if="ctrl.isYis2015HubLayout">\n  <div class="widget-container-wrapper"\n       layout="row" layout-wrap>\n    <div flex="100" class="widget-container yis-subtitle-container">\n      <div class="yis-hub-subtitle-text">\n        {{ctrl.subTitle}}\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- refresh_() loader & error message --\x3e\n<div ng-if="!ctrl.numberOfWidgets">\n  <loader ng-if="ctrl.isQuerying"></loader>\n\n  <ng-include class="floating"\n              src="\'/components/layout/error-state.html\'"\n              ng-if="ctrl.showErrorMessage">\n  </ng-include>\n</div>\n\n<md-content class="content {{ctrl.pageLayoutType}}"\n            ng-class="{\'firstAtomIsText\': ctrl.firstAtomIsFeText}"\n            ng-if="ctrl.showContent && !ctrl.isYis2016HubLayout">\n  <ng-include class="elections-hub-tabs"\n              src="\'/storypage/elections-tabs.html\'"\n              ng-if="ctrl.pageLayoutType === \'elections-content\'">\n  </ng-include>\n\n  <div class="content-wrap">\n    <div class="widget-container-wrapper" layout="row" layout-wrap>\n      <div flex="100"\n           class="widget-container yis-story-country-selector"\n           ng-if="ctrl.isYisHubLayout">\n        <md-select class="top-selector" aria-label="Select stories location"\n                   ng-model="ctrl.selectedCountry"\n                   ng-change="ctrl.routeToSelectedYisCountryPage()">\n          <md-option ng-value="opt"\n                     class="top-selector-option"\n                     ng-repeat="opt in ctrl.storyVersions | OrderBySelectedOptionFilter:ctrl.selectedCountry.id">\n            {{opt.name}}\n          </md-option>\n        </md-select>\n      </div>\n\n      <div flex="{{::widget.isLong ? 100 : 50}}"\n           class="widget-container"\n           ng-class="{\'hub-page-content-container\': ctrl.model.pageLayout == \'YEAR_IN_SEARCH_2015_HUB\'}"\n           ng-repeat="widget in ctrl.widgets track by $index">\n        <div id="{{::widget.id}}" class="widget-anchor"></div>\n\n        <trends-widget\n            data="widget"\n            on-event="ctrl.onWidgetEvent(event)"\n            story-id="{{::ctrl.storyId}}"\n            story-parent-id="{{::ctrl.model.parentStoryId}}"\n            story-timestamp="{{::ctrl.model.timestamp}}"\n            story-title="{{::ctrl.model.title}}"\n            palette="ctrl.palette">\n        </trends-widget>\n      </div>\n    </div>\n  </div>\n\n  <scroll-to class="storypage-pagination"\n             offset="-100"\n             on-trigger="ctrl.getNextPage()"\n             ng-if="ctrl.getCurrentPageNumber() < ctrl.widgetsPagesCount">\n    \x3c!-- getNextPage() loader --\x3e\n    <div class="storypage-pagination-loader-wrapper">\n      <md-progress-circular class="md-default-theme scroll-loader"\n                            md-diameter="30px"\n                            md-mode="indeterminate"\n                            ng-show="ctrl.isQuerying">\n      </md-progress-circular>\n\n      <md-button ng-hide="ctrl.isQuerying"\n                  ng-click="ctrl.getNextPage()">\n        Load More\n      </md-button>\n    </div>\n  </scroll-to>\n</md-content>\n'),
a.put("/subscriptionspage/subscriptions-list-desktop.html",['<div class="subscription-items title" ng-if="ctrl.subscriptionsService.subscriptionsList.length">\n  <div class="subscription-item item">{{::ctrl.subscriptionsItem}}</div>\n  <div class="subscription-item">{{::ctrl.subscriptionsRegion}}</div>\n  <div class="subscription-item">{{::ctrl.subscriptionsType}}</div>\n  <div class="subscription-item">{{::ctrl.subscriptionsHowOften}}</div>\n</div>\n<div class="subscription-item-container"\n     ng-repeat="subscriptionItem in ctrl.subscriptionsService.subscriptionsList">\n  <div class="subscription-items" ng-click="ctrl.editSubscription(subscriptionItem)">\n    <div class="subscription-item item" title="{{::ctrl.getItemTitle(subscriptionItem)}}">\n      {{::ctrl.getItemTitle(subscriptionItem)}}\n    </div>\n    <div class="subscription-item" title="{{::subscriptionItem.geo.name}}">\n      {{::subscriptionItem.geo.name}}\n    </div>\n    <div class="subscription-item" title="{{::subscriptionItem.type}}">\n      {{::subscriptionItem.type}}\n    </div>\n    <div class="subscription-item" title="{{::subscriptionItem.frequency.name}}">\n      {{::subscriptionItem.frequency.name}}\n    </div>\n  </div>\n  <div class="subscription-item-button-wrapper">\n    <div class="subscription-item-button"',
'         title="'+c("Edit subscription")+'"','         ng-click="ctrl.editSubscription(subscriptionItem)">\n      <i class="material-icons-extended gray">mode_edit</i>\n    </div>\n    <div class="subscription-item-button"','         title="'+c("Delete subscription")+'"','         ng-click="ctrl.deleteSubscription(subscriptionItem)">\n      <i class="material-icons-extended gray">delete</i>\n    </div>\n  </div>\n</div>\n'].join("\n")),a.put("/subscriptionspage/subscriptions-list-mobile.html",'<div class="subscription-item-container"\n     ng-repeat="subscriptionItem in ctrl.subscriptionsService.subscriptionsList"\n     ng-if="ctrl.subscriptionsService.subscriptionsList.length">\n  <div class="subscription-item-mobile-top">\n    <div class="item">{{::ctrl.getItemTitle(subscriptionItem)}}</div>\n    <div class="subscription-item-button" ng-click="ctrl.editSubscription(subscriptionItem)">\n      <i class="material-icons-extended gray button">mode_edit</i>\n    </div>\n  </div>\n  <div class="subscription-item-mobile-bottom">\n    <div class="subscription-item-mobile">\n      <span>\n        Region:\n      </span>\n      <span class="item">{{::subscriptionItem.geo.name}}</span>\n    </div>\n    <div class="subscription-item-mobile">\n      <span>\n        Type:\n      </span>\n      <span class="item">{{::subscriptionItem.type}}</span>\n    </div>\n    <div class="subscription-item-mobile">\n      <span>\n        How often:\n      </span>\n      <span class="item">{{::subscriptionItem.frequency.name}}</span>\n    </div>\n  </div>\n</div>\n'),
a.put("/subscriptionspage/subscriptions.html",['<div class="subscription-wrapper">\n  <header class="subscriptions-header"\n          content-overlap="ctrl.contentOverlapPx"\n          enable-scroll-opacity="false"\n          enable-search="false"\n          hide-feedback-button="true"\n          is-home-page="false"\n          is-story-page="false"\n          page-subtitle="{{::ctrl.subscriptionsHeaderTitle}}"\n          is-new-breakpoints-range="true">\n  </header>\n  <div class="empty-subscriptions-container" ng-if="ctrl.showNoSubscriptionsMessage()">\n    <div class="empty-subscriptions-title">\n      You have no subscriptions\n    </div>\n    <div class="empty-subscriptions-content">\n      Click + to create a new subscription\n    </div>\n  </div>\n  <div class="subscription-list-container">\n    <md-progress-circular class="md-default-theme main-loader"\n                          md-diameter="30px"\n                          md-mode="indeterminate"\n                          ng-if="ctrl.isQuerying">\n    </md-progress-circular>\n    <ng-include src="ctrl.subscriptionsListTemplate"></ng-include>\n  </div>\n  <div class="add-subscription-container"\n       ng-click="ctrl.addSubscription()"\n       ng-class="{\'with-toast\': ctrl.subscriptionsService.isToastVisible}"',
'       title="'+c("Add subscription")+'">','    <i class="material-icons-extended white">add</i>\n  </div>\n</div>\n<delete-subscription-dialog ng-if="ctrl.subscriptionsService.isDeleteDialogOpen"\n                            delete-subscription="ctrl.subscriptionsService.deleteSubscriptionBind"\n                            close-dialog="ctrl.subscriptionsService.closeDeleteDialogBind">\n</delete-subscription-dialog>\n'].join("\n")),a.put("/trendingfeedpage/feed-realtime-trends.html",'<div class="homepage-trending-stories generic-container">\n  <div class="content-header first">\n    <div class="content-header-title">{{ctrl.realTimeHeaderTitle}}</div>\n    <div class="content-header-buttons">\n      <filter has-category="true"\n              on-category-change="ctrl.onCategoryChangeBind"\n              ng-if="ctrl.selectedTab === ctrl.tabNames.REALTIME_SEARCHES"\n              icon-class-mobile="black-light">\n      </filter>\n      <help-dialog data="ctrl.realTimeHelpDialogData"></help-dialog>\n    </div>\n  </div>\n  <div ng-if="ctrl.showRealtimeErrorMessage()"\n       class="no-search-error realtime"\n       ng-bind-html="ctrl.getErrorMessage()">\n  </div>\n  <md-list class="md-list-block"\n           ng-if="ctrl.realTimeTrendingSearches.length && !ctrl.isQuerying"\n           ng-repeat="item in ctrl.realTimeTrendingSearches track by $index">\n    <feed-item index={{$index+1}}\n               image-url={{::item.imageUrl}}\n               image-source="{{item.shouldShowImageSource ? item.imageSource : \'\'}}"\n               search-count={{::item.searchCount}}\n               subtitles="item.subtitles"\n               title-array="item.titleArray"\n               chips="item.chips"\n               carousel="item.carousel"\n               share-url="{{::item.shareUrl}}"\n               story-id="{{::item.storyId}}">\n    </feed-item>\n  </md-list>\n  <md-progress-circular class="md-default-theme trending-feed-loader"\n                        md-diameter="30px"\n                        md-mode="indeterminate"\n                        ng-if="ctrl.isQuerying && !ctrl.isLoadingMore">\n  </md-progress-circular>\n</div>\n'),
a.put("/trendingfeedpage/feed-search-trends.html",['<div class="content-wrap">\n    <div class="generic-container-wrapper">\n      <div class="homepage-trending-stories generic-container"\n           ng-if="!ctrl.isQuerying">\n        <div ng-if="!ctrl.dailyTrendingSearches.length"\n             class="no-search-error"\n             ng-bind-html="ctrl.getErrorMessage()">\n        </div>\n        <div class="feed-list-wrapper"\n             ng-if="ctrl.dailyTrendingSearches.length"\n             ng-repeat="trendingData in ctrl.dailyTrendingSearches">\n          <div class="content-header" ng-class="{\'not-first\': !$first}">\n            <div class="content-header-title">{{::trendingData.day}}</div>\n            <div class="content-header-buttons"\n                 ng-class="{\'daily-header-buttons\': ctrl.selectedTab === ctrl.tabNames.DAILY_SEARCHES}"\n                 ng-if="$first">\n              <i class="clickable-icon material-icons-extended black-light"\n                 ng-click="ctrl.openSubscriptionDialog()"\n                 ng-if="ctrl.selectedTab === ctrl.tabNames.DAILY_SEARCHES"\n                 track="[\'Trending Searches daily\', \'click\', \'subscriptions dialog\']"\n                 title="{{::ctrl.subscribeText}}">\n                email\n              </i>\n              <a ng-href="{{ctrl.dailyRssPage}}"\n                 class="clickable-icon"\n                 target="_blank"\n                 ng-if="ctrl.selectedTab === ctrl.tabNames.DAILY_SEARCHES && !ctrl.globalsService.isSmallDisplayWidth">\n                <i class="material-icons-extended black-light"\n                   track="[\'Trending Searches daily\', \'click\', \'rss feed\']"',
'                   title="'+c("RSS feed")+'">','                  rss_feed\n                </i>\n              </a>\n              <i class="clickable-icon material-icons-extended gray"\n                 ng-if="!ctrl.globalsService.isSmallDisplayWidth"\n                 ng-click="ctrl.showEmbedModal()"\n                 track="[\'Trending Searches daily\', \'click\', \'embed dialog\']"','                 title="'+c("Embed")+'">','                code\n              </i>\n              <help-dialog data="ctrl.dailyHelpDialogData"></help-dialog>\n            </div>\n          </div>\n          <md-list class="md-list-block"\n                   ng-class="{\'one-after-selected\': ctrl.oneAfterSelectedListItemIndex === $index,\n                             \'first-list-item\': $first, \'last-list-item\': $last}"\n                   ng-click="ctrl.selectListItem($index)"\n                   ng-if="trendingData.feedItems.length"\n                   ng-repeat="item in trendingData.feedItems track by $index">\n            <feed-item index={{$index+1}}\n                       image-url={{::item.imageUrl}}\n                       image-source="{{item.shouldShowImageSource ? item.imageSource : \'\'}}"\n                       search-count={{::item.searchCount}}\n                       subtitles="item.subtitles"\n                       title-array="item.titleArray"\n                       chips="item.chips"\n                       carousel="item.carousel"\n                       share-url="{{::item.shareUrl}}">\n            </feed-item>\n          </md-list>\n        </div>\n      </div>\n    <md-progress-circular class="md-default-theme trending-feed-loader"\n                          md-diameter="30px"\n                          md-mode="indeterminate"\n                          ng-if="ctrl.isQuerying && !ctrl.isLoadingMore">\n    </md-progress-circular>\n    </div>\n</div>\n<delete-subscription-dialog ng-if="ctrl.subscriptionsService.isDeleteDialogOpen"\n                            delete-subscription="ctrl.subscriptionsService.deleteSubscriptionBind"\n                            close-dialog="ctrl.subscriptionsService.closeDeleteDialogBind">\n</delete-subscription-dialog>\n'].join("\n")),
a.put("/trendingfeedpage/trending-feed-page.html",'<div class="trending-feed-page-wrapper">\n  <header class="trending-feed-header"\n          content-overlap="ctrl.contentOverlapPx"\n          enable-scroll-opacity="false"\n          is-home-page="false"\n          is-story-page="false"\n          page-subtitle="{{ctrl.pageSubtitle}}"\n          enable-geo-picker="true"\n          is-new-breakpoints-range="true"\n          on-geo-change="ctrl.onGeoChangeBind">\n  </header>\n  <div class="trending-feed-tabs">\n    <div class="tab-contianer"\n         ng-class="{\'selected\': ctrl.selectedTab === tab.name}"\n         ng-repeat="tab in ctrl.tabOptions">\n      <a class="tab-title"\n         ng-href="{{ctrl.getTabUrl(tab.name)}}"\n         ng-class="{\'selected\': ctrl.selectedTab === tab.name}"\n         track="[\'Trending Searches \' + ctrl.selectedTab, \'click\', \'tab select\']">\n        {{tab.title}}\n      </a>\n    </div>\n    <div class="geo-picker" ng-if="ctrl.globalsService.isLargeDisplayWidth">\n      <filter has-geo="true" on-geo-change="ctrl.onGeoChangeBind" icon-name-mobile="language">\n      </filter>\n    </div>\n  </div>\n  <div class="feed-content">\n    <div class="content-wrap trending-feed">\n      <div class="generic-container-wrapper">\n        <ng-include class="trending-feed-content"\n                    src="\'/trendingfeedpage/feed-search-trends.html\'"\n                    ng-if="ctrl.selectedTab === ctrl.tabNames.DAILY_SEARCHES">\n        </ng-include>\n        <ng-include class="trending-feed-content"\n                    src="\'/trendingfeedpage/feed-realtime-trends.html\'"\n                    ng-if="ctrl.selectedTab === ctrl.tabNames.REALTIME_SEARCHES">\n        </ng-include>\n      </div>\n      <div class="feed-load-more-button"\n           ng-if="ctrl.shouldShowLoadingMoreItemsSpinner()"\n           ng-click="ctrl.loadMoreFeedItems()">\n        Load more\n      </div>\n      <md-progress-circular class="md-default-theme trending-feed-loader"\n                      md-diameter="30px"\n                      md-mode="indeterminate"\n                      ng-if="ctrl.isLoadingMore">\n      </md-progress-circular>\n    </div>\n  </div>\n  <footer class="trending-searches-footer"></footer>\n</div>\n'),
a.put("/yis/YEAR_IN_SEARCH_HUB.html",'<div class="yis-content-header-container">\n  <div class="year-picker-link-wrapper">\n    <yis-year-picker></yis-year-picker>\n  </div>\n  <div class="storypage-content-header yis-content-header"\n       ng-class="{\'default-banner-image\': ctrl.isDefaultBanner()}">\n    <div class="vertical-middle">\n      <h1 class="yis-story-title yis" ng-class="{\'hindu-retina-fix\': ctrl.yisLocale === \'hi\'}">\n        {{::ctrl.getYisTitle()}}\n      </h1>\n      <video-overlay class="yis"\n                     video-url="ctrl.model.bannerVideoUrl"\n                     ng-if="!!ctrl.model.bannerVideoUrl"></video-overlay>\n    </div>\n    <share config="ctrl.shareConfig"\n           class="yis-share"\n           icon-only="true"\n           ng-if="ctrl.globalsService.isDesktopMode">\n    </share>\n  </div>\n</div>\n'),
a.put("/yis/yis-content.html",'<div class="yis-content yis">\n  <div class="yis-content-container">\n    <div class="yis-filters-container" id="yis-filters-container">\n      <md-icon md-svg-src="{{::config.staticPathPrefix}}/ic_google_trends_36px_clr.svg"\n               class="yis-trends-logo"\n               alt="Google Trends logo">\n      </md-icon>\n      <span ng-if="ctrl.isCurrentYearShowingTrendingSearches()">\n        {{::ctrl.getYisTrendingGeoPickerTitle()}}\n      </span>\n      <span ng-if="!ctrl.isCurrentYearShowingTrendingSearches()">\n        {{::ctrl.getYisMostSearchedGeoPickerTitle()}}\n      </span>\n      <yis-country-filter selected-geo="ctrl.selectedGeo"></yis-country-filter>\n    </div>\n    <yis year={{ctrl.yisYear}} geo-id=\'ctrl.selectedGeo.id\'></yis>\n    <ng-include src="\'/yis/yisFooterButtons/yis-footer-buttons.html\'"\n                ng-show=\'ctrl.shouldDisplayYisFooterButtons()\'>\n    </ng-include>\n  </div>\n</div>\n'),
a.put("/yis/yis.html",'<header share-config="ctrl.shareConfig"\n        body-scroll="ctrl.bodyScroll"\n        enable-scroll-opacity="true"\n        background-image="{{ctrl.model.bannerImgUrl}}"\n        content-overlap="{{ctrl.setContentOverlap()}}"\n        hide-feedback-button="ctrl.shouldHideFeedbackButton()"\n        ng-class="{\'default-banner\': ctrl.isDefaultBanner()}">\n  <ng-include src="\'/yis/YEAR_IN_SEARCH_HUB.html\'"></ng-include>\n</header>\n<ng-include src="\'/yis/yis-content.html\'"></ng-include>\n'),
a.put("/yis/yisFooterButtons/yis-footer-buttons.html",'<div class="yis-buttons-container"\n     ng-class="ctrl.globalsService.isMobileMode ? \'mobile\' : \'desktop\'">\n  <div class="yis-button-container"\n       ng-click="ctrl.openHelpDialog()"\n       ng-if="ctrl.isCurrentYearShowingTrendingSearches()"\n       track="[\'\', \'Learn More\', \'Click Learn More\']">\n    <i class="material-icons-extended yis-gray">info</i>\n    <div class="yis-button-text">\n      Learn how the lists are populated\n    </div>\n  </div>\n  <div class="yis-button-container feedback"\n       ng-click="ctrl.feedbackService.sendFeedback()"\n       ng-if="ctrl.globalsService.isMobileMode"\n       track="[\'\', \'Feedback\', \'Send Feedback\']">\n    <i class="material-icons-extended yis-gray">feedback</i>\n    <div class="yis-button-text">\n      Send Feedback\n    </div>\n  </div>\n</div>\n'),
a.put("/yis/yisFooterButtons/yis-help-dialog.html",'<md-dialog class="yis-2017">\n  <md-dialog-content class="yis-help-dialog-container">\n    <div class="yis-help-dialog-img-wrapper">\n      <md-icon md-svg-src="{{::config.staticPathPrefix}}/yis-help-dialog-graph-only-img.svg"\n               class="yis-help-dialog-img">\n      </md-icon>\n      <div class="graph-years" dir="ltr">\n        <div class="yis-previous-year">{{ctrl.yisYear - 1}}</div>\n        <div class="yis-current-year">{{ctrl.yisYear}}</div>\n      </div>\n    </div>\n    <div class="yis-help-dialog-text">\n      Lists are based on search terms that had the highest spike this year as compared to the previous year.\n    </div>\n    <button class="yis-help-close-btn" ng-click="ctrl.closeHelpDialog()">\n      got it\n    </button>\n  </md-dialog-content>\n</md-dialog>\n'))}]);angular.module("ddmLocalization",[]);var Ya=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ya);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};y(Ya,Error);Ya.prototype.name="CustomError";var Za;var $a=function(a,b){for(var c=a.split("%s"),e="",f=c.length-1,g=0;g<f;g++)e+=c[g]+(g<b.length?b[g]:"%s");Ya.call(this,e+c[f]);this.messagePattern=a};y($a,Ya);$a.prototype.name="AssertionError";
var ab=function(a,b,c,e){var f="Assertion failed";if(c){f+=": "+c;var g=e}else a&&(f+=": "+a,g=b);throw new $a(""+f,g||[]);},z=function(a,b,c){a||ab("",null,b,Array.prototype.slice.call(arguments,2));return a},A=function(a,b){throw new $a("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},cb=function(a,b,c){"number"!==typeof a&&ab("Expected number but got %s: %s.",[v(a),a],b,Array.prototype.slice.call(arguments,2));return a},db=function(a,b,c){"string"!==typeof a&&ab("Expected string but got %s: %s.",
[v(a),a],b,Array.prototype.slice.call(arguments,2));return a},eb=function(a,b,c){za(a)||ab("Expected array but got %s: %s.",[v(a),a],b,Array.prototype.slice.call(arguments,2));return a},fb=function(a,b,c){Ca(a)&&1==a.nodeType||ab("Expected Element but got %s: %s.",[v(a),a],b,Array.prototype.slice.call(arguments,2));return a},hb=function(a,b,c,e){a instanceof b||ab("Expected instanceof %s but got %s.",[gb(b),gb(a)],c,Array.prototype.slice.call(arguments,3));return a},gb=function(a){return a instanceof
Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};var ib=Array.prototype.indexOf?function(a,b,c){z(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},jb=Array.prototype.forEach?function(a,b,c){z(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,f="string"===typeof a?a.split(""):a,g=0;g<e;g++)g in f&&b.call(c,
f[g],g,a)},kb=Array.prototype.filter?function(a,b,c){z(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=[],g=0,k="string"===typeof a?a.split(""):a,l=0;l<e;l++)if(l in k){var n=k[l];b.call(c,n,l,a)&&(f[g++]=n)}return f},lb=Array.prototype.map?function(a,b,c){z(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=Array(e),g="string"===typeof a?a.split(""):a,k=0;k<e;k++)k in g&&(f[k]=b.call(c,g[k],k,a));return f},
mb=function(a,b,c){a:{for(var e=a.length,f="string"===typeof a?a.split(""):a,g=0;g<e;g++)if(g in f&&b.call(c,f[g],g,a)){b=g;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]},ob=function(a,b){b=ib(a,b);var c;(c=0<=b)&&nb(a,b);return c},nb=function(a,b){z(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},pb=function(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]},qb=function(a,b,c){z(null!=a.length);return 2>=arguments.length?
Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};var tb=function(a,b){var c=rb(a);c&&"undefined"!=typeof c[b]&&(a&&(a instanceof c[b]||!(a instanceof c.Location||a instanceof c.Element))||A("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,sb(a)));return a},sb=function(a){if(Ca(a))try{return a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(b){return"<object could not be stringified>"}else return void 0===a?"undefined":null===a?"null":typeof a},rb=function(a){try{var b=a&&a.ownerDocument,
c=b&&(b.defaultView||b.parentWindow);c=c||r;if(c.Element&&c.Location)return c}catch(e){}return null};var ub=function(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var vb=function(a,b,c){for(var e in a)b.call(c,a[e],e,a)},wb=function(a,b,c){var e={},f;for(f in a)e[f]=b.call(c,a[f],f,a);return e},xb=function(a,b,c){for(var e in a)if(b.call(c,a[e],e,a))return!0;return!1},yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),zb=function(a,b){for(var c,e,f=1;f<arguments.length;f++){e=arguments[f];for(c in e)a[c]=e[c];for(var g=0;g<yb.length;g++)c=yb[g],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}};var Ab={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};var Db=function(a,b){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a===Bb&&b||"";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=Cb};Db.prototype.implementsGoogStringTypedString=!0;Db.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};Db.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};
var Eb=function(a){if(a instanceof Db&&a.constructor===Db&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===Cb)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;A("expected object of type Const, got '"+a+"'");return"type_error:Const"},Cb={},Bb={};var Gb=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Fb};Gb.prototype.implementsGoogStringTypedString=!0;var Fb={};Gb.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};Gb.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"};
var Hb=function(a){if(a instanceof Gb&&a.constructor===Gb&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Fb)return a.privateDoNotAccessOrElseSafeScriptWrappedValue_;A("expected object of type SafeScript, got '"+a+"' of type "+v(a));return"type_error:SafeScript"};Gb.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=a;return this};(new Gb).initSecurityPrivateDoNotAccessOrElse_("");var Ib=/<[^>]*>|&[^;]+;/g,Jb=function(a,b){return b?a.replace(Ib,""):a},Kb=/[\u0591-\u06ef\u06fa-\u08ff\u200f\ud802-\ud803\ud83a-\ud83b\ufb1d-\ufdff\ufe70-\ufefc]/;var Nb=function(a,b){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a===Lb&&b||"";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Mb};d=Nb.prototype;d.implementsGoogStringTypedString=!0;d.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};d.implementsGoogI18nBidiDirectionalString=!0;d.getDirection=function(){return 1};
d.cloneWithParams=function(a,b){var c=Ob(this).toString();c=Pb.exec(c);var e=c[3]||"";return new Nb(Lb,c[1]+Qb("?",c[2]||"",a)+Qb("#",e,b))};d.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"};
var Ob=function(a){if(a instanceof Nb&&a.constructor===Nb&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Mb)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;A("expected object of type TrustedResourceUrl, got '"+a+"' of type "+v(a));return"type_error:TrustedResourceUrl"},Ub=function(a,b){var c=Eb(a);if(!Sb.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);a=c.replace(Tb,function(e,f){if(!Object.prototype.hasOwnProperty.call(b,f))throw Error('Found marker, "'+
f+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(b));e=b[f];return e instanceof Db?Eb(e):encodeURIComponent(String(e))});return new Nb(Lb,a)},Tb=/%{(\w+)}/g,Sb=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pb=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,Mb={},Qb=function(a,b,c){if(null==c)return b;if("string"===typeof c)return c?a+encodeURIComponent(c):"";for(var e in c){var f=c[e];f=za(f)?f:[f];for(var g=0;g<f.length;g++){var k=
f[g];null!=k&&(b||(b=a),b+=(b.length>a.length?"&":"")+encodeURIComponent(e)+"="+encodeURIComponent(String(k)))}}return b},Lb={};var Vb=function(a){return/^[\s\xa0]*$/.test(a)},Wb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},dc=function(a,b){if(b)a=a.replace(Xb,"&amp;").replace(Yb,"&lt;").replace(Zb,"&gt;").replace($b,"&quot;").replace(ac,"&#39;").replace(bc,"&#0;");else{if(!cc.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Xb,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Yb,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Zb,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace($b,
"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(ac,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(bc,"&#0;"))}return a},Xb=/&/g,Yb=/</g,Zb=/>/g,$b=/"/g,ac=/'/g,bc=/\x00/g,cc=/[\x00&<>"']/,ec=function(a,b){return a<b?-1:a>b?1:0};var hc=function(a,b){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=a===fc&&b||"";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=gc};d=hc.prototype;d.implementsGoogStringTypedString=!0;d.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};d.implementsGoogI18nBidiDirectionalString=!0;d.getDirection=function(){return 1};d.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"};
var ic=function(a){if(a instanceof hc&&a.constructor===hc&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===gc)return a.privateDoNotAccessOrElseSafeUrlWrappedValue_;A("expected object of type SafeUrl, got '"+a+"' of type "+v(a));return"type_error:SafeUrl"},kc=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,lc=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,
mc=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,nc=function(a){if(a instanceof hc)return a;a="object"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);mc.test(a)||(a="about:invalid#zClosurez");return new hc(fc,a)},oc=function(a,b){if(a instanceof hc)return a;a="object"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);if(b&&/^data:/i.test(a)){b=a.replace(/(%0A|%0D)/g,"");var c=b.match(lc);c=c&&kc.test(c[1]);b=new hc(fc,c?b:"about:invalid#zClosurez");
if(b.getTypedStringValue()==a)return b}z(mc.test(a),"%s does not match the safe URL pattern",a)||(a="about:invalid#zClosurez");return new hc(fc,a)},gc={},fc={};var qc=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=pc};qc.prototype.implementsGoogStringTypedString=!0;var pc={};qc.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};qc.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"};
var rc=function(a){if(a instanceof qc&&a.constructor===qc&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===pc)return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;A("expected object of type SafeStyle, got '"+a+"' of type "+v(a));return"type_error:SafeStyle"};qc.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};
var sc=(new qc).initSecurityPrivateDoNotAccessOrElse_(""),uc=function(a){if(a instanceof hc)return'url("'+ic(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';a=a instanceof Db?Eb(a):tc(String(a));if(/[{;}]/.test(a))throw new $a("Value does not allow [{;}], got: %s.",[a]);return a},tc=function(a){var b=a.replace(vc,"$1").replace(vc,"$1").replace(wc,"url");if(xc.test(b)){if(yc.test(a))return A("String value disallows comments, got: "+a),"zClosurez";for(var c=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);
"'"==f&&c?b=!b:'"'==f&&b&&(c=!c)}if(!b||!c)return A("String value requires balanced quotes, got: "+a),"zClosurez";if(!zc(a))return A("String value requires balanced square brackets and one identifier per pair of brackets, got: "+a),"zClosurez"}else return A("String value allows only [-,.\"'%_!# a-zA-Z0-9\\[\\]] and simple functions, got: "+a),"zClosurez";return Ac(a)},zc=function(a){for(var b=!0,c=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;
b=!1}else if(!b&&!c.test(f))return!1}return b},xc=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,wc=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,vc=/\b(calc|cubic-bezier|fit-content|hsl|hsla|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,yc=/\/\*/,Ac=function(a){return a.replace(wc,function(b,c,e,f){var g="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,n){g=l;return n});b=nc(e).getTypedStringValue();return c+g+b+g+f})};var Cc=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Bc};Cc.prototype.implementsGoogStringTypedString=!0;var Bc={};Cc.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};Cc.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"};
Cc.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};(new Cc).initSecurityPrivateDoNotAccessOrElse_("");var Dc;a:{var Ec=r.navigator;if(Ec){var Fc=Ec.userAgent;if(Fc){Dc=Fc;break a}}Dc=""}var B=function(a){return-1!=Dc.indexOf(a)};var Gc=function(){return(B("Chrome")||B("CriOS"))&&!B("Edge")};var Ic=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Hc;this.dir_=null};d=Ic.prototype;d.implementsGoogI18nBidiDirectionalString=!0;d.getDirection=function(){return this.dir_};d.implementsGoogStringTypedString=!0;d.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};d.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"};
var Jc=function(a){if(a instanceof Ic&&a.constructor===Ic&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Hc)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;A("expected object of type SafeHtml, got '"+a+"' of type "+v(a));return"type_error:SafeHtml"},Lc=function(a){if(a instanceof Ic)return a;var b="object"==typeof a,c=null;b&&a.implementsGoogI18nBidiDirectionalString&&(c=a.getDirection());return Kc(dc(b&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a)),c)},Mc=/^[a-zA-Z0-9-]+$/,
Nc={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Oc={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Qc=function(a,b,c){var e=String(a);if(!Mc.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in Oc)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");a=String(a);e=null;var f="<"+a,g="";if(b)for(u in b){if(!Mc.test(u))throw Error('Invalid attribute name "'+u+'".');var k=b[u];if(null!=
k){var l=a;var n=u;var p=k;if(p instanceof Db)p=Eb(p);else if("style"==n.toLowerCase()){k=void 0;l=p;if(!Ca(l))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof l+" given: "+l);if(!(l instanceof qc)){p="";for(k in l){if(!/^[-_a-zA-Z0-9]+$/.test(k))throw Error("Name allows only [-_a-zA-Z0-9], got: "+k);var q=l[k];null!=q&&(q=za(q)?lb(q,uc).join(" "):uc(q),p+=k+":"+q+";")}l=p?(new qc).initSecurityPrivateDoNotAccessOrElse_(p):sc}p=rc(l)}else{if(/^on/i.test(n))throw Error('Attribute "'+
n+'" requires goog.string.Const value, "'+p+'" given.');if(n.toLowerCase()in Nc)if(p instanceof Nb)p=Ob(p).toString();else if(p instanceof hc)p=ic(p);else if("string"===typeof p)p=nc(p).getTypedStringValue();else throw Error('Attribute "'+n+'" on tag "'+l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+p+'" given.');}p.implementsGoogStringTypedString&&(p=p.getTypedStringValue());z("string"===typeof p||"number"===typeof p,"String or number value expected, got "+typeof p+" with value: "+
p);n=n+'="'+dc(String(p))+'"';g+=" "+n}}var u=f+g;null==c?c=[]:za(c)||(c=[c]);!0===Ab[a.toLowerCase()]?(z(!c.length,"Void tag <"+a+"> does not allow content."),u+=">"):(c=Pc(c),u+=">"+Jc(c).toString()+"</"+a+">",e=c.getDirection());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return Kc(u,e)},Rc=function(a,b){a=Lc(a);var c=a.getDirection(),e=[],f=function(g){za(g)?jb(g,f):(g=Lc(g),e.push(Jc(g).toString()),g=g.getDirection(),0==c?c=g:0!=g&&c!=g&&(c=null))};jb(b,f);return Kc(e.join(Jc(a).toString()),
c)},Pc=function(a){return Rc(Sc,Array.prototype.slice.call(arguments))},Hc={},Kc=function(a,b){return(new Ic).initSecurityPrivateDoNotAccessOrElse_(a,b)};Ic.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};Kc("<!DOCTYPE html>",0);var Sc=Kc("",0),Tc=Kc("<br>",0);var Uc={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Vc=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){if("undefined"===typeof document)return!1;var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);if(!a.firstChild)return!1;b=a.firstChild.firstChild;a.innerHTML=Jc(Sc);return!b.parentElement}),Wc=function(a,b){if(Uc[a.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+
a.tagName+".");if(Vc())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=Jc(b)},Xc=function(a,b){var c=rb(a);c&&(!a||!(a instanceof c.Location)&&a instanceof c.Element)&&A("Argument is not a Location (or a non-Element mock); got: %s",sb(a));b=b instanceof hc?b:oc(b);a.href=ic(b)};var Yc={COMPACT_DECIMAL_SHORT_PATTERN:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},COMPACT_DECIMAL_LONG_PATTERN:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},
1E12:{other:"0 trillion"},1E13:{other:"00 trillion"},1E14:{other:"000 trillion"}}},Zc=Yc;Zc=Yc;var ad=function(a,b){var c=["0"];b=$c[b];if(!b)return a;b=b[0]&7;if(0<b){c.push(".");for(var e=0;e<b;e++)c.push("0")}return a.replace(/0.00/g,c.join(""))},$c={AED:[2,"dh","\u062f.\u0625."],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$",
"RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[34,"Ft","Ft"],IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],
PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u20bd","RUB"],SAR:[2,"Rial","Rial"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"\u20ba","TRY"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};var bd={DECIMAL_SEP:".",GROUP_SEP:",",PERCENT:"%",ZERO_DIGIT:"0",PLUS_SIGN:"+",MINUS_SIGN:"-",EXP_SYMBOL:"E",PERMILL:"\u2030",INFINITY:"\u221e",NAN:"NaN",DECIMAL_PATTERN:"#,##0.###",SCIENTIFIC_PATTERN:"#E0",PERCENT_PATTERN:"#,##0%",CURRENCY_PATTERN:"\u00a4#,##0.00",DEF_CURRENCY_CODE:"USD"},cd=bd;cd=bd;var dd=function(a,b){return a+Math.random()*(b-a)};var C=function(a,b){return a=dc(a,b)},ed=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},fd=function(a,b){b="string"===typeof b?String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(c,e,f){return e+f.toUpperCase()})},gd=function(a,b,c){a=a.split(b);for(var e=[];0<c&&a.length;)e.push(a.shift()),c--;a.length&&e.push(a.join(b));return e};var hd=function(a,b,c,e){var f;if(f=b){a:if(b&&3===b.length){for(f=0;3>f;f++){var g=b[f];if("A">g||"Z"<g&&"a">g||"z"<g){f=!1;break a}}f=!0}else f=!1;f=!f}if(f)throw new TypeError("Currency must be valid ISO code");this.intlCurrencyCode_=b?b.toUpperCase():null;this.currencyStyle_=c||0;this.overrideNumberFormatSymbols_=e||null;this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.significantDigits_=0;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.showTrailingZeros_=
this.useSignForPositiveExponent_=!1;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_=this.getNumberFormatSymbols_().MINUS_SIGN;this.negativeSuffix_="";this.multiplier_=1;this.negativePercentSignExpected_=!1;this.groupingArray_=[];this.useExponentialNotation_=this.decimalSeparatorAlwaysShown_=!1;this.compactStyle_=0;this.baseFormattingNumber_=null;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)};d=hd.prototype;
d.getNumberFormatSymbols_=function(){return this.overrideNumberFormatSymbols_||cd};d.getCurrencyCode_=function(){return this.intlCurrencyCode_||this.getNumberFormatSymbols_().DEF_CURRENCY_CODE};d.setMinimumFractionDigits=function(a){if(0<this.significantDigits_&&0<a)throw Error("Can't combine significant digits and minimum fraction digits");this.minimumFractionDigits_=a;return this};d.getMinimumFractionDigits=function(){return this.minimumFractionDigits_};
d.setMaximumFractionDigits=function(a){if(308<a)throw Error("Unsupported maximum fraction digits: "+a);this.maximumFractionDigits_=a;return this};d.getMaximumFractionDigits=function(){return this.maximumFractionDigits_};d.setSignificantDigits=function(a){if(0<this.minimumFractionDigits_&&0<=a)throw Error("Can't combine significant digits and minimum fraction digits");this.significantDigits_=a;return this};d.getSignificantDigits=function(){return this.significantDigits_};
d.setShowTrailingZeros=function(a){this.showTrailingZeros_=a;return this};d.setBaseFormatting=function(a){z(null===a||isFinite(a));this.baseFormattingNumber_=a;return this};d.getBaseFormatting=function(){return this.baseFormattingNumber_};
d.applyPattern_=function(a){this.pattern_=a.replace(/ /g,"\u00a0");var b=[0];this.positivePrefix_=this.parseAffix_(a,b);var c=b[0];this.parseTrunk_(a,b);c=b[0]-c;this.positiveSuffix_=this.parseAffix_(a,b);b[0]<a.length&&";"==a.charAt(b[0])?(b[0]++,1!=this.multiplier_&&(this.negativePercentSignExpected_=!0),this.negativePrefix_=this.parseAffix_(a,b),b[0]+=c,this.negativeSuffix_=this.parseAffix_(a,b)):(this.negativePrefix_+=this.positivePrefix_,this.negativeSuffix_+=this.positiveSuffix_)};
d.applyStandardPattern_=function(a){switch(a){case 1:this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);break;case 2:this.applyPattern_(this.getNumberFormatSymbols_().SCIENTIFIC_PATTERN);break;case 3:this.applyPattern_(this.getNumberFormatSymbols_().PERCENT_PATTERN);break;case 4:this.applyPattern_(ad(this.getNumberFormatSymbols_().CURRENCY_PATTERN,this.getCurrencyCode_()));break;case 5:this.applyCompactStyle_(1);break;case 6:this.applyCompactStyle_(2);break;default:throw Error("Unsupported pattern type.");
}};d.applyCompactStyle_=function(a){this.compactStyle_=a;this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);this.setMinimumFractionDigits(0);this.setMaximumFractionDigits(2);this.setSignificantDigits(2)};
d.parse=function(a,b){b=b||[0];if(0!=this.compactStyle_)throw Error("Parsing of compact numbers is unimplemented");a=a.replace(/ |\u202f/g,"\u00a0");var c=a.indexOf(this.positivePrefix_,b[0])==b[0],e=a.indexOf(this.negativePrefix_,b[0])==b[0];c&&e&&(this.positivePrefix_.length>this.negativePrefix_.length?e=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(c=!1));c?b[0]+=this.positivePrefix_.length:e&&(b[0]+=this.negativePrefix_.length);if(a.indexOf(this.getNumberFormatSymbols_().INFINITY,
b[0])==b[0]){b[0]+=this.getNumberFormatSymbols_().INFINITY.length;var f=Infinity}else f=this.parseNumber_(a,b);if(c){if(a.indexOf(this.positiveSuffix_,b[0])!=b[0])return NaN;b[0]+=this.positiveSuffix_.length}else if(e){if(a.indexOf(this.negativeSuffix_,b[0])!=b[0])return NaN;b[0]+=this.negativeSuffix_.length}return e?-f:f};
d.parseNumber_=function(a,b){var c=!1,e=!1,f=!1,g=-1,k=1,l=this.getNumberFormatSymbols_().DECIMAL_SEP,n=this.getNumberFormatSymbols_().GROUP_SEP,p=this.getNumberFormatSymbols_().EXP_SYMBOL;if(0!=this.compactStyle_)throw Error("Parsing of compact style numbers is not implemented");n=n.replace(/\u202f/g,"\u00a0");for(var q="";b[0]<a.length;b[0]++){var u=a.charAt(b[0]),x=this.getDigit_(u);if(0<=x&&9>=x)q+=x,f=!0;else if(u==l.charAt(0)){if(c||e)break;q+=".";c=!0}else if(u==n.charAt(0)&&("\u00a0"!=n.charAt(0)||
b[0]+1<a.length&&0<=this.getDigit_(a.charAt(b[0]+1)))){if(c||e)break}else if(u==p.charAt(0)){if(e)break;q+="E";e=!0;g=b[0]}else if("+"==u||"-"==u){if(f&&g!=b[0]-1)break;q+=u}else if(1==this.multiplier_&&u==this.getNumberFormatSymbols_().PERCENT.charAt(0)){if(1!=k)break;k=100;if(f){b[0]++;break}}else if(1==this.multiplier_&&u==this.getNumberFormatSymbols_().PERMILL.charAt(0)){if(1!=k)break;k=1E3;if(f){b[0]++;break}}else break}1!=this.multiplier_&&(k=this.multiplier_);return parseFloat(q)/k};
d.format=function(a){if(isNaN(a))return this.getNumberFormatSymbols_().NAN;var b=[],c=this.getUnitAfterRounding_(null===this.baseFormattingNumber_?a:this.baseFormattingNumber_,a);a=id(a,-c.divisorBase);b.push(c.prefix);var e=0>a||0==a&&0>1/a;b.push(e?this.negativePrefix_:this.positivePrefix_);isFinite(a)?(a=a*(e?-1:1)*this.multiplier_,this.useExponentialNotation_?this.subformatExponential_(a,b):this.subformatFixed_(a,this.minimumIntegerDigits_,b)):b.push(this.getNumberFormatSymbols_().INFINITY);b.push(e?
this.negativeSuffix_:this.positiveSuffix_);b.push(c.suffix);return b.join("")};d.roundNumber_=function(a){var b=id(a,this.maximumFractionDigits_);0<this.significantDigits_&&(b=this.roundToSignificantDigits_(b,this.significantDigits_,this.maximumFractionDigits_));b=Math.round(b);isFinite(b)?(a=Math.floor(id(b,-this.maximumFractionDigits_)),b=Math.floor(b-id(a,this.maximumFractionDigits_))):b=0;return{intValue:a,fracValue:b}};
d.formatNumberGroupingRepeatingDigitsParts_=function(a,b,c,e,f){for(var g=0,k=0,l,n=this.getNumberFormatSymbols_().GROUP_SEP,p=c.length,q=0;q<p;q++)if(a.push(String.fromCharCode(b+1*Number(c.charAt(q)))),1<p-q)if(l=e[k],q<f){var u=f-q;(1===l||0<l&&1===u%l)&&a.push(n)}else k<e.length&&(q===f?k+=1:l===q-f-g+1&&(a.push(n),g+=l,k+=1));return a};
d.formatNumberGroupingNonRepeatingDigitsParts_=function(a,b,c,e){var f=this.getNumberFormatSymbols_().GROUP_SEP,g,k=c.length,l=[];for(g=e.length-1;0<=g&&0<k;g--){var n=e[g];for(var p=0;p<n&&0<=k-p-1;p++)l.push(String.fromCharCode(b+1*Number(c.charAt(k-p-1))));k-=n;0<k&&l.push(f)}a.push.apply(a,l.reverse());return a};
d.subformatFixed_=function(a,b,c){if(this.minimumFractionDigits_>this.maximumFractionDigits_)throw Error("Min value must be less than max value");c||(c=[]);a=this.roundNumber_(a);var e=a.intValue,f=a.fracValue,g=0==e?0:this.intLog10_(e)+1,k=0<this.minimumFractionDigits_||0<f||this.showTrailingZeros_&&g<this.significantDigits_;a=this.minimumFractionDigits_;k&&(a=this.showTrailingZeros_&&0<this.significantDigits_?this.significantDigits_-g:this.minimumFractionDigits_);var l="";for(g=e;1E20<g;)l="0"+
l,g=Math.round(id(g,-1));l=g+l;var n=this.getNumberFormatSymbols_().DECIMAL_SEP;g=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);var p=l.length,q=0;if(0<e||0<b){for(e=p;e<b;e++)c.push(String.fromCharCode(g));if(2<=this.groupingArray_.length)for(b=1;b<this.groupingArray_.length;b++)q+=this.groupingArray_[b];b=p-q;c=0<b?this.formatNumberGroupingRepeatingDigitsParts_(c,g,l,this.groupingArray_,b):this.formatNumberGroupingNonRepeatingDigitsParts_(c,g,l,this.groupingArray_)}else k||c.push(String.fromCharCode(g));
(this.decimalSeparatorAlwaysShown_||k)&&c.push(n);b=String(f);f=b.split("e+");2==f.length&&(b=String(this.roundToSignificantDigits_(parseFloat(f[0]),this.significantDigits_,1)),b=b.replace(".",""),b+=ed("0",parseInt(f[1],10)-b.length+1));this.maximumFractionDigits_+1>b.length&&(b="1"+ed("0",this.maximumFractionDigits_-b.length)+b);for(f=b.length;"0"==b.charAt(f-1)&&f>a+1;)f--;for(e=1;e<f;e++)c.push(String.fromCharCode(g+1*Number(b.charAt(e))))};
d.addExponentPart_=function(a,b){b.push(this.getNumberFormatSymbols_().EXP_SYMBOL);0>a?(a=-a,b.push(this.getNumberFormatSymbols_().MINUS_SIGN)):this.useSignForPositiveExponent_&&b.push(this.getNumberFormatSymbols_().PLUS_SIGN);a=""+a;for(var c=this.getNumberFormatSymbols_().ZERO_DIGIT,e=a.length;e<this.minExponentDigits_;e++)b.push(c);b.push(a)};d.getMantissa_=function(a,b){return id(a,-b)};
d.subformatExponential_=function(a,b){if(0==a)this.subformatFixed_(a,this.minimumIntegerDigits_,b),this.addExponentPart_(0,b);else{var c=Math.log(a)/Math.log(10);z(!0);c=Math.floor(c+2E-15);a=this.getMantissa_(a,c);var e=this.minimumIntegerDigits_;1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_?(e=c%this.maximumIntegerDigits_,0>e&&(e=this.maximumIntegerDigits_+e),a=id(a,e),c-=e,e=1):1>this.minimumIntegerDigits_?(c++,a=id(a,-1)):(c-=this.minimumIntegerDigits_-1,
a=id(a,this.minimumIntegerDigits_-1));this.subformatFixed_(a,e,b);this.addExponentPart_(c,b)}};d.getDigit_=function(a){a=a.charCodeAt(0);if(48<=a&&58>a)return a-48;var b=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);return b<=a&&a<b+10?a-b:-1};
d.parseAffix_=function(a,b){for(var c="",e=!1,f=a.length;b[0]<f;b[0]++){var g=a.charAt(b[0]);if("'"==g)b[0]+1<f&&"'"==a.charAt(b[0]+1)?(b[0]++,c+="'"):e=!e;else if(e)c+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return c;case "\u00a4":if(b[0]+1<f&&"\u00a4"==a.charAt(b[0]+1))b[0]++,c+=this.getCurrencyCode_();else switch(this.currencyStyle_){case 0:g=this.getCurrencyCode_();c+=g in $c?$c[g][1]:g;break;case 2:g=this.getCurrencyCode_();var k=$c[g];c+=k?g==k[1]?g:g+" "+k[1]:g;break;
case 1:g=this.getCurrencyCode_(),c+=g in $c?$c[g][2]:g}break;case "%":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");if(this.negativePercentSignExpected_&&100!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");this.multiplier_=100;this.negativePercentSignExpected_=!1;c+=this.getNumberFormatSymbols_().PERCENT;break;case "\u2030":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");
if(this.negativePercentSignExpected_&&1E3!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");this.multiplier_=1E3;this.negativePercentSignExpected_=!1;c+=this.getNumberFormatSymbols_().PERMILL;break;default:c+=g}}return c};
d.parseTrunk_=function(a,b){for(var c=-1,e=0,f=0,g=0,k=-1,l=a.length,n=!0;b[0]<l&&n;b[0]++)switch(a.charAt(b[0])){case "#":0<f?g++:e++;0<=k&&0>c&&k++;break;case "0":if(0<g)throw Error('Unexpected "0" in pattern "'+a+'"');f++;0<=k&&0>c&&k++;break;case ",":0<k&&this.groupingArray_.push(k);k=0;break;case ".":if(0<=c)throw Error('Multiple decimal separators in pattern "'+a+'"');c=e+f+g;break;case "E":if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+a+'"');this.useExponentialNotation_=
!0;this.minExponentDigits_=0;b[0]+1<l&&"+"==a.charAt(b[0]+1)&&(b[0]++,this.useSignForPositiveExponent_=!0);for(;b[0]+1<l&&"0"==a.charAt(b[0]+1);)b[0]++,this.minExponentDigits_++;if(1>e+f||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+a+'"');n=!1;break;default:b[0]--,n=!1}0==f&&0<e&&0<=c&&(f=c,0==f&&f++,g=e-f,e=f-1,f=1);if(0>c&&0<g||0<=c&&(c<e||c>e+f)||0==k)throw Error('Malformed pattern "'+a+'"');a=e+f+g;this.maximumFractionDigits_=0<=c?a-c:0;0<=c&&(this.minimumFractionDigits_=
e+f-c,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=c?c:a)-e;this.useExponentialNotation_&&(this.maximumIntegerDigits_=e+this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingArray_.push(Math.max(0,k));this.decimalSeparatorAlwaysShown_=0==c||c==a};var jd={prefix:"",suffix:"",divisorBase:0};
hd.prototype.getUnitFor_=function(a,b){var c=1==this.compactStyle_?Zc.COMPACT_DECIMAL_SHORT_PATTERN:Zc.COMPACT_DECIMAL_LONG_PATTERN;null==c&&(c=Zc.COMPACT_DECIMAL_SHORT_PATTERN);if(3>a)return jd;a=Math.min(14,a);var e=c[id(1,a)];for(--a;!e&&3<=a;)e=c[id(1,a)],a--;if(!e)return jd;b=e[b];return b&&"0"!=b?(b=/([^0]*)(0+)(.*)/.exec(b))?{prefix:b[1],suffix:b[3],divisorBase:a+1-(b[2].length-1)}:jd:jd};
hd.prototype.getUnitAfterRounding_=function(a,b){if(0==this.compactStyle_)return jd;a=Math.abs(a);b=Math.abs(b);var c=this.getUnitFor_(1>=a?0:this.intLog10_(a),this.pluralForm_(a)).divisorBase;b=id(b,-c);b=this.roundNumber_(b);a=id(a,-c);a=this.roundNumber_(a);return this.getUnitFor_(c+this.intLog10_(a.intValue),this.pluralForm_(b.intValue+b.fracValue))};hd.prototype.intLog10_=function(a){if(!isFinite(a))return 0<a?a:0;for(var b=0;1<=(a/=10);)b++;return b};
var id=function(a,b){z(0==b%1,'Cannot shift by fractional digits "%s".',b);if(!a||!isFinite(a)||0==b)return a;a=String(a).split("e");return parseFloat(a[0]+"e"+(parseInt(a[1]||0,10)+b))},kd=function(a,b){z(0==b%1,'Cannot round to fractional digits "%s".',b);return a&&isFinite(a)?id(Math.round(id(a,b)),-b):a};hd.prototype.roundToSignificantDigits_=function(a,b,c){if(!a)return a;b=b-this.intLog10_(a)-1;return b<-c?kd(a,-c):kd(a,b)};hd.prototype.pluralForm_=function(){return"other"};
hd.prototype.isCurrencyCodeBeforeValue=function(){var a=this.pattern_.indexOf("\u00a4"),b=this.pattern_.indexOf("#"),c=this.pattern_.indexOf("0"),e=Number.MAX_VALUE;0<=b&&b<e&&(e=b);0<=c&&c<e&&(e=c);return a<e};var ld=function(a){return 1==a%10&&11!=a%100?"one":2==a%10&&12!=a%100?"two":3==a%10&&13!=a%100?"few":"other"},md=ld;md=ld;var nd=function(a,b){if(void 0===b){b=a+"";var c=b.indexOf(".");b=Math.min(-1==c?0:b.length-c-1,3)}return 1==(a|0)&&0==b?"one":"other"},od=nd;od=nd;var sd=function(a){this.pattern_=a;this.parsedPattern_=this.literals_=this.initialLiterals_=null;a=cd;var b=Zc;if(pd!==a||qd!==b)pd=a,qd=b,rd=new hd(1);this.numberFormatter_=rd},pd=null,qd=null,rd=null,td=/'([{}#].*?)'/g,ud=/''/g;d=sd.prototype;d.format=function(a){return this.format_(a,!1)};d.formatIgnoringPound=function(a){return this.format_(a,!0)};
d.format_=function(a,b){this.init_();if(!this.parsedPattern_||0==this.parsedPattern_.length)return"";this.literals_=pb(this.initialLiterals_);var c=[];this.formatBlock_(this.parsedPattern_,a,b,c);a=c.join("");for(b||z(-1==a.search("#"),"Not all # were replaced.");0<this.literals_.length;)a=a.replace(this.buildPlaceholder_(this.literals_),this.literals_.pop());return a};
d.formatBlock_=function(a,b,c,e){for(var f=0;f<a.length;f++)switch(a[f].type){case 4:e.push(a[f].value);break;case 3:var g=a[f].value;this.formatSimplePlaceholder_(g,b,e);break;case 2:g=a[f].value;this.formatSelectBlock_(g,b,c,e);break;case 0:g=a[f].value;this.formatPluralOrdinalBlock_(g,b,od,c,e);break;case 1:g=a[f].value;this.formatPluralOrdinalBlock_(g,b,md,c,e);break;default:A("Unrecognized block type: "+a[f].type)}};
d.formatSimplePlaceholder_=function(a,b,c){b=b[a];void 0===b?c.push("Undefined parameter - "+a):(this.literals_.push(b),c.push(this.buildPlaceholder_(this.literals_)))};d.formatSelectBlock_=function(a,b,c,e){var f=a.argumentIndex;void 0===b[f]?e.push("Undefined parameter - "+f):(f=a[b[f]],void 0===f&&(f=a.other,eb(f,"Invalid option or missing other option for select block.")),this.formatBlock_(f,b,c,e))};
d.formatPluralOrdinalBlock_=function(a,b,c,e,f){var g=a.argumentIndex,k=a.argumentOffset,l=+b[g];isNaN(l)?f.push("Undefined or invalid parameter - "+g):(k=l-k,g=a[b[g]],void 0===g&&(c=c(Math.abs(k)),db(c,"Invalid plural key."),g=a[c],void 0===g&&(g=a.other),eb(g,"Invalid option or missing other option for plural block.")),a=[],this.formatBlock_(g,b,e,a),b=a.join(""),db(b,"Empty block in plural."),e?f.push(b):(e=this.numberFormatter_.format(k),f.push(b.replace(/#/g,e))))};
d.init_=function(){if(this.pattern_){this.initialLiterals_=[];var a=this.insertPlaceholders_(this.pattern_);this.parsedPattern_=this.parseBlock_(a);this.pattern_=null}};d.insertPlaceholders_=function(a){var b=this.initialLiterals_,c=Ha(this.buildPlaceholder_,this);a=a.replace(ud,function(){b.push("'");return c(b)});return a=a.replace(td,function(e,f){b.push(f);return c(b)})};
d.extractParts_=function(a){var b=0,c=[],e=[],f=/[{}]/g;f.lastIndex=0;for(var g;g=f.exec(a);){var k=g.index;"}"==g[0]?(g=c.pop(),z(void 0!==g&&"{"==g,"No matching { for }."),0==c.length&&(g={type:1},g.value=a.substring(b,k),e.push(g),b=k+1)):(0==c.length&&(b=a.substring(b,k),""!=b&&e.push({type:0,value:b}),b=k+1),c.push("{"))}z(0==c.length,"There are mismatched { or } in the pattern.");b=a.substring(b);""!=b&&e.push({type:0,value:b});return e};
var vd=/^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,wd=/^\s*(\w+)\s*,\s*selectordinal\s*,/,xd=/^\s*(\w+)\s*,\s*select\s*,/;d=sd.prototype;d.parseBlockType_=function(a){return vd.test(a)?0:wd.test(a)?1:xd.test(a)?2:/^\s*\w+\s*/.test(a)?3:5};
d.parseBlock_=function(a){var b=[];a=this.extractParts_(a);for(var c=0;c<a.length;c++){var e={};if(0==a[c].type)e.type=4,e.value=a[c].value;else if(1==a[c].type)switch(this.parseBlockType_(a[c].value)){case 2:e.type=2;e.value=this.parseSelectBlock_(a[c].value);break;case 0:e.type=0;e.value=this.parsePluralBlock_(a[c].value);break;case 1:e.type=1;e.value=this.parseOrdinalBlock_(a[c].value);break;case 3:e.type=3;e.value=a[c].value;break;default:A("Unknown block type for pattern: "+a[c].value)}else A("Unknown part of the pattern.");
b.push(e)}return b};d.parseSelectBlock_=function(a){var b="";a=a.replace(xd,function(k,l){b=l;return""});var c={};c.argumentIndex=b;a=this.extractParts_(a);for(var e=0;e<a.length;){var f=a[e].value;db(f,"Missing select key element.");e++;z(e<a.length,"Missing or invalid select value element.");var g;1==a[e].type?g=this.parseBlock_(a[e].value):A("Expected block type.");c[f.replace(/\s/g,"")]=g;e++}eb(c.other,"Missing other key in select statement.");return c};
d.parsePluralBlock_=function(a){var b="",c=0;a=a.replace(vd,function(l,n,p){b=n;p&&(c=parseInt(p,10));return""});var e={};e.argumentIndex=b;e.argumentOffset=c;a=this.extractParts_(a);for(var f=0;f<a.length;){var g=a[f].value;db(g,"Missing plural key element.");f++;z(f<a.length,"Missing or invalid plural value element.");var k;1==a[f].type?k=this.parseBlock_(a[f].value):A("Expected block type.");e[g.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=k;f++}eb(e.other,"Missing other key in plural statement.");return e};
d.parseOrdinalBlock_=function(a){var b="";a=a.replace(wd,function(k,l){b=l;return""});var c={};c.argumentIndex=b;c.argumentOffset=0;a=this.extractParts_(a);for(var e=0;e<a.length;){var f=a[e].value;db(f,"Missing ordinal key element.");e++;z(e<a.length,"Missing or invalid ordinal value element.");if(1==a[e].type)var g=this.parseBlock_(a[e].value);else A("Expected block type.");c[f.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=g;e++}eb(c.other,"Missing other key in selectordinal statement.");return c};
d.buildPlaceholder_=function(a){z(0<a.length,"Literal array is empty.");return"\ufddf_"+(a.length-1).toString(10)+"_"};var yd=function(a){switch(a){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}};var zd=function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var b="",c=0;c<a.length;c+=8192){var e=qb(a,c,c+8192);b+=String.fromCharCode.apply(null,e)}return b};var Ad=function(a){Ad[" "](a);return a};Ad[" "]=ya;var Bd=function(a,b,c,e){e=e?e(b):b;return Object.prototype.hasOwnProperty.call(a,e)?a[e]:a[e]=c(b)};var Cd=B("Opera"),E=B("Trident")||B("MSIE"),Dd=B("Edge"),Ed=B("Gecko")&&!(-1!=Dc.toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),Fd=-1!=Dc.toLowerCase().indexOf("webkit")&&!B("Edge"),Gd=B("Macintosh"),Hd=function(){var a=r.document;return a?a.documentMode:void 0},Id;
a:{var Jd="",Kd=function(){var a=Dc;if(Ed)return/rv:([^\);]+)(\)|;)/.exec(a);if(Dd)return/Edge\/([\d\.]+)/.exec(a);if(E)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Fd)return/WebKit\/(\S+)/.exec(a);if(Cd)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Kd&&(Jd=Kd?Kd[1]:"");if(E){var Ld=Hd();if(null!=Ld&&Ld>parseFloat(Jd)){Id=String(Ld);break a}}Id=Jd}
var Md=Id,Nd={},Od=function(a){return Bd(Nd,a,function(){for(var b=0,c=Wb(String(Md)).split("."),e=Wb(String(a)).split("."),f=Math.max(c.length,e.length),g=0;0==b&&g<f;g++){var k=c[g]||"",l=e[g]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=ec(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||ec(0==k[2].length,0==l[2].length)||ec(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})},Pd;
Pd=r.document&&E?Hd():void 0;var Qd=B("Firefox")||B("FxiOS"),Rd=Gc(),Sd=B("Safari")&&!(Gc()||B("Coast")||B("Opera")||B("Edge")||B("Edg/")||B("OPR")||B("Firefox")||B("FxiOS")||B("Silk")||B("Android"))&&!(B("iPhone")&&!B("iPod")&&!B("iPad")||B("iPad")||B("iPod"));var Td={},Ud=null,Vd=Ed||Fd&&!Sd||Cd||"function"==typeof r.btoa,Xd=function(a,b){z(Aa(a),"encodeByteArray takes an array as a parameter");void 0===b&&(b=0);Wd();b=Td[b];for(var c=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,l=e+2<a.length,n=l?a[e+2]:0,p=f>>2;f=(f&3)<<4|k>>4;k=(k&15)<<2|n>>6;n&=63;l||(n=64,g||(k=64));c.push(b[p],b[f],b[k]||"",b[n]||"")}return c.join("")},Yd=function(a,b){if(Vd&&!b)a=r.btoa(a);else{for(var c=[],e=0,f=0;f<a.length;f++){var g=a.charCodeAt(f);255<g&&
(c[e++]=g&255,g>>=8);c[e++]=g}a=Xd(c,b)}return a},$d=function(a){z(!E||Od("10"),"Browser does not support typed arrays");var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!="=.".indexOf(a[b-1])&&(c=-1!="=.".indexOf(a[b-2])?c-2:c-1);var e=new Uint8Array(c),f=0;Zd(a,function(g){e[f++]=g});return e.subarray(0,f)},Zd=function(a,b){function c(n){for(;e<a.length;){var p=a.charAt(e++),q=Ud[p];if(null!=q)return q;if(!Vb(p))throw Error("Unknown base64 encoding at char: "+p);}return n}Wd();for(var e=0;;){var f=
c(-1),g=c(0),k=c(64),l=c(64);if(64===l&&-1===f)break;b(f<<2|g>>4);64!=k&&(b(g<<4&240|k>>2),64!=l&&b(k<<6&192|l))}},Wd=function(){if(!Ud){Ud={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var e=a.concat(b[c].split(""));Td[c]=e;for(var f=0;f<e.length;f++){var g=e[f],k=Ud[g];void 0===k?Ud[g]=f:z(k===f)}}}};var F=0,G=0,ae=function(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;F=b;G=a},be=function(a){var b=0>a;a=Math.abs(a);var c=a>>>0;a=Math.floor((a-c)/4294967296);a>>>=0;b&&(a=~a>>>0,c=(~c>>>0)+1,4294967295<c&&(c=0,a++,4294967295<a&&(a=0)));F=c;G=a},ce=function(a){var b=a.charCodeAt(4),c=a.charCodeAt(5),e=a.charCodeAt(6),f=a.charCodeAt(7);F=a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)>>>0;G=b+(c<<8)+(e<<16)+(f<<24)>>>0},de=function(a,b){return 4294967296*b+(a>>>
0)},ee=function(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b>>>0,0==a&&(b=b+1>>>0));a=de(a,b);return c?-a:a},fe=function(a,b,c){var e=b>>31;return c(a<<1^e,(b<<1|a>>>31)^e)},he=function(a,b){return ge(a,b,ee)},ge=function(a,b,c){var e=-(a&1);return c((a>>>1|b<<31)^e,b>>>1^e)},ie=function(a,b){return String.fromCharCode(a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255,b>>>0&255,b>>>8&255,b>>>16&255,b>>>24&255)},je=function(a,b){function c(f,g){f=f?String(f):"";return g?"0000000".slice(f.length)+f:f}if(2097151>=
b)return""+(4294967296*b+a);var e=(a>>>24|b<<8)>>>0&16777215;b=b>>16&65535;a=(a&16777215)+6777216*e+6710656*b;e+=8147497*b;b*=2;1E7<=a&&(e+=Math.floor(a/1E7),a%=1E7);1E7<=e&&(b+=Math.floor(e/1E7),e%=1E7);return c(b,0)+c(e,b)+c(a,1)},ke=function(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b+(0==a?1:0)>>>0);a=je(a,b);return c?"-"+a:a},le=function(a){function b(k,l){for(var n=0;8>n&&(1!==k||0<l);n++)l=k*f[n]+l,f[n]=l&255,l>>>=8}function c(){for(var k=0;8>k;k++)f[k]=~f[k]&255}z(0<a.length);var e=!1;"-"===
a[0]&&(e=!0,a=a.slice(1));for(var f=[0,0,0,0,0,0,0,0],g=0;g<a.length;g++)b(10,a.charCodeAt(g)-48);e&&(c(),b(1,1));return zd(f)},me=function(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return $d(a);A("Type not convertible to Uint8Array.");return new Uint8Array(0)};var ne=function(a,b,c){this.bytes_=null;this.cursor_=this.end_=this.start_=0;this.error_=!1;a&&this.setBlock(a,b,c)},oe=[],pe=function(a,b,c){if(oe.length){var e=oe.pop();a&&e.setBlock(a,b,c);return e}return new ne(a,b,c)};d=ne.prototype;d.free=function(){this.clear();100>oe.length&&oe.push(this)};d.clone=function(){return pe(this.bytes_,this.start_,this.end_-this.start_)};d.clear=function(){this.bytes_=null;this.cursor_=this.end_=this.start_=0;this.error_=!1};d.getBuffer=function(){return this.bytes_};
d.setBlock=function(a,b,c){this.bytes_=me(a);this.start_=void 0!==b?b:0;this.end_=void 0!==c?this.start_+c:this.bytes_.length;this.cursor_=this.start_};d.getEnd=function(){return this.end_};d.setEnd=function(a){this.end_=a};d.reset=function(){this.cursor_=this.start_};d.getCursor=function(){return this.cursor_};d.setCursor=function(a){this.cursor_=a};d.advance=function(a){this.cursor_+=a;z(this.cursor_<=this.end_)};d.atEnd=function(){return this.cursor_==this.end_};
d.pastEnd=function(){return this.cursor_>this.end_};d.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_};d.readSplitVarint64=function(a){for(var b=128,c=0,e=0,f=0;4>f&&128<=b;f++)b=this.bytes_[this.cursor_++],c|=(b&127)<<7*f;128<=b&&(b=this.bytes_[this.cursor_++],c|=(b&127)<<28,e|=(b&127)>>4);if(128<=b)for(f=0;5>f&&128<=b;f++)b=this.bytes_[this.cursor_++],e|=(b&127)<<7*f+3;if(128>b)return a(c>>>0,e>>>0);A("Failed to read varint, encoding is invalid.");this.error_=!0};
d.readSplitZigzagVarint64=function(a){return this.readSplitVarint64(function(b,c){return ge(b,c,a)})};d.readSplitFixed64=function(a){var b=this.bytes_,c=this.cursor_;this.cursor_+=8;for(var e=0,f=0,g=c+7;g>=c;g--)e=e<<8|b[g],f=f<<8|b[g+4];return a(e,f)};d.skipVarint=function(){for(;this.bytes_[this.cursor_]&128;)this.cursor_++;this.cursor_++};d.unskipVarint=function(a){for(;128<a;)this.cursor_--,a>>>=7;this.cursor_--};
d.readUnsignedVarint32=function(){var a=this.bytes_;var b=a[this.cursor_+0];var c=b&127;if(128>b)return this.cursor_+=1,z(this.cursor_<=this.end_),c;b=a[this.cursor_+1];c|=(b&127)<<7;if(128>b)return this.cursor_+=2,z(this.cursor_<=this.end_),c;b=a[this.cursor_+2];c|=(b&127)<<14;if(128>b)return this.cursor_+=3,z(this.cursor_<=this.end_),c;b=a[this.cursor_+3];c|=(b&127)<<21;if(128>b)return this.cursor_+=4,z(this.cursor_<=this.end_),c;b=a[this.cursor_+4];c|=(b&15)<<28;if(128>b)return this.cursor_+=5,
z(this.cursor_<=this.end_),c>>>0;this.cursor_+=5;128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&z(!1);z(this.cursor_<=this.end_);return c};d.readSignedVarint32=ne.prototype.readUnsignedVarint32;d.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()};d.readSignedVarint32String=function(){return this.readSignedVarint32().toString()};
d.readZigzagVarint32=function(){var a=this.readUnsignedVarint32();return a>>>1^-(a&1)};d.readUnsignedVarint64=function(){return this.readSplitVarint64(de)};d.readUnsignedVarint64String=function(){return this.readSplitVarint64(je)};d.readSignedVarint64=function(){return this.readSplitVarint64(ee)};d.readSignedVarint64String=function(){return this.readSplitVarint64(ke)};d.readZigzagVarint64=function(){return this.readSplitVarint64(he)};d.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(ie)};
d.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(ke)};d.readUint8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;z(this.cursor_<=this.end_);return a};d.readUint16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;z(this.cursor_<=this.end_);return a<<0|b<<8};
d.readUint32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],e=this.bytes_[this.cursor_+3];this.cursor_+=4;z(this.cursor_<=this.end_);return(a<<0|b<<8|c<<16|e<<24)>>>0};d.readUint64=function(){var a=this.readUint32(),b=this.readUint32();return de(a,b)};d.readUint64String=function(){var a=this.readUint32(),b=this.readUint32();return je(a,b)};
d.readInt8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;z(this.cursor_<=this.end_);return a<<24>>24};d.readInt16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;z(this.cursor_<=this.end_);return(a<<0|b<<8)<<16>>16};d.readInt32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],e=this.bytes_[this.cursor_+3];this.cursor_+=4;z(this.cursor_<=this.end_);return a<<0|b<<8|c<<16|e<<24};
d.readInt64=function(){var a=this.readUint32(),b=this.readUint32();return ee(a,b)};d.readInt64String=function(){var a=this.readUint32(),b=this.readUint32();return ke(a,b)};d.readFloat=function(){var a=this.readUint32(),b=2*(a>>31)+1,c=a>>>23&255;a&=8388607;return 255==c?a?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*a:b*Math.pow(2,c-150)*(a+Math.pow(2,23))};
d.readDouble=function(){var a=this.readUint32(),b=this.readUint32(),c=2*(b>>31)+1,e=b>>>20&2047;a=4294967296*(b&1048575)+a;return 2047==e?a?NaN:Infinity*c:0==e?c*Math.pow(2,-1074)*a:c*Math.pow(2,e-1075)*(a+4503599627370496)};d.readBool=function(){return!!this.bytes_[this.cursor_++]};d.readEnum=function(){return this.readSignedVarint32()};
d.readString=function(a){var b=this.bytes_,c=this.cursor_;a=c+a;for(var e=[],f="";c<a;){var g=b[c++];if(128>g)e.push(g);else if(192>g)continue;else if(224>g){var k=b[c++];e.push((g&31)<<6|k&63)}else if(240>g){k=b[c++];var l=b[c++];e.push((g&15)<<12|(k&63)<<6|l&63)}else if(248>g){k=b[c++];l=b[c++];var n=b[c++];g=(g&7)<<18|(k&63)<<12|(l&63)<<6|n&63;g-=65536;e.push((g>>10&1023)+55296,(g&1023)+56320)}8192<=e.length&&(f+=String.fromCharCode.apply(null,e),e.length=0)}f+=zd(e);this.cursor_=c;return f};
d.readStringWithLength=function(){var a=this.readUnsignedVarint32();return this.readString(a)};d.readBytes=function(a){if(0>a||this.cursor_+a>this.bytes_.length)return this.error_=!0,A("Invalid byte length!"),new Uint8Array(0);var b=this.bytes_.subarray(this.cursor_,this.cursor_+a);this.cursor_+=a;z(this.cursor_<=this.end_);return b};d.readVarintHash64=function(){return this.readSplitVarint64(ie)};
d.readFixedHash64=function(){var a=this.bytes_,b=this.cursor_,c=a[b+0],e=a[b+1],f=a[b+2],g=a[b+3],k=a[b+4],l=a[b+5],n=a[b+6];a=a[b+7];this.cursor_+=8;return String.fromCharCode(c,e,f,g,k,l,n,a)};var qe=function(a,b,c){this.decoder_=pe(a,b,c);this.fieldCursor_=this.decoder_.getCursor();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null},re=[];d=qe.prototype;d.alloc=function(a,b,c){if(re.length){var e=re.pop();a&&e.decoder_.setBlock(a,b,c);return e}return new qe(a,b,c)};d.free=function(){this.decoder_.clear();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null;100>re.length&&re.push(this)};d.getFieldCursor=function(){return this.fieldCursor_};
d.getCursor=function(){return this.decoder_.getCursor()};d.getBuffer=function(){return this.decoder_.getBuffer()};d.getFieldNumber=function(){return this.nextField_};d.getWireType=function(){return this.nextWireType_};d.isEndGroup=function(){return 4==this.nextWireType_};d.getError=function(){return this.error_||this.decoder_.getError()};d.setBlock=function(a,b,c){this.decoder_.setBlock(a,b,c);this.nextWireType_=this.nextField_=-1};
d.reset=function(){this.decoder_.reset();this.nextWireType_=this.nextField_=-1};d.advance=function(a){this.decoder_.advance(a)};
d.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return A("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var a=this.decoder_.readUnsignedVarint32(),b=a>>>3;a&=7;if(0!=a&&5!=a&&1!=a&&2!=a&&3!=a&&4!=a)return A("Invalid wire type: %s (at position %s)",a,this.fieldCursor_),this.error_=!0,!1;this.nextField_=b;this.nextWireType_=a;return!0};d.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)};
d.skipMatchingFields=function(){var a=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==a;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()};d.skipVarintField=function(){0!=this.nextWireType_?(A("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()};d.skipDelimitedField=function(){if(2!=this.nextWireType_)A("Invalid wire type for skipDelimitedField"),this.skipField();else{var a=this.decoder_.readUnsignedVarint32();this.decoder_.advance(a)}};
d.skipFixed32Field=function(){5!=this.nextWireType_?(A("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)};d.skipFixed64Field=function(){1!=this.nextWireType_?(A("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)};
d.skipGroup=function(){var a=this.nextField_;do{if(!this.nextField()){A("Unmatched start-group tag: stream EOF");this.error_=!0;break}if(4==this.nextWireType_){this.nextField_!=a&&(A("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}while(1)};
d.skipField=function(){switch(this.nextWireType_){case 0:this.skipVarintField();break;case 1:this.skipFixed64Field();break;case 2:this.skipDelimitedField();break;case 5:this.skipFixed32Field();break;case 3:this.skipGroup();break;default:this.error_=!0,A("Invalid wire encoding for field.")}};d.registerReadCallback=function(a,b){null===this.readCallbacks_&&(this.readCallbacks_={});z(!this.readCallbacks_[a]);this.readCallbacks_[a]=b};
d.runReadCallback=function(a){z(null!==this.readCallbacks_);a=this.readCallbacks_[a];z(a);return a(this)};
d.readAny=function(a){this.nextWireType_=yd(a);switch(a){case 1:return this.readDouble();case 2:return this.readFloat();case 3:return this.readInt64();case 4:return this.readUint64();case 5:return this.readInt32();case 6:return this.readFixed64();case 7:return this.readFixed32();case 8:return this.readBool();case 9:return this.readString();case 10:A("Group field type not supported in readAny()");case 11:A("Message field type not supported in readAny()");case 12:return this.readBytes();case 13:return this.readUint32();
case 14:return this.readEnum();case 15:return this.readSfixed32();case 16:return this.readSfixed64();case 17:return this.readSint32();case 18:return this.readSint64();case 30:return this.readFixedHash64();case 31:return this.readVarintHash64();default:A("Invalid field type in readAny()")}return 0};
d.readMessage=function(a,b){z(2==this.nextWireType_);var c=this.decoder_.getEnd(),e=this.decoder_.readUnsignedVarint32();e=this.decoder_.getCursor()+e;this.decoder_.setEnd(e);b(a,this);this.decoder_.setCursor(e);this.decoder_.setEnd(c)};d.readGroup=function(a,b,c){z(3==this.nextWireType_);z(this.nextField_==a);c(b,this);this.error_||4==this.nextWireType_||(A("Group submessage did not end with an END_GROUP tag"),this.error_=!0)};
d.getFieldDecoder=function(){z(2==this.nextWireType_);var a=this.decoder_.readUnsignedVarint32(),b=this.decoder_.getCursor(),c=b+a;a=pe(this.decoder_.getBuffer(),b,a);this.decoder_.setCursor(c);return a};d.readInt32=function(){z(0==this.nextWireType_);return this.decoder_.readSignedVarint32()};d.readInt32String=function(){z(0==this.nextWireType_);return this.decoder_.readSignedVarint32String()};d.readInt64=function(){z(0==this.nextWireType_);return this.decoder_.readSignedVarint64()};
d.readInt64String=function(){z(0==this.nextWireType_);return this.decoder_.readSignedVarint64String()};d.readUint32=function(){z(0==this.nextWireType_);return this.decoder_.readUnsignedVarint32()};d.readUint32String=function(){z(0==this.nextWireType_);return this.decoder_.readUnsignedVarint32String()};d.readUint64=function(){z(0==this.nextWireType_);return this.decoder_.readUnsignedVarint64()};d.readUint64String=function(){z(0==this.nextWireType_);return this.decoder_.readUnsignedVarint64String()};
d.readSint32=function(){z(0==this.nextWireType_);return this.decoder_.readZigzagVarint32()};d.readSint64=function(){z(0==this.nextWireType_);return this.decoder_.readZigzagVarint64()};d.readSint64String=function(){z(0==this.nextWireType_);return this.decoder_.readZigzagVarint64String()};d.readFixed32=function(){z(5==this.nextWireType_);return this.decoder_.readUint32()};d.readFixed64=function(){z(1==this.nextWireType_);return this.decoder_.readUint64()};
d.readFixed64String=function(){z(1==this.nextWireType_);return this.decoder_.readUint64String()};d.readSfixed32=function(){z(5==this.nextWireType_);return this.decoder_.readInt32()};d.readSfixed32String=function(){z(5==this.nextWireType_);return this.decoder_.readInt32().toString()};d.readSfixed64=function(){z(1==this.nextWireType_);return this.decoder_.readInt64()};d.readSfixed64String=function(){z(1==this.nextWireType_);return this.decoder_.readInt64String()};
d.readFloat=function(){z(5==this.nextWireType_);return this.decoder_.readFloat()};d.readDouble=function(){z(1==this.nextWireType_);return this.decoder_.readDouble()};d.readBool=function(){z(0==this.nextWireType_);return!!this.decoder_.readUnsignedVarint32()};d.readEnum=function(){z(0==this.nextWireType_);return this.decoder_.readSignedVarint64()};d.readString=function(){z(2==this.nextWireType_);var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(a)};
d.readBytes=function(){z(2==this.nextWireType_);var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(a)};d.readVarintHash64=function(){z(0==this.nextWireType_);return this.decoder_.readVarintHash64()};d.readSintHash64=function(){z(0==this.nextWireType_);return this.decoder_.readZigzagVarintHash64()};d.readSplitVarint64=function(a){z(0==this.nextWireType_);return this.decoder_.readSplitVarint64(a)};
d.readSplitZigzagVarint64=function(a){z(0==this.nextWireType_);return this.decoder_.readSplitVarint64(function(b,c){return ge(b,c,a)})};d.readFixedHash64=function(){z(1==this.nextWireType_);return this.decoder_.readFixedHash64()};d.readSplitFixed64=function(a){z(1==this.nextWireType_);return this.decoder_.readSplitFixed64(a)};
d.readPackedField_=function(a){z(2==this.nextWireType_);var b=this.decoder_.readUnsignedVarint32();b=this.decoder_.getCursor()+b;for(var c=[];this.decoder_.getCursor()<b;)c.push(a.call(this.decoder_));return c};d.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)};d.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)};d.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)};
d.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)};d.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)};d.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)};d.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)};d.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)};
d.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)};d.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)};d.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)};d.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)};d.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)};d.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)};
d.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)};d.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)};d.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)};d.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)};d.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)};d.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)};
d.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)};d.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)};d.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)};var H=function(a,b){this.lo=a;this.hi=b};d=H.prototype;d.cmp=function(a){return this.hi<a.hi||this.hi==a.hi&&this.lo<a.lo?-1:this.hi==a.hi&&this.lo==a.lo?0:1};d.rightShift=function(){return new H((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};d.leftShift=function(){return new H(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};d.msb=function(){return!!(this.hi&2147483648)};d.lsb=function(){return!!(this.lo&1)};d.zero=function(){return 0==this.lo&&0==this.hi};
d.add=function(a){return new H((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};d.sub=function(a){return new H((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};var se=function(a,b){var c=a&65535;a>>>=16;var e=b&65535,f=b>>>16;b=c*e+65536*(c*f&65535)+65536*(a*e&65535);for(c=a*f+(c*f>>>16)+(a*e>>>16);4294967296<=b;)b-=4294967296,c+=1;return new H(b>>>0,c>>>0)};
H.prototype.mul=function(a){var b=se(this.lo,a);a=se(this.hi,a);a.hi=a.lo;a.lo=0;return b.add(a)};H.prototype.div=function(a){if(0==a)return[];for(var b=new H(0,0),c=new H(this.lo,this.hi),e=new H(a,0),f=new H(1,0);!e.msb();)e=e.leftShift(),f=f.leftShift();for(;!f.zero();)0>=e.cmp(c)&&(b=b.add(f),c=c.sub(e)),e=e.rightShift(),f=f.rightShift();return[b,c]};H.prototype.toString=function(){for(var a="",b=this;!b.zero();){b=b.div(10);var c=b[0];a=b[1].lo+a;b=c}""==a&&(a="0");return a};
var te=function(a){for(var b=new H(0,0),c=new H(0,0),e=0;e<a.length;e++){if("0">a[e]||"9"<a[e])return null;c.lo=parseInt(a[e],10);b=b.mul(10).add(c)}return b};H.prototype.clone=function(){return new H(this.lo,this.hi)};var ue=function(a,b){this.lo=a;this.hi=b};ue.prototype.add=function(a){return new ue((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};
ue.prototype.sub=function(a){return new ue((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};ue.prototype.clone=function(){return new ue(this.lo,this.hi)};ue.prototype.toString=function(){var a=0!=(this.hi&2147483648),b=new H(this.lo,this.hi);a&&(b=(new H(0,0)).sub(b));return(a?"-":"")+b.toString()};var ve=function(a){var b=0<a.length&&"-"==a[0];b&&(a=a.substring(1));a=te(a);if(null===a)return null;b&&(a=(new H(0,0)).sub(a));return new ue(a.lo,a.hi)};var we=function(){this.buffer_=[]};d=we.prototype;d.length=function(){return this.buffer_.length};d.end=function(){var a=this.buffer_;this.buffer_=[];return a};d.writeSplitVarint64=function(a,b){z(a==Math.floor(a));z(b==Math.floor(b));z(0<=a&&4294967296>a);for(z(0<=b&&4294967296>b);0<b||127<a;)this.buffer_.push(a&127|128),a=(a>>>7|b<<25)>>>0,b>>>=7;this.buffer_.push(a)};
d.writeSplitFixed64=function(a,b){z(a==Math.floor(a));z(b==Math.floor(b));z(0<=a&&4294967296>a);z(0<=b&&4294967296>b);this.writeUint32(a);this.writeUint32(b)};d.writeUnsignedVarint32=function(a){z(a==Math.floor(a));for(z(0<=a&&4294967296>a);127<a;)this.buffer_.push(a&127|128),a>>>=7;this.buffer_.push(a)};d.writeSignedVarint32=function(a){z(a==Math.floor(a));z(-2147483648<=a&&2147483648>a);if(0<=a)this.writeUnsignedVarint32(a);else{for(var b=0;9>b;b++)this.buffer_.push(a&127|128),a>>=7;this.buffer_.push(1)}};
d.writeUnsignedVarint64=function(a){z(a==Math.floor(a));z(0<=a&&1.8446744073709552E19>a);be(a);this.writeSplitVarint64(F,G)};d.writeSignedVarint64=function(a){z(a==Math.floor(a));z(-9223372036854775808<=a&&0x7fffffffffffffff>a);be(a);this.writeSplitVarint64(F,G)};d.writeZigzagVarint32=function(a){z(a==Math.floor(a));z(-2147483648<=a&&2147483648>a);this.writeUnsignedVarint32((a<<1^a>>31)>>>0)};
d.writeZigzagVarint64=function(a){z(a==Math.floor(a));z(-9223372036854775808<=a&&0x7fffffffffffffff>a);var b=a;a=0>b;b=2*Math.abs(b);ae(b);b=F;var c=G;a&&(0==b?0==c?c=b=4294967295:(c--,b=4294967295):b--);F=b;G=c;this.writeSplitVarint64(F,G)};d.writeZigzagVarint64String=function(a){this.writeZigzagVarintHash64(le(a))};d.writeZigzagVarintHash64=function(a){var b=this;ce(a);fe(F,G,function(c,e){b.writeSplitVarint64(c>>>0,e>>>0)})};
d.writeUint8=function(a){z(a==Math.floor(a));z(0<=a&&256>a);this.buffer_.push(a>>>0&255)};d.writeUint16=function(a){z(a==Math.floor(a));z(0<=a&&65536>a);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};d.writeUint32=function(a){z(a==Math.floor(a));z(0<=a&&4294967296>a);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};
d.writeUint64=function(a){z(a==Math.floor(a));z(0<=a&&1.8446744073709552E19>a);ae(a);this.writeUint32(F);this.writeUint32(G)};d.writeInt8=function(a){z(a==Math.floor(a));z(-128<=a&&128>a);this.buffer_.push(a>>>0&255)};d.writeInt16=function(a){z(a==Math.floor(a));z(-32768<=a&&32768>a);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};
d.writeInt32=function(a){z(a==Math.floor(a));z(-2147483648<=a&&2147483648>a);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};d.writeInt64=function(a){z(a==Math.floor(a));z(-9223372036854775808<=a&&0x7fffffffffffffff>a);be(a);this.writeSplitFixed64(F,G)};d.writeInt64String=function(a){z(a==Math.floor(a));z(-9223372036854775808<=+a&&0x7fffffffffffffff>+a);ce(le(a));this.writeSplitFixed64(F,G)};
d.writeFloat=function(a){z(Infinity===a||-Infinity===a||isNaN(a)||-3.4028234663852886E38<=a&&3.4028234663852886E38>=a);var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?F=G=0:(G=0,F=2147483648);else if(isNaN(b))G=0,F=2147483647;else if(3.4028234663852886E38<b)G=0,F=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),G=0,F=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;G=0;F=(a<<31|c+127<<23|b)>>>0}this.writeUint32(F)};
d.writeDouble=function(a){z(Infinity===a||-Infinity===a||isNaN(a)||-1.7976931348623157E308<=a&&1.7976931348623157E308>=a);var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)G=0<1/b?0:2147483648,F=0;else if(isNaN(b))G=2147483647,F=4294967295;else if(1.7976931348623157E308<b)G=(a<<31|2146435072)>>>0,F=0;else if(2.2250738585072014E-308>b)b/=Math.pow(2,-1074),G=(a<<31|b/4294967296)>>>0,F=b>>>0;else{var c=b,e=0;if(2<=c)for(;2<=c&&1023>e;)e++,c/=2;else for(;1>c&&-1022<e;)c*=2,e--;b*=Math.pow(2,-e);G=(a<<31|e+1023<<20|
1048576*b&1048575)>>>0;F=4503599627370496*b>>>0}this.writeUint32(F);this.writeUint32(G)};d.writeBool=function(a){z("boolean"===typeof a||"number"===typeof a);this.buffer_.push(a?1:0)};d.writeEnum=function(a){z(a==Math.floor(a));z(-2147483648<=a&&2147483648>a);this.writeSignedVarint32(a)};d.writeBytes=function(a){this.buffer_.push.apply(this.buffer_,a)};d.writeVarintHash64=function(a){ce(a);this.writeSplitVarint64(F,G)};d.writeFixedHash64=function(a){ce(a);this.writeUint32(F);this.writeUint32(G)};
d.writeString=function(a){for(var b=this.buffer_.length,c=0;c<a.length;c++){var e=a.charCodeAt(c);if(128>e)this.buffer_.push(e);else if(2048>e)this.buffer_.push(e>>6|192),this.buffer_.push(e&63|128);else if(65536>e)if(55296<=e&&56319>=e&&c+1<a.length){var f=a.charCodeAt(c+1);56320<=f&&57343>=f&&(e=1024*(e-55296)+f-56320+65536,this.buffer_.push(e>>18|240),this.buffer_.push(e>>12&63|128),this.buffer_.push(e>>6&63|128),this.buffer_.push(e&63|128),c++)}else this.buffer_.push(e>>12|224),this.buffer_.push(e>>
6&63|128),this.buffer_.push(e&63|128)}return this.buffer_.length-b};var J=function(){this.blocks_=[];this.totalLength_=0;this.encoder_=new we;this.bookmarks_=[]};d=J.prototype;d.appendUint8Array_=function(a){var b=this.encoder_.end();this.blocks_.push(b);this.blocks_.push(a);this.totalLength_+=b.length+a.length};d.beginDelimited_=function(a){this.writeFieldHeader_(a,2);a=this.encoder_.end();this.blocks_.push(a);this.totalLength_+=a.length;a.push(this.totalLength_);return a};
d.endDelimited_=function(a){var b=a.pop();b=this.totalLength_+this.encoder_.length()-b;for(z(0<=b);127<b;)a.push(b&127|128),b>>>=7,this.totalLength_++;a.push(b);this.totalLength_++};d.writeSerializedMessage=function(a,b,c){this.appendUint8Array_(a.subarray(b,c))};d.maybeWriteSerializedMessage=function(a,b,c){null!=a&&null!=b&&null!=c&&this.writeSerializedMessage(a,b,c)};d.reset=function(){this.blocks_=[];this.encoder_.end();this.totalLength_=0;this.bookmarks_=[]};
d.getResultBuffer=function(){z(0==this.bookmarks_.length);for(var a=new Uint8Array(this.totalLength_+this.encoder_.length()),b=this.blocks_,c=b.length,e=0,f=0;f<c;f++){var g=b[f];a.set(g,e);e+=g.length}b=this.encoder_.end();a.set(b,e);e+=b.length;z(e==a.length);this.blocks_=[a];return a};d.getResultBase64String=function(a){return Xd(this.getResultBuffer(),a)};d.beginSubMessage=function(a){this.bookmarks_.push(this.beginDelimited_(a))};d.endSubMessage=function(){z(0<=this.bookmarks_.length);this.endDelimited_(this.bookmarks_.pop())};
d.writeFieldHeader_=function(a,b){z(1<=a&&a==Math.floor(a));this.encoder_.writeUnsignedVarint32(8*a+b)};
d.writeAny=function(a,b,c){switch(a){case 1:this.writeDouble(b,c);break;case 2:this.writeFloat(b,c);break;case 3:this.writeInt64(b,c);break;case 4:this.writeUint64(b,c);break;case 5:this.writeInt32(b,c);break;case 6:this.writeFixed64(b,c);break;case 7:this.writeFixed32(b,c);break;case 8:this.writeBool(b,c);break;case 9:this.writeString(b,c);break;case 10:A("Group field type not supported in writeAny()");break;case 11:A("Message field type not supported in writeAny()");break;case 12:this.writeBytes(b,
c);break;case 13:this.writeUint32(b,c);break;case 14:this.writeEnum(b,c);break;case 15:this.writeSfixed32(b,c);break;case 16:this.writeSfixed64(b,c);break;case 17:this.writeSint32(b,c);break;case 18:this.writeSint64(b,c);break;case 30:this.writeFixedHash64(b,c);break;case 31:this.writeVarintHash64(b,c);break;default:A("Invalid field type in writeAny()")}};d.writeUnsignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeUnsignedVarint32(b))};
d.writeSignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeSignedVarint32(b))};d.writeUnsignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeUnsignedVarint64(b))};d.writeSignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeSignedVarint64(b))};d.writeZigzagVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeZigzagVarint32(b))};
d.writeZigzagVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeZigzagVarint64(b))};d.writeZigzagVarint64String_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeZigzagVarint64String(b))};d.writeZigzagVarintHash64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeZigzagVarintHash64(b))};d.writeInt32=function(a,b){null!=b&&(z(-2147483648<=b&&2147483648>b),this.writeSignedVarint32_(a,b))};
d.writeInt32String=function(a,b){null!=b&&(b=parseInt(b,10),z(-2147483648<=b&&2147483648>b),this.writeSignedVarint32_(a,b))};d.writeInt64=function(a,b){null!=b&&(z(-9223372036854775808<=b&&0x7fffffffffffffff>b),this.writeSignedVarint64_(a,b))};d.writeInt64String=function(a,b){null!=b&&(b=ve(b),this.writeFieldHeader_(a,0),this.encoder_.writeSplitVarint64(b.lo,b.hi))};d.writeUint32=function(a,b){null!=b&&(z(0<=b&&4294967296>b),this.writeUnsignedVarint32_(a,b))};
d.writeUint32String=function(a,b){null!=b&&(b=parseInt(b,10),z(0<=b&&4294967296>b),this.writeUnsignedVarint32_(a,b))};d.writeUint64=function(a,b){null!=b&&(z(0<=b&&1.8446744073709552E19>b),this.writeUnsignedVarint64_(a,b))};d.writeUint64String=function(a,b){null!=b&&(b=te(b),this.writeFieldHeader_(a,0),this.encoder_.writeSplitVarint64(b.lo,b.hi))};d.writeSint32=function(a,b){null!=b&&(z(-2147483648<=b&&2147483648>b),this.writeZigzagVarint32_(a,b))};
d.writeSint64=function(a,b){null!=b&&(z(-9223372036854775808<=b&&0x7fffffffffffffff>b),this.writeZigzagVarint64_(a,b))};d.writeSintHash64=function(a,b){null!=b&&this.writeZigzagVarintHash64_(a,b)};d.writeSint64String=function(a,b){null!=b&&this.writeZigzagVarint64String_(a,b)};d.writeFixed32=function(a,b){null!=b&&(z(0<=b&&4294967296>b),this.writeFieldHeader_(a,5),this.encoder_.writeUint32(b))};d.writeFixed64=function(a,b){null!=b&&(z(0<=b&&1.8446744073709552E19>b),this.writeFieldHeader_(a,1),this.encoder_.writeUint64(b))};
d.writeFixed64String=function(a,b){null!=b&&(b=te(b),this.writeFieldHeader_(a,1),this.encoder_.writeSplitFixed64(b.lo,b.hi))};d.writeSfixed32=function(a,b){null!=b&&(z(-2147483648<=b&&2147483648>b),this.writeFieldHeader_(a,5),this.encoder_.writeInt32(b))};d.writeSfixed64=function(a,b){null!=b&&(z(-9223372036854775808<=b&&0x7fffffffffffffff>b),this.writeFieldHeader_(a,1),this.encoder_.writeInt64(b))};
d.writeSfixed64String=function(a,b){null!=b&&(b=ve(b),this.writeFieldHeader_(a,1),this.encoder_.writeSplitFixed64(b.lo,b.hi))};d.writeFloat=function(a,b){null!=b&&(this.writeFieldHeader_(a,5),this.encoder_.writeFloat(b))};d.writeDouble=function(a,b){null!=b&&(this.writeFieldHeader_(a,1),this.encoder_.writeDouble(b))};d.writeBool=function(a,b){null!=b&&(z("boolean"===typeof b||"number"===typeof b),this.writeFieldHeader_(a,0),this.encoder_.writeBool(b))};
d.writeEnum=function(a,b){null!=b&&(z(-2147483648<=b&&2147483648>b),this.writeFieldHeader_(a,0),this.encoder_.writeSignedVarint32(b))};d.writeString=function(a,b){null!=b&&(a=this.beginDelimited_(a),this.encoder_.writeString(b),this.endDelimited_(a))};d.writeBytes=function(a,b){null!=b&&(b=me(b),this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(b.length),this.appendUint8Array_(b))};d.writeMessage=function(a,b,c){null!=b&&(a=this.beginDelimited_(a),c(b,this),this.endDelimited_(a))};
d.writeMessageSet=function(a,b,c){null!=b&&(this.writeFieldHeader_(1,3),this.writeFieldHeader_(2,0),this.encoder_.writeSignedVarint32(a),a=this.beginDelimited_(3),c(b,this),this.endDelimited_(a),this.writeFieldHeader_(1,4))};d.writeGroup=function(a,b,c){null!=b&&(this.writeFieldHeader_(a,3),c(b,this),this.writeFieldHeader_(a,4))};d.writeFixedHash64=function(a,b){null!=b&&(z(8==b.length),this.writeFieldHeader_(a,1),this.encoder_.writeFixedHash64(b))};
d.writeVarintHash64=function(a,b){null!=b&&(z(8==b.length),this.writeFieldHeader_(a,0),this.encoder_.writeVarintHash64(b))};d.writeSplitFixed64=function(a,b,c){this.writeFieldHeader_(a,1);this.encoder_.writeSplitFixed64(b,c)};d.writeSplitVarint64=function(a,b,c){this.writeFieldHeader_(a,0);this.encoder_.writeSplitVarint64(b,c)};d.writeSplitZigzagVarint64=function(a,b,c){this.writeFieldHeader_(a,0);var e=this.encoder_;fe(b,c,function(f,g){e.writeSplitVarint64(f>>>0,g>>>0)})};
d.writeRepeatedInt32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint32_(a,b[c])};d.writeRepeatedInt32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt32String(a,b[c])};d.writeRepeatedInt64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint64_(a,b[c])};d.writeRepeatedSplitFixed64=function(a,b,c,e){if(null!=b)for(var f=0;f<b.length;f++)this.writeSplitFixed64(a,c(b[f]),e(b[f]))};
d.writeRepeatedSplitVarint64=function(a,b,c,e){if(null!=b)for(var f=0;f<b.length;f++)this.writeSplitVarint64(a,c(b[f]),e(b[f]))};d.writeRepeatedSplitZigzagVarint64=function(a,b,c,e){if(null!=b)for(var f=0;f<b.length;f++)this.writeSplitZigzagVarint64(a,c(b[f]),e(b[f]))};d.writeRepeatedInt64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt64String(a,b[c])};d.writeRepeatedUint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint32_(a,b[c])};
d.writeRepeatedUint32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint32String(a,b[c])};d.writeRepeatedUint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint64_(a,b[c])};d.writeRepeatedUint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint64String(a,b[c])};d.writeRepeatedSint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint32_(a,b[c])};
d.writeRepeatedSint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64_(a,b[c])};d.writeRepeatedSint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64String_(a,b[c])};d.writeRepeatedSintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarintHash64_(a,b[c])};d.writeRepeatedFixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed32(a,b[c])};
d.writeRepeatedFixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64(a,b[c])};d.writeRepeatedFixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64String(a,b[c])};d.writeRepeatedSfixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed32(a,b[c])};d.writeRepeatedSfixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64(a,b[c])};
d.writeRepeatedSfixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64String(a,b[c])};d.writeRepeatedFloat=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFloat(a,b[c])};d.writeRepeatedDouble=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeDouble(a,b[c])};d.writeRepeatedBool=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBool(a,b[c])};d.writeRepeatedEnum=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeEnum(a,b[c])};
d.writeRepeatedString=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeString(a,b[c])};d.writeRepeatedBytes=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBytes(a,b[c])};d.writeRepeatedMessage=function(a,b,c){if(null!=b)for(var e=0;e<b.length;e++){var f=this.beginDelimited_(a);c(b[e],this);this.endDelimited_(f)}};d.writeRepeatedGroup=function(a,b,c){if(null!=b)for(var e=0;e<b.length;e++)this.writeFieldHeader_(a,3),c(b[e],this),this.writeFieldHeader_(a,4)};
d.writeRepeatedFixedHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixedHash64(a,b[c])};d.writeRepeatedVarintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeVarintHash64(a,b[c])};d.writePackedInt32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint32(b[c]);this.endDelimited_(a)}};
d.writePackedInt32String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint32(parseInt(b[c],10));this.endDelimited_(a)}};d.writePackedInt64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint64(b[c]);this.endDelimited_(a)}};
d.writePackedSplitFixed64=function(a,b,c,e){if(null!=b){a=this.beginDelimited_(a);for(var f=0;f<b.length;f++)this.encoder_.writeSplitFixed64(c(b[f]),e(b[f]));this.endDelimited_(a)}};d.writePackedSplitVarint64=function(a,b,c,e){if(null!=b){a=this.beginDelimited_(a);for(var f=0;f<b.length;f++)this.encoder_.writeSplitVarint64(c(b[f]),e(b[f]));this.endDelimited_(a)}};
d.writePackedSplitZigzagVarint64=function(a,b,c,e){if(null!=b){a=this.beginDelimited_(a);for(var f=this.encoder_,g=0;g<b.length;g++)fe(c(b[g]),e(b[g]),function(k,l){f.writeSplitVarint64(k>>>0,l>>>0)});this.endDelimited_(a)}};d.writePackedInt64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++){var e=ve(b[c]);this.encoder_.writeSplitVarint64(e.lo,e.hi)}this.endDelimited_(a)}};
d.writePackedUint32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint32(b[c]);this.endDelimited_(a)}};d.writePackedUint32String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint32(parseInt(b[c],10));this.endDelimited_(a)}};
d.writePackedUint64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint64(b[c]);this.endDelimited_(a)}};d.writePackedUint64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++){var e=te(b[c]);this.encoder_.writeSplitVarint64(e.lo,e.hi)}this.endDelimited_(a)}};
d.writePackedSint32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarint32(b[c]);this.endDelimited_(a)}};d.writePackedSint64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarint64(b[c]);this.endDelimited_(a)}};
d.writePackedSint64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarintHash64(le(b[c]));this.endDelimited_(a)}};d.writePackedSintHash64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarintHash64(b[c]);this.endDelimited_(a)}};
d.writePackedFixed32=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeUint32(b[a])};d.writePackedFixed64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeUint64(b[a])};
d.writePackedFixed64String=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++){var c=te(b[a]);this.encoder_.writeSplitFixed64(c.lo,c.hi)}};d.writePackedSfixed32=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeInt32(b[a])};
d.writePackedSfixed64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64(b[a])};d.writePackedSfixed64String=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64String(b[a])};
d.writePackedFloat=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeFloat(b[a])};d.writePackedDouble=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeDouble(b[a])};
d.writePackedBool=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(b.length),a=0;a<b.length;a++)this.encoder_.writeBool(b[a])};d.writePackedEnum=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeEnum(b[c]);this.endDelimited_(a)}};d.writePackedFixedHash64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeFixedHash64(b[a])};
d.writePackedVarintHash64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeVarintHash64(b[c]);this.endDelimited_(a)}};var xe=function(a,b,c,e,f){this.fieldIndex=a;this.fieldName=b;this.ctor=c;this.toObjectFn=e;this.isRepeated=f};xe.prototype.isMessageType=function(){return!!this.ctor};var K=function(){},ye="function"==typeof Uint8Array;K.prototype.getJsPbMessageId=function(){return this.messageId_};
var N=function(a,b,c,e,f,g){a.wrappers_=null;b||(b=c?[c]:[]);a.messageId_=c?String(c):void 0;a.arrayIndexOffset_=0===c?-1:0;a.array=b;a:{c=a.array.length;b=-1;if(c&&(b=c-1,c=a.array[b],!(null===c||"object"!=typeof c||za(c)||ye&&c instanceof Uint8Array))){a.pivot_=b-a.arrayIndexOffset_;a.extensionObject_=c;break a}-1<e?(a.pivot_=Math.max(e,b+1-a.arrayIndexOffset_),a.extensionObject_=null):a.pivot_=Number.MAX_VALUE}a.convertedPrimitiveFields_={};if(f)for(e=0;e<f.length;e++)b=f[e],b<a.pivot_?(b+=a.arrayIndexOffset_,
a.array[b]=a.array[b]||ze):(Ae(a),a.extensionObject_[b]=a.extensionObject_[b]||ze);if(g&&g.length)for(e=0;e<g.length;e++){b=f=void 0;c=a;for(var k=g[e],l=0;l<k.length;l++){var n=k[l],p=L(c,n);null!=p&&(b=n,f=p,M(c,n,void 0))}b&&M(c,b,f)}},ze=Object.freeze?Object.freeze([]):[],Ae=function(a){var b=a.pivot_+a.arrayIndexOffset_;a.array[b]||(a.extensionObject_=a.array[b]={})},Be=function(a,b,c){for(var e=[],f=0;f<a.length;f++)e[f]=b.call(a[f],c,a[f]);return e},Ce=function(a,b,c,e,f){for(var g in c){var k=
c[g],l=e.call(a,k);if(null!=l){for(var n in k.fieldName)if(k.fieldName.hasOwnProperty(n))break;b[n]=k.toObjectFn?k.isRepeated?Be(l,k.toObjectFn,f):k.toObjectFn(f,l):l}}},De=function(a,b,c,e){for(var f in c){var g=c[f],k=g.fieldInfo;if(!g.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var l=e.call(a,k);if(null!=l)if(k.isMessageType())if(g.binaryMessageSerializeFn)g.binaryWriterFn.call(b,k.fieldIndex,l,g.binaryMessageSerializeFn);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");
else g.binaryWriterFn.call(b,k.fieldIndex,l)}},L=function(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;var c=a.array[b];return c===ze?a.array[b]=[]:c}if(a.extensionObject_)return c=a.extensionObject_[b],c===ze?a.extensionObject_[b]=[]:c},O=function(a,b){a=L(a,b);return null==a?a:!!a},Ee=function(a){if(null==a||"string"===typeof a)return a;if(ye&&a instanceof Uint8Array)return Xd(a);A("Cannot coerce to b64 string: "+v(a));return null},Fe=function(a){if(null==a||a instanceof Uint8Array)return a;if("string"===
typeof a)return $d(a);A("Cannot coerce to Uint8Array: "+v(a));return null},He=function(a){Ge(a);return a.length&&"string"!==typeof a[0]?lb(a,Ee):a},Ie=function(a){Ge(a);return!a.length||a[0]instanceof Uint8Array?a:lb(a,Fe)},Ge=function(a){if(a&&1<a.length){var b=v(a[0]);jb(a,function(c){v(c)!=b&&A("Inconsistent type in JSPB repeated field array. Got "+v(c)+" expected "+b)})}},Je=function(a,b,c){a=L(a,b);return null==a?c:a},M=function(a,b,c){hb(a,K);b<a.pivot_?a.array[b+a.arrayIndexOffset_]=c:(Ae(a),
a.extensionObject_[b]=c);return a},Ke=function(a,b,c,e){hb(a,K);b=L(a,b);void 0!=e?b.splice(e,0,c):b.push(c);return a},P=function(a,b,c,e){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){var f=L(a,c);if(e||f)a.wrappers_[c]=new b(f)}return a.wrappers_[c]},Me=function(a,b,c){Le(a,b,c);b=a.wrappers_[c];b==ze&&(b=a.wrappers_[c]=[]);return b},Le=function(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){for(var e=L(a,c),f=[],g=0;g<e.length;g++)f[g]=new b(e[g]);a.wrappers_[c]=f}},Q=function(a,
b,c){hb(a,K);a.wrappers_||(a.wrappers_={});var e=c?c.toArray():c;a.wrappers_[b]=c;return M(a,b,e)},Ne=function(a,b,c){hb(a,K);a.wrappers_||(a.wrappers_={});c=c||[];for(var e=[],f=0;f<c.length;f++)e[f]=c[f].toArray();a.wrappers_[b]=c;return M(a,b,e)},Oe=function(a,b,c,e,f){Le(a,e,b);var g=a.wrappers_[b];g||(g=a.wrappers_[b]=[]);c=c?c:new e;a=L(a,b);void 0!=f?(g.splice(f,0,c),a.splice(f,0,c.toArray())):(g.push(c),a.push(c.toArray()));return c};
K.prototype.syncMapFields_=function(){if(this.wrappers_)for(var a in this.wrappers_){var b=this.wrappers_[a];if(za(b))for(var c=0;c<b.length;c++)b[c]&&b[c].toArray();else b&&b.toArray()}};K.prototype.toArray=function(){this.syncMapFields_();return this.array};
K.prototype.serialize=ye?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){return Xd(this)};try{return JSON.stringify(this.array&&Pe(this.toArray(),this),Qe)}finally{Uint8Array.prototype.toJSON=a}}:function(){return JSON.stringify(this.array&&Pe(this.toArray(),this),Qe)};var Pe=function(a){return a},Qe=function(a,b){return"number"!==typeof b||!isNaN(b)&&Infinity!==b&&-Infinity!==b?b:String(b)};d=K.prototype;d.toString=function(){this.syncMapFields_();return this.array.toString()};
d.getExtension=function(a){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var b=a.fieldIndex;if(a.isRepeated){if(a.isMessageType())return this.wrappers_[b]||(this.wrappers_[b]=lb(this.extensionObject_[b]||[],function(c){return new a.ctor(c)})),this.wrappers_[b]}else if(a.isMessageType())return!this.wrappers_[b]&&this.extensionObject_[b]&&(this.wrappers_[b]=new a.ctor(this.extensionObject_[b])),this.wrappers_[b];return this.extensionObject_[b]}};
d.setExtension=function(a,b){this.wrappers_||(this.wrappers_={});Ae(this);var c=a.fieldIndex;a.isRepeated?(b=b||[],a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=lb(b,function(e){return e.toArray()})):this.extensionObject_[c]=b):a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=b?b.toArray():b):this.extensionObject_[c]=b;return this};d.cloneMessage=function(){return new this.constructor(Re(this.toArray()))};d.clone=function(){return new this.constructor(Re(this.toArray()))};
var Re=function(a){if(za(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var e=a[c];null!=e&&(b[c]="object"==typeof e?Re(z(e)):e)}return b}if(ye&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)e=a[c],null!=e&&(b[c]="object"==typeof e?Re(z(e)):e);return b};var Te=function(a){N(this,a,0,-1,Se,null)};y(Te,K);var Se=[2];Te.prototype.toObject=function(a){return Ue(a,this)};var Ue=function(a,b){var c,e={clearBlob:b.getClearBlob_asB64(),clearBlobJs:null==(c=L(b,4))?void 0:c,encryptedBlobList:b.getEncryptedBlobList_asB64(),usersMatch:null==(c=O(b,3))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Te.prototype.serializeBinary=function(){var a=new J;Ve(this,a);return a.getResultBuffer()};
var Ve=function(a,b){var c=L(a,1);null!=c&&b.writeBytes(1,c);c=L(a,4);null!=c&&b.writeString(4,c);c=a.getEncryptedBlobList_asU8();0<c.length&&b.writeRepeatedBytes(2,c);c=L(a,3);null!=c&&b.writeBool(3,c)};d=Te.prototype;d.getClearBlob=function(){return L(this,1)};d.getClearBlob_asB64=function(){return Ee(this.getClearBlob())};d.getClearBlob_asU8=function(){return Fe(this.getClearBlob())};d.setClearBlob=function(a){return M(this,1,a)};d.clearClearBlob=function(){return M(this,1,void 0)};
d.hasClearBlob=function(){return null!=L(this,1)};d.getClearBlobJs=function(){return L(this,4)};d.setClearBlobJs=function(a){return M(this,4,a)};d.clearClearBlobJs=function(){return M(this,4,void 0)};d.hasClearBlobJs=function(){return null!=L(this,4)};d.getEncryptedBlobList=function(){return L(this,2)};d.getEncryptedBlobList_asB64=function(){return He(this.getEncryptedBlobList())};d.getEncryptedBlobList_asU8=function(){return Ie(this.getEncryptedBlobList())};
d.setEncryptedBlobList=function(a){return M(this,2,a||[])};d.addEncryptedBlob=function(a,b){return Ke(this,2,a,b)};d.clearEncryptedBlobList=function(){return this.setEncryptedBlobList([])};d.getUsersMatch=function(){return O(this,3)};d.setUsersMatch=function(a){return M(this,3,a)};d.clearUsersMatch=function(){return M(this,3,void 0)};d.hasUsersMatch=function(){return null!=L(this,3)};var Xe=function(a,b){var c=Array.prototype.slice.call(arguments),e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Template required");return e.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(f,g,k,l,n,p,q,u){if("%"==p)return"%";var x=c.shift();if("undefined"==typeof x)throw Error("[goog.string.format] Not enough arguments");arguments[0]=x;return We[p].apply(null,arguments)})},We={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?
a+ed(" ",Number(c)-a.length):ed(" ",Number(c)-a.length)+a},f:function(a,b,c,e,f){e=a.toString();isNaN(f)||""==f||(e=parseFloat(a).toFixed(f));var g=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(e=g+e);if(isNaN(c)||e.length>=Number(c))return e;e=isNaN(f)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(f);a=Number(c)-e.length-g.length;return e=0<=b.indexOf("-",0)?g+e+ed(" ",a):g+ed(0<=b.indexOf("0",0)?"0":" ",a)+e},d:function(a,b,c,e,f,g,k,l){return We.f(parseInt(a,
10),b,c,e,0,g,k,l)}};We.i=We.d;We.u=We.d;var Ye=function(){this.interaction_event_id=this.impression_event_id=this.client_info=this.global_metadata=this.ve_metadata=void 0;this.testCodes=[];this.graft_type=void 0};var Ze={string:"click",xid:"cOuCgd"},$e={string:"generic_click",xid:"szJgjc"},af={string:"impression",xid:"xr6bB"},bf={string:"hover",xid:"ZmdkE"},cf={string:"keypress",xid:"Kr2w4b"},df={CLICK:Ze,GENERIC_CLICK:$e,IMPRESSION:af,HOVER:bf,KEYPRESS:cf},ef={string:"track",xid:"u014N"},ff={string:"index",xid:"cQYSPc"},gf={string:"mutable",xid:"dYFj7e"},hf={string:"tc",xid:"DM6Eze"},jf={TRACK:ef,INDEX:ff,MUTABLE:gf,TEST_CODE:hf},kf=ef.string,lf=ff.string,mf=gf.string,nf=hf.string,of=Ze.string,pf=$e.string,
qf=af.string,rf=bf.string,sf=cf.string,uf=function(a){if(tf.has(a))return tf.get(a);throw Error("Unrecognized EventLabel "+a+".");},wf=function(a){if(vf.has(a))return vf.get(a);throw Error("Unrecognized PartLabel "+a+".");},xf=function(a){var b=new Map,c;for(c in a)b.set(a[c].string,a[c].xid);return b},tf=xf(df),yf=new Map,zf;for(zf in df)yf.set(df[zf].xid,df[zf].string);var vf=xf(jf);var Af=function(a,b){this.visualElementID_=a;this.xidTagComponents_=b||!1;this.tracks_=new Set;this.index_=null;this.testCodes_=[];this.retain_cached_impression_=this.mutable_=!1;this.attribute_=null;this.metadataHandlers_=[];this.interactionMetadataHandler_=void 0};d=Af.prototype;d.getID=function(){return this.visualElementID_};d.tracksClicks=function(){return this.tracksEvent(of)};d.tracksGenericClicks=function(){return this.tracksEvent(pf)};d.tracksImpressions=function(){return this.tracksEvent(qf)};
d.tracksKeypress=function(){return this.tracksEvent(sf)};d.tracksHover=function(){return this.tracksEvent(rf)};d.tracksEvent=function(a){this.tracks_.add(this.maybeXidEventLabel_(a));return this};d.tracksEventXid=function(a){if(!this.xidTagComponents_)throw Error("Method isTrackingXid should only be used when xidTagComponents_ is true.");if(!yf.has(a))throw Error("Unrecognized eventLabelXid: "+a+".");this.tracks_.add(a);return this};
d.isTracking=function(a){return a?this.tracks_.has(this.maybeXidEventLabel_(a)):0!=this.tracks_.size};d.isTrackingXid=function(a){if(!this.xidTagComponents_)throw Error("Method isTrackingXid should only be used when xidTagComponents_ is true.");if(!yf.has(a))throw Error("Unrecognized eventLabelXid: "+a+".");return this.tracks_.has(a)};d.setIndex=function(a){this.index_=a;return this};d.getIndex=function(){return this.index_};d.setTestCodes=function(a){this.testCodes_=a;return this};
d.getTestCodes=function(){return this.testCodes_};d.setMutable=function(a){this.mutable_=a;return this};d.isMutable=function(){return this.mutable_};d.setRetainCachedImpression=function(a){this.retain_cached_impression_=a;return this};d.isCachedImpressionRetained=function(){return this.retain_cached_impression_};d.setAttribute=function(a){this.attribute_=a;return this};d.getAttribute=function(){return this.attribute_};d.addMetadataHandler=function(a){this.metadataHandlers_.push(a)};
d.getHandlerSize=function(){return this.metadataHandlers_.length};d.mergeTo=function(a){for(var b=0;b<this.metadataHandlers_.length;++b)this.metadataHandlers_[b](a)};d.addInteractionMetadataHandler=function(a){this.interactionMetadataHandler_=a};d.getInteractionMetadataHandler=function(){return this.interactionMetadataHandler_};d.populateInteractionMetadata=function(a){this.interactionMetadataHandler_&&this.interactionMetadataHandler_(a)};
d.getFormattedTag=function(){return this.visualElementID_+this.getTracksLabel()+this.getIndexLabel_()+this.getMutableLabel_()};d.maybeXidEventLabel_=function(a){return this.xidTagComponents_?uf(a):a};d.maybeXidPartLabel_=function(a){return this.xidTagComponents_?wf(a):a};d.getTracksLabel=function(){return 0==this.tracks_.size?"":Xe("; %s:%s",this.maybeXidPartLabel_(kf),Array.from(this.tracks_.values()).join(","))};
d.getIndexLabel_=function(){return this.index_?Xe("; %s:%s",this.maybeXidPartLabel_(lf),this.index_):""};d.getMutableLabel_=function(){return this.mutable_?Xe("; %s:%s",this.maybeXidPartLabel_(mf),this.mutable_.toString()):""};var Cf=function(a){N(this,a,0,-1,Bf,null)};y(Cf,K);var Bf=[1,2,3,4,5];Cf.prototype.toObject=function(a){return Df(a,this)};var Df=function(a,b){var c,e={clientAlteringExperimentList:null==(c=L(b,1))?void 0:c,otherExperimentList:null==(c=L(b,2))?void 0:c,gwsExperimentList:null==(c=L(b,3))?void 0:c,playExperimentList:null==(c=L(b,4))?void 0:c,unsupportedPlayExperimentList:null==(c=L(b,5))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};
Cf.prototype.serializeBinary=function(){var a=new J;Ef(this,a);return a.getResultBuffer()};var Ef=function(a,b){var c=a.getClientAlteringExperimentList();0<c.length&&b.writeRepeatedString(1,c);c=a.getOtherExperimentList();0<c.length&&b.writeRepeatedString(2,c);c=a.getGwsExperimentList();0<c.length&&b.writeRepeatedInt32(3,c);c=a.getPlayExperimentList();0<c.length&&b.writeRepeatedInt64(4,c);c=a.getUnsupportedPlayExperimentList();0<c.length&&b.writeRepeatedInt64(5,c)};d=Cf.prototype;
d.getClientAlteringExperimentList=function(){return L(this,1)};d.setClientAlteringExperimentList=function(a){return M(this,1,a||[])};d.addClientAlteringExperiment=function(a,b){return Ke(this,1,a,b)};d.clearClientAlteringExperimentList=function(){return this.setClientAlteringExperimentList([])};d.getOtherExperimentList=function(){return L(this,2)};d.setOtherExperimentList=function(a){return M(this,2,a||[])};d.addOtherExperiment=function(a,b){return Ke(this,2,a,b)};d.clearOtherExperimentList=function(){return this.setOtherExperimentList([])};
d.getGwsExperimentList=function(){return L(this,3)};d.setGwsExperimentList=function(a){return M(this,3,a||[])};d.addGwsExperiment=function(a,b){return Ke(this,3,a,b)};d.clearGwsExperimentList=function(){return this.setGwsExperimentList([])};d.getPlayExperimentList=function(){return L(this,4)};d.setPlayExperimentList=function(a){return M(this,4,a||[])};d.addPlayExperiment=function(a,b){return Ke(this,4,a,b)};d.clearPlayExperimentList=function(){return this.setPlayExperimentList([])};
d.getUnsupportedPlayExperimentList=function(){return L(this,5)};d.setUnsupportedPlayExperimentList=function(a){return M(this,5,a||[])};d.addUnsupportedPlayExperiment=function(a,b){return Ke(this,5,a,b)};d.clearUnsupportedPlayExperimentList=function(){return this.setUnsupportedPlayExperimentList([])};var Ff=function(a){N(this,a,0,-1,null,null)};y(Ff,K);Ff.prototype.toObject=function(a){return Gf(a,this)};var Gf=function(a,b){var c,e={appType:null==(c=L(b,1))?void 0:c,androidPackageName:null==(c=L(b,2))?void 0:c,version:null==(c=L(b,3))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Ff.prototype.serializeBinary=function(){var a=new J;Hf(this,a);return a.getResultBuffer()};
var Hf=function(a,b){var c=L(a,1);null!=c&&b.writeInt32(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c)};d=Ff.prototype;d.getAppType=function(){return L(this,1)};d.setAppType=function(a){return M(this,1,a)};d.clearAppType=function(){return M(this,1,void 0)};d.hasAppType=function(){return null!=L(this,1)};d.getAndroidPackageName=function(){return L(this,2)};d.setAndroidPackageName=function(a){return M(this,2,a)};d.clearAndroidPackageName=function(){return M(this,2,void 0)};
d.hasAndroidPackageName=function(){return null!=L(this,2)};d.getVersion=function(){return L(this,3)};d.setVersion=function(a){return M(this,3,a)};d.clearVersion=function(){return M(this,3,void 0)};d.hasVersion=function(){return null!=L(this,3)};var If=function(a){N(this,a,0,-1,null,null)};y(If,K);If.prototype.toObject=function(a){return Jf(a,this)};var Jf=function(a,b){var c,e={key:null==(c=L(b,1))?void 0:c,value:null==(c=L(b,2))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};If.prototype.serializeBinary=function(){var a=new J;Kf(this,a);return a.getResultBuffer()};var Kf=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c)};d=If.prototype;d.getKey=function(){return L(this,1)};
d.setKey=function(a){return M(this,1,a)};d.clearKey=function(){return M(this,1,void 0)};d.hasKey=function(){return null!=L(this,1)};d.getValue=function(){return L(this,2)};d.setValue=function(a){return M(this,2,a)};d.clearValue=function(){return M(this,2,void 0)};d.hasValue=function(){return null!=L(this,2)};var Lf=function(a){N(this,a,0,-1,null,null)};y(Lf,K);Lf.prototype.toObject=function(a){return Mf(a,this)};var Mf=function(a,b){var c={networkType:Je(b,1,-1),mobileSubtype:Je(b,2,0)};a&&(c.$jspbMessageInstance=b);return c};Lf.prototype.serializeBinary=function(){var a=new J;Nf(this,a);return a.getResultBuffer()};var Nf=function(a,b){var c=L(a,1);null!=c&&b.writeEnum(1,c);c=L(a,2);null!=c&&b.writeEnum(2,c)};d=Lf.prototype;d.getNetworkType=function(){return Je(this,1,-1)};
d.setNetworkType=function(a){return M(this,1,a)};d.clearNetworkType=function(){return M(this,1,void 0)};d.hasNetworkType=function(){return null!=L(this,1)};d.getMobileSubtype=function(){return Je(this,2,0)};d.setMobileSubtype=function(a){return M(this,2,a)};d.clearMobileSubtype=function(){return M(this,2,void 0)};d.hasMobileSubtype=function(){return null!=L(this,2)};var Pf=function(a){N(this,a,0,30,Of,null)};y(Pf,K);var Qf={},Rf={},Of=[3,20,27];Pf.prototype.toObject=function(a){return Sf(a,this)};
var Sf=function(a,b){var c,e={eventTimeMs:null==(c=L(b,1))?void 0:c,eventUptimeMs:null==(c=L(b,17))?void 0:c,sequencePosition:null==(c=L(b,21))?void 0:c,tag:null==(c=L(b,2))?void 0:c,eventCode:null==(c=L(b,11))?void 0:c,componentId:null==(c=L(b,26))?void 0:c,eventFlowId:null==(c=L(b,12))?void 0:c,isUserInitiated:null==(c=O(b,10))?void 0:c,valueList:Be(b.getValueList(),Jf,a),store:b.getStore_asB64(),appUsage1p:(c=b.getAppUsage1p())&&Gf(a,c),sourceExtension:b.getSourceExtension_asB64(),sourceExtensionJs:null==
(c=L(b,8))?void 0:c,sourceExtensionJson:null==(c=L(b,13))?void 0:c,sourceExtensionJsonProto3:null==(c=L(b,29))?void 0:c,exp:(c=b.getExp())&&Df(a,c),testId:null==(c=L(b,14))?void 0:c,timezoneOffsetSeconds:Je(b,15,18E4),experimentIds:(c=b.getExperimentIds())&&Ue(a,c),clientVe:b.getClientVe_asB64(),clientVeJs:null==(c=L(b,24))?void 0:c,internalEvent:null==(c=L(b,19))?void 0:c,testCodeList:null==(c=L(b,20))?void 0:c,genericDimensionsList:null==(c=L(b,27))?void 0:c,bootCount:null==(c=L(b,22))?void 0:c,
networkConnectionInfo:(c=b.getNetworkConnectionInfo())&&Mf(a,c),inDirectBootMode:null==(c=O(b,25))?void 0:c,zwiebackCookieOverride:null==(c=L(b,28))?void 0:c};Ce(b,e,Qf,Pf.prototype.getExtension,a);a&&(e.$jspbMessageInstance=b);return e};Pf.prototype.serializeBinary=function(){var a=new J;Tf(this,a);return a.getResultBuffer()};
var Tf=function(a,b){var c=L(a,1);null!=c&&b.writeInt64String(1,c);c=L(a,17);null!=c&&b.writeInt64String(17,c);c=L(a,21);null!=c&&b.writeInt64(21,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,11);null!=c&&b.writeInt32(11,c);c=L(a,26);null!=c&&b.writeString(26,c);c=L(a,12);null!=c&&b.writeInt64(12,c);c=L(a,10);null!=c&&b.writeBool(10,c);c=a.getValueList();0<c.length&&b.writeRepeatedMessage(3,c,Kf);c=L(a,4);null!=c&&b.writeBytes(4,c);c=a.getAppUsage1p();null!=c&&b.writeMessage(9,c,Hf);c=L(a,6);null!=
c&&b.writeBytes(6,c);c=L(a,8);null!=c&&b.writeString(8,c);c=L(a,13);null!=c&&b.writeString(13,c);c=L(a,29);null!=c&&b.writeString(29,c);c=a.getExp();null!=c&&b.writeMessage(7,c,Ef);c=L(a,14);null!=c&&b.writeString(14,c);c=L(a,15);null!=c&&b.writeSint64(15,c);c=a.getExperimentIds();null!=c&&b.writeMessage(16,c,Ve);c=L(a,18);null!=c&&b.writeBytes(18,c);c=L(a,24);null!=c&&b.writeString(24,c);c=L(a,19);null!=c&&b.writeEnum(19,c);c=a.getTestCodeList();0<c.length&&b.writeRepeatedInt32(20,c);c=a.getGenericDimensionsList();
0<c.length&&b.writePackedInt32(27,c);c=L(a,22);null!=c&&b.writeInt64(22,c);c=a.getNetworkConnectionInfo();null!=c&&b.writeMessage(23,c,Nf);c=L(a,25);null!=c&&b.writeBool(25,c);c=L(a,28);null!=c&&b.writeString(28,c);De(a,b,Rf,Pf.prototype.getExtension)};d=Pf.prototype;d.getEventTimeMs=function(){return L(this,1)};d.setEventTimeMs=function(a){return M(this,1,a)};d.clearEventTimeMs=function(){return M(this,1,void 0)};d.hasEventTimeMs=function(){return null!=L(this,1)};
d.getEventUptimeMs=function(){return L(this,17)};d.setEventUptimeMs=function(a){return M(this,17,a)};d.clearEventUptimeMs=function(){return M(this,17,void 0)};d.hasEventUptimeMs=function(){return null!=L(this,17)};d.getSequencePosition=function(){return L(this,21)};d.setSequencePosition=function(a){return M(this,21,a)};d.clearSequencePosition=function(){return M(this,21,void 0)};d.hasSequencePosition=function(){return null!=L(this,21)};d.getTag=function(){return L(this,2)};
d.setTag=function(a){return M(this,2,a)};d.clearTag=function(){return M(this,2,void 0)};d.hasTag=function(){return null!=L(this,2)};d.getEventCode=function(){return L(this,11)};d.setEventCode=function(a){return M(this,11,a)};d.clearEventCode=function(){return M(this,11,void 0)};d.hasEventCode=function(){return null!=L(this,11)};d.getComponentId=function(){return L(this,26)};d.setComponentId=function(a){return M(this,26,a)};d.clearComponentId=function(){return M(this,26,void 0)};
d.hasComponentId=function(){return null!=L(this,26)};d.getEventFlowId=function(){return L(this,12)};d.setEventFlowId=function(a){return M(this,12,a)};d.clearEventFlowId=function(){return M(this,12,void 0)};d.hasEventFlowId=function(){return null!=L(this,12)};d.getIsUserInitiated=function(){return O(this,10)};d.setIsUserInitiated=function(a){return M(this,10,a)};d.clearIsUserInitiated=function(){return M(this,10,void 0)};d.hasIsUserInitiated=function(){return null!=L(this,10)};
d.getValueList=function(){return Me(this,If,3)};d.setValueList=function(a){return Ne(this,3,a)};d.addValue=function(a,b){return Oe(this,3,a,If,b)};d.clearValueList=function(){return this.setValueList([])};d.getStore=function(){return L(this,4)};d.getStore_asB64=function(){return Ee(this.getStore())};d.getStore_asU8=function(){return Fe(this.getStore())};d.setStore=function(a){return M(this,4,a)};d.clearStore=function(){return M(this,4,void 0)};d.hasStore=function(){return null!=L(this,4)};
d.getAppUsage1p=function(){return P(this,Ff,9)};d.setAppUsage1p=function(a){return Q(this,9,a)};d.clearAppUsage1p=function(){return this.setAppUsage1p(void 0)};d.hasAppUsage1p=function(){return null!=L(this,9)};d.getSourceExtension=function(){return L(this,6)};d.getSourceExtension_asB64=function(){return Ee(this.getSourceExtension())};d.getSourceExtension_asU8=function(){return Fe(this.getSourceExtension())};d.setSourceExtension=function(a){return M(this,6,a)};
d.clearSourceExtension=function(){return M(this,6,void 0)};d.hasSourceExtension=function(){return null!=L(this,6)};d.getSourceExtensionJs=function(){return L(this,8)};d.setSourceExtensionJs=function(a){return M(this,8,a)};d.clearSourceExtensionJs=function(){return M(this,8,void 0)};d.hasSourceExtensionJs=function(){return null!=L(this,8)};d.getSourceExtensionJson=function(){return L(this,13)};d.setSourceExtensionJson=function(a){return M(this,13,a)};
d.clearSourceExtensionJson=function(){return M(this,13,void 0)};d.hasSourceExtensionJson=function(){return null!=L(this,13)};d.getSourceExtensionJsonProto3=function(){return L(this,29)};d.setSourceExtensionJsonProto3=function(a){return M(this,29,a)};d.clearSourceExtensionJsonProto3=function(){return M(this,29,void 0)};d.hasSourceExtensionJsonProto3=function(){return null!=L(this,29)};d.getExp=function(){return P(this,Cf,7)};d.setExp=function(a){return Q(this,7,a)};d.clearExp=function(){return this.setExp(void 0)};
d.hasExp=function(){return null!=L(this,7)};d.getTestId=function(){return L(this,14)};d.setTestId=function(a){return M(this,14,a)};d.clearTestId=function(){return M(this,14,void 0)};d.hasTestId=function(){return null!=L(this,14)};d.getTimezoneOffsetSeconds=function(){return Je(this,15,18E4)};d.setTimezoneOffsetSeconds=function(a){return M(this,15,a)};d.clearTimezoneOffsetSeconds=function(){return M(this,15,void 0)};d.hasTimezoneOffsetSeconds=function(){return null!=L(this,15)};
d.getExperimentIds=function(){return P(this,Te,16)};d.setExperimentIds=function(a){return Q(this,16,a)};d.clearExperimentIds=function(){return this.setExperimentIds(void 0)};d.hasExperimentIds=function(){return null!=L(this,16)};d.getClientVe=function(){return L(this,18)};d.getClientVe_asB64=function(){return Ee(this.getClientVe())};d.getClientVe_asU8=function(){return Fe(this.getClientVe())};d.setClientVe=function(a){return M(this,18,a)};d.clearClientVe=function(){return M(this,18,void 0)};
d.hasClientVe=function(){return null!=L(this,18)};d.getClientVeJs=function(){return L(this,24)};d.setClientVeJs=function(a){return M(this,24,a)};d.clearClientVeJs=function(){return M(this,24,void 0)};d.hasClientVeJs=function(){return null!=L(this,24)};d.getInternalEvent=function(){return L(this,19)};d.setInternalEvent=function(a){return M(this,19,a)};d.clearInternalEvent=function(){return M(this,19,void 0)};d.hasInternalEvent=function(){return null!=L(this,19)};
d.getTestCodeList=function(){return L(this,20)};d.setTestCodeList=function(a){return M(this,20,a||[])};d.addTestCode=function(a,b){return Ke(this,20,a,b)};d.clearTestCodeList=function(){return this.setTestCodeList([])};d.getGenericDimensionsList=function(){return L(this,27)};d.setGenericDimensionsList=function(a){return M(this,27,a||[])};d.addGenericDimensions=function(a,b){return Ke(this,27,a,b)};d.clearGenericDimensionsList=function(){return this.setGenericDimensionsList([])};
d.getBootCount=function(){return L(this,22)};d.setBootCount=function(a){return M(this,22,a)};d.clearBootCount=function(){return M(this,22,void 0)};d.hasBootCount=function(){return null!=L(this,22)};d.getNetworkConnectionInfo=function(){return P(this,Lf,23)};d.setNetworkConnectionInfo=function(a){return Q(this,23,a)};d.clearNetworkConnectionInfo=function(){return this.setNetworkConnectionInfo(void 0)};d.hasNetworkConnectionInfo=function(){return null!=L(this,23)};
d.getInDirectBootMode=function(){return O(this,25)};d.setInDirectBootMode=function(a){return M(this,25,a)};d.clearInDirectBootMode=function(){return M(this,25,void 0)};d.hasInDirectBootMode=function(){return null!=L(this,25)};d.getZwiebackCookieOverride=function(){return L(this,28)};d.setZwiebackCookieOverride=function(a){return M(this,28,a)};d.clearZwiebackCookieOverride=function(){return M(this,28,void 0)};d.hasZwiebackCookieOverride=function(){return null!=L(this,28)};var Uf=function(){};Uf.prototype.createNewTag=function(a){return new Af(a)};Uf.prototype.addMetadata=function(){};Uf.prototype.addEventMetadata=function(){};var Wf=function(a){N(this,a,0,-1,Vf,null)};y(Wf,K);var Vf=[3];Wf.prototype.toObject=function(a){return Xf(a,this)};var Xf=function(a,b){var c,e={elementId:null==(c=L(b,1))?void 0:c,elementIndex:null==(c=L(b,2))?void 0:c,pathToRootElementIdList:null==(c=L(b,3))?void 0:c,userAction:null==(c=L(b,4))?void 0:c,cardinalDirection:null==(c=L(b,7))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Wf.prototype.serializeBinary=function(){var a=new J;Yf(this,a);return a.getResultBuffer()};
var Yf=function(a,b){var c=L(a,1);null!=c&&b.writeInt32(1,c);c=L(a,2);null!=c&&b.writeInt32(2,c);c=a.getPathToRootElementIdList();0<c.length&&b.writeRepeatedInt32(3,c);c=L(a,4);null!=c&&b.writeEnum(4,c);c=L(a,7);null!=c&&b.writeEnum(7,c)};d=Wf.prototype;d.getElementId=function(){return L(this,1)};d.setElementId=function(a){return M(this,1,a)};d.clearElementId=function(){return M(this,1,void 0)};d.hasElementId=function(){return null!=L(this,1)};d.getElementIndex=function(){return L(this,2)};
d.setElementIndex=function(a){return M(this,2,a)};d.clearElementIndex=function(){return M(this,2,void 0)};d.hasElementIndex=function(){return null!=L(this,2)};d.getPathToRootElementIdList=function(){return L(this,3)};d.setPathToRootElementIdList=function(a){return M(this,3,a||[])};d.addPathToRootElementId=function(a,b){return Ke(this,3,a,b)};d.clearPathToRootElementIdList=function(){return this.setPathToRootElementIdList([])};d.getUserAction=function(){return L(this,4)};
d.setUserAction=function(a){return M(this,4,a)};d.clearUserAction=function(){return M(this,4,void 0)};d.hasUserAction=function(){return null!=L(this,4)};d.getCardinalDirection=function(){return L(this,7)};d.setCardinalDirection=function(a){return M(this,7,a)};d.clearCardinalDirection=function(){return M(this,7,void 0)};d.hasCardinalDirection=function(){return null!=L(this,7)};var Zf=function(a){N(this,a,0,-1,null,null)};y(Zf,K);Zf.prototype.toObject=function(a){return $f(a,this)};var $f=function(a,b){var c,e={ancestryVisualElement:(c=b.getAncestryVisualElement())&&Xf(a,c)};a&&(e.$jspbMessageInstance=b);return e};Zf.prototype.serializeBinary=function(){var a=new J;ag(this,a);return a.getResultBuffer()};var ag=function(a,b){a=a.getAncestryVisualElement();null!=a&&b.writeMessage(1,a,Yf)};Zf.prototype.getAncestryVisualElement=function(){return P(this,Wf,1)};
Zf.prototype.setAncestryVisualElement=function(a){return Q(this,1,a)};Zf.prototype.clearAncestryVisualElement=function(){return this.setAncestryVisualElement(void 0)};Zf.prototype.hasAncestryVisualElement=function(){return null!=L(this,1)};var bg=function(a){N(this,a,0,-1,null,null)};y(bg,K);d=bg.prototype;d.toObject=function(a){var b,c={visualElementEntry:(b=this.getVisualElementEntry())&&$f(a,b)};a&&(c.$jspbMessageInstance=this);return c};d.serializeBinary=function(){var a=new J;var b=this.getVisualElementEntry();null!=b&&a.writeMessage(1,b,ag);return a.getResultBuffer()};d.getVisualElementEntry=function(){return P(this,Zf,1)};d.setVisualElementEntry=function(a){return Q(this,1,a)};d.clearVisualElementEntry=function(){return this.setVisualElementEntry(void 0)};
d.hasVisualElementEntry=function(){return null!=L(this,1)};var cg=function(){};cg.prototype.createLogRecord=function(a){var b=new Zf;b.setAncestryVisualElement(a);a=new bg;a.setVisualElementEntry(b);b=new Pf;b.setSourceExtensionJs(a.serialize());return b};cg.prototype.getTagPopulator=function(){return new Uf};cg.prototype.getMetadataProto=function(){return new K};var dg=function(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a&&"chrome-search"!==a&&"app"!==a)throw Error("Invalid URI scheme in origin: "+a);c="";var e=b.indexOf(":");if(-1!=e){var f=
b.substring(e+1);b=b.substring(0,e);if("http"===a&&"80"!==f||"https"===a&&"443"!==f)c=":"+f}return a+"://"+b+c};var eg=function(a){N(this,a,0,-1,null,null)};y(eg,K);eg.prototype.toObject=function(a){return fg(a,this)};var fg=function(a,b){var c,e={buildType:null==(c=L(b,1))?void 0:c,architecture:null==(c=L(b,2))?void 0:c,screenDensity:null==(c=L(b,3))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};eg.prototype.serializeBinary=function(){var a=new J;gg(this,a);return a.getResultBuffer()};
var gg=function(a,b){var c=L(a,1);null!=c&&b.writeEnum(1,c);c=L(a,2);null!=c&&b.writeEnum(2,c);c=L(a,3);null!=c&&b.writeEnum(3,c)};d=eg.prototype;d.getBuildType=function(){return L(this,1)};d.setBuildType=function(a){return M(this,1,a)};d.clearBuildType=function(){return M(this,1,void 0)};d.hasBuildType=function(){return null!=L(this,1)};d.getArchitecture=function(){return L(this,2)};d.setArchitecture=function(a){return M(this,2,a)};d.clearArchitecture=function(){return M(this,2,void 0)};
d.hasArchitecture=function(){return null!=L(this,2)};d.getScreenDensity=function(){return L(this,3)};d.setScreenDensity=function(a){return M(this,3,a)};d.clearScreenDensity=function(){return M(this,3,void 0)};d.hasScreenDensity=function(){return null!=L(this,3)};var hg=function(){function a(){f[0]=1732584193;f[1]=4023233417;f[2]=2562383102;f[3]=271733878;f[4]=3285377520;q=p=0}function b(u){for(var x=k,w=0;64>w;w+=4)x[w/4]=u[w]<<24|u[w+1]<<16|u[w+2]<<8|u[w+3];for(w=16;80>w;w++)u=x[w-3]^x[w-8]^x[w-14]^x[w-16],x[w]=(u<<1|u>>>31)&4294967295;u=f[0];var D=f[1],I=f[2],ea=f[3],Rb=f[4];for(w=0;80>w;w++){if(40>w)if(20>w){var bb=ea^D&(I^ea);var ia=1518500249}else bb=D^I^ea,ia=1859775393;else 60>w?(bb=D&I|ea&(D|I),ia=2400959708):(bb=D^I^ea,ia=3395469782);bb=((u<<5|u>>>
27)&4294967295)+bb+Rb+ia+x[w]&4294967295;Rb=ea;ea=I;I=(D<<30|D>>>2)&4294967295;D=u;u=bb}f[0]=f[0]+u&4294967295;f[1]=f[1]+D&4294967295;f[2]=f[2]+I&4294967295;f[3]=f[3]+ea&4294967295;f[4]=f[4]+Rb&4294967295}function c(u,x){if("string"===typeof u){u=unescape(encodeURIComponent(u));for(var w=[],D=0,I=u.length;D<I;++D)w.push(u.charCodeAt(D));u=w}x||(x=u.length);w=0;if(0==p)for(;w+64<x;)b(u.slice(w,w+64)),w+=64,q+=64;for(;w<x;)if(g[p++]=u[w++],q++,64==p)for(p=0,b(g);w+64<x;)b(u.slice(w,w+64)),w+=64,q+=
64}function e(){var u=[],x=8*q;56>p?c(l,56-p):c(l,64-(p-56));for(var w=63;56<=w;w--)g[w]=x&255,x>>>=8;b(g);for(w=x=0;5>w;w++)for(var D=24;0<=D;D-=8)u[x++]=f[w]>>D&255;return u}for(var f=[],g=[],k=[],l=[128],n=1;64>n;++n)l[n]=0;var p,q;a();return{reset:a,update:c,digest:e,digestString:function(){for(var u=e(),x="",w=0;w<u.length;w++)x+="0123456789ABCDEF".charAt(Math.floor(u[w]/16))+"0123456789ABCDEF".charAt(u[w]%16);return x}}};var jg=function(a,b,c,e){var f=[];if(1==(za(c)?2:1))return f=[b,a],jb(e,function(l){f.push(l)}),ig(f.join(" "));var g=[],k=[];jb(c,function(l){k.push(l.key);g.push(l.value)});c=Math.floor((new Date).getTime()/1E3);f=0==g.length?[c,b,a]:[g.join(":"),c,b,a];jb(e,function(l){f.push(l)});a=ig(f.join(" "));a=[c,a];0==k.length||a.push(k.join(""));return a.join("_")},ig=function(a){var b=hg();b.update(a);return b.digestString().toLowerCase()};var kg=function(a){this.document_=a||{cookie:""}};d=kg.prototype;d.isEnabled=function(){return navigator.cookieEnabled};d.isValidName=function(a){return!/[;=\s]/.test(a)};d.isValidValue=function(a){return!/[;\r\n]/.test(a)};
d.set=function(a,b,c,e,f,g){if("object"===typeof c){z(null==e);z(null==f);z(null==g);var k=c.sameSite;g=c.secure;f=c.domain;e=c.path;c=c.maxAge}if(!this.isValidName(a))throw Error('Invalid cookie name "'+a+'"');if(!this.isValidValue(b))throw Error('Invalid cookie value "'+b+'"');void 0===c&&(c=-1);f=f?";domain="+f:"";e=e?";path="+e:"";g=g?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(Ja()+1E3*c)).toUTCString();this.setCookie_(a+"="+b+f+e+c+g+(null!=
k?";samesite="+k:""))};d.get=function(a,b){for(var c=a+"=",e=this.getParts_(),f=0,g;f<e.length;f++){g=Wb(e[f]);if(0==g.lastIndexOf(c,0))return g.substr(c.length);if(g==a)return""}return b};d.remove=function(a,b,c){var e=this.containsKey(a);this.set(a,"",0,b,c);return e};d.getKeys=function(){return this.getKeyValues_().keys};d.getValues=function(){return this.getKeyValues_().values};d.isEmpty=function(){return!this.getCookie_()};
d.getCount=function(){return this.getCookie_()?this.getParts_().length:0};d.containsKey=function(a){return void 0!==this.get(a)};d.containsValue=function(a){for(var b=this.getKeyValues_().values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};d.clear=function(){for(var a=this.getKeyValues_().keys,b=a.length-1;0<=b;b--)this.remove(a[b])};d.setCookie_=function(a){this.document_.cookie=a};d.getCookie_=function(){return this.document_.cookie};d.getParts_=function(){return(this.getCookie_()||"").split(";")};
d.getKeyValues_=function(){for(var a=this.getParts_(),b=[],c=[],e,f,g=0;g<a.length;g++)f=Wb(a[g]),e=f.indexOf("="),-1==e?(b.push(""),c.push(f)):(b.push(f.substring(0,e)),c.push(f.substring(e+1)));return{keys:b,values:c}};var lg=function(a){var b=dg(String(r.location.href));var c=(b=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?r.__SAPISID:r.__APISID;if(!c){var e=new kg(document);(c=e.get(b?"SAPISID":"APISID"))||(c=e.get("__Secure-3PAPISID"))}b=c;if(!b)return null;e=dg(String(r.location.href));c=String(r.location.href);e=0==e.indexOf("https:")||0==e.indexOf("chrome-extension:")?"SAPISIDHASH":"APISIDHASH";return c&&b&&e?[e,jg(dg(c),b,a||null,[])].join(" "):null};var mg=!E||9<=Number(Pd),og=!Ed&&!E||E&&9<=Number(Pd)||Ed&&Od("1.9.1"),pg=E&&!Od("9"),qg=E||Cd||Fd;var rg=function(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0};d=rg.prototype;d.clone=function(){return new rg(this.x,this.y)};d.toString=function(){return"("+this.x+", "+this.y+")"};d.equals=function(a){return a instanceof rg&&(this==a?!0:this&&a?this.x==a.x&&this.y==a.y:!1)};d.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};d.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
d.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};d.translate=function(a,b){a instanceof rg?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),"number"===typeof b&&(this.y+=b));return this};d.scale=function(a,b){this.x*=a;this.y*="number"===typeof b?b:a;return this};d.rotateRadians=function(a,b){b=b||new rg(0,0);var c=this.x,e=this.y,f=Math.cos(a);a=Math.sin(a);this.x=(c-b.x)*f-(e-b.y)*a+b.x;this.y=(c-b.x)*a+(e-b.y)*f+b.y};
d.rotateDegrees=function(a,b){this.rotateRadians(a*Math.PI/180,b)};var sg=function(a,b){this.width=a;this.height=b};d=sg.prototype;d.clone=function(){return new sg(this.width,this.height)};d.toString=function(){return"("+this.width+" x "+this.height+")"};d.getLongest=function(){return Math.max(this.width,this.height)};d.getShortest=function(){return Math.min(this.width,this.height)};d.area=function(){return this.width*this.height};d.perimeter=function(){return 2*(this.width+this.height)};d.aspectRatio=function(){return this.width/this.height};d.isEmpty=function(){return!this.area()};
d.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};d.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};d.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};d.scale=function(a,b){this.width*=a;this.height*="number"===typeof b?b:a;return this};
d.scaleToCover=function(a){a=this.aspectRatio()<=a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};d.scaleToFit=function(a){a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};var vg=function(a){return a?new tg(ug(a)):Za||(Za=new tg)},wg=function(a,b){return"string"===typeof b?a.getElementById(b):b},yg=function(a,b){var c=b||document;return(c.getElementsByClassName?c.getElementsByClassName(a)[0]:xg(document,"*",a,b))||null},zg=function(a,b,c,e){a=e||a;var f=b&&"*"!=b?String(b).toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(f||c))return a.querySelectorAll(f+(c?"."+c:""));if(c&&a.getElementsByClassName){b=a.getElementsByClassName(c);if(f){a={};for(var g=e=0,k;k=
b[g];g++)f==k.nodeName&&(a[e++]=k);a.length=e;return a}return b}b=a.getElementsByTagName(f||"*");if(c){a={};for(g=e=0;k=b[g];g++){f=k.className;var l;if(l="function"==typeof f.split)l=0<=ib(f.split(/\s+/),c);l&&(a[e++]=k)}a.length=e;return a}return b},xg=function(a,b,c,e){var f=e||a,g=b&&"*"!=b?String(b).toUpperCase():"";return f.querySelectorAll&&f.querySelector&&(g||c)?f.querySelector(g+(c?"."+c:"")):zg(a,b,c,e)[0]||null},Bg=function(a,b){vb(b,function(c,e){c&&"object"==typeof c&&c.implementsGoogStringTypedString&&
(c=c.getTypedStringValue());"style"==e?a.style.cssText=c:"class"==e?a.className=c:"for"==e?a.htmlFor=c:Ag.hasOwnProperty(e)?a.setAttribute(Ag[e],c):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,c):a[e]=c})},Ag={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Dg=function(a){a=a.document;
a=Cg(a)?a.documentElement:a.body;return new sg(a.clientWidth,a.clientHeight)},Eg=function(a){return a.scrollingElement?a.scrollingElement:!Fd&&Cg(a)?a.documentElement:a.body||a.documentElement},Fg=function(a){return a?a.parentWindow||a.defaultView:window},Ig=function(a,b,c,e){function f(k){k&&b.appendChild("string"===typeof k?a.createTextNode(k):k)}for(;e<c.length;e++){var g=c[e];Aa(g)&&!Gg(g)?jb(Hg(g)?pb(g):g,f):f(g)}},Jg=function(a,b){b=String(b);"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());
return a.createElement(b)},Cg=function(a){return"CSS1Compat"==a.compatMode},Kg=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},Lg=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},Mg=function(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a},Gg=function(a){return Ca(a)&&0<a.nodeType},Ng=function(a){return Ca(a)&&1==a.nodeType},Og=function(a){var b;if(qg&&!(E&&Od("9")&&!Od("10")&&r.SVGElement&&a instanceof r.SVGElement)&&(b=a.parentElement))return b;
b=a.parentNode;return Ng(b)?b:null},Pg=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},Rg=function(a,b){var c=a.parentNode;if(c==b)return-1;for(;b.parentNode!=c;)b=b.parentNode;return Qg(b,a)},Qg=function(a,b){for(;b=b.previousSibling;)if(b==a)return-1;return 1},ug=function(a){z(a,"Node cannot be null or undefined.");return 9==
a.nodeType?a:a.ownerDocument||a.document},Sg=function(a,b){z(null!=a,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(z(a.lastChild));a.firstChild.data=String(b)}else{Kg(a);var c=ug(a);a.appendChild(c.createTextNode(String(b)))}},Tg=function(a,b,c,e){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),e)||Tg(a,b,c,e))return!0;
a=a.nextSibling}return!1},Ug={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Vg={IMG:" ",BR:"\n"},Yg=function(a){return Wg(a)&&Xg(a)},Wg=function(a){return E&&!Od("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")},Xg=function(a){a=a.tabIndex;return"number"===typeof a&&0<=a&&32768>a},$g=function(a){if(pg&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Zg(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,
"");pg||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},Zg=function(a,b,c){if(!(a.nodeName in Ug))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Vg)b.push(Vg[a.nodeName]);else for(a=a.firstChild;a;)Zg(a,b,c),a=a.nextSibling},Hg=function(a){if(a&&"number"==typeof a.length){if(Ca(a))return"function"==typeof a.item||"string"==typeof a.item;if(Ba(a))return"function"==typeof a.item}return!1},bh=function(a,b,c,e){if(!b&&
!c)return null;var f=b?String(b).toUpperCase():null;return ah(a,function(g){var k;(k=!f||g.nodeName==f)&&!(k=!c)&&(k="string"===typeof g.className)&&(k=0<=ib(g.className.split(/\s+/),c));return k},!0,e)},ah=function(a,b,c,e){a&&!c&&(a=a.parentNode);for(c=0;a&&(null==e||c<=e);){z("parentNode"!=a.name);if(b(a))return a;a=a.parentNode;c++}return null},tg=function(a){this.document_=a||r.document||document};d=tg.prototype;d.getDomHelper=vg;d.setDocument=function(a){this.document_=a};d.getDocument=function(){return this.document_};
d.getElement=function(a){return wg(this.document_,a)};d.getRequiredElement=function(a){var b=this.document_;db(a);b=wg(b,a);return b=fb(b,"No element found with id: "+a)};d.$=tg.prototype.getElement;d.getElementsByTagName=function(a,b){return(b||this.document_).getElementsByTagName(String(a))};d.getElementsByTagNameAndClass=function(a,b,c){return zg(this.document_,a,b,c)};d.getElementByTagNameAndClass=function(a,b,c){return xg(this.document_,a,b,c)};
d.getElementsByClass=function(a,b){var c=(b=b||this.document_)||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):zg(document,"*",a,b)};d.getElementByClass=function(a,b){return yg(a,b||this.document_)};d.getRequiredElementByClass=function(a,b){b=yg(a,b||this.document_);return z(b,"No element found with className: "+a)};d.$$=tg.prototype.getElementsByTagNameAndClass;d.setProperties=Bg;d.getViewportSize=function(a){return Dg(a||this.getWindow()||window)};
d.getDocumentHeight=function(){var a=this.getWindow(),b=a.document;var c=0;if(b){c=b.body;var e=b.documentElement;if(e&&c)if(a=Dg(a).height,Cg(b)&&e.scrollHeight)c=e.scrollHeight!=a?e.scrollHeight:e.offsetHeight;else{b=e.scrollHeight;var f=e.offsetHeight;e.clientHeight!=f&&(b=c.scrollHeight,f=c.offsetHeight);c=b>a?b>f?b:f:b<f?b:f}else c=0}return c};
d.createDom=function(a,b,c){var e=this.document_,f=arguments,g=String(f[0]),k=f[1];if(!mg&&k&&(k.name||k.type)){g=["<",g];k.name&&g.push(' name="',C(k.name),'"');if(k.type){g.push(' type="',C(k.type),'"');var l={};zb(l,k);delete l.type;k=l}g.push(">");g=g.join("")}g=Jg(e,g);k&&("string"===typeof k?g.className=k:za(k)?g.className=k.join(" "):Bg(g,k));2<f.length&&Ig(e,g,f,2);return g};d.$dom=tg.prototype.createDom;d.createElement=function(a){return Jg(this.document_,a)};d.createTextNode=function(a){return this.document_.createTextNode(String(a))};
d.createTable=function(a,b,c){var e=this.document_;c=!!c;for(var f=Jg(e,"TABLE"),g=f.appendChild(Jg(e,"TBODY")),k=0;k<a;k++){for(var l=Jg(e,"TR"),n=0;n<b;n++){var p=Jg(e,"TD");c&&Sg(p,"\u00a0");l.appendChild(p)}g.appendChild(l)}return f};
d.safeHtmlToNode=function(a){var b=this.document_;var c=Jg(b,"DIV");E?(Wc(c,Pc(Tc,a)),c.removeChild(z(c.firstChild))):Wc(c,a);if(1==c.childNodes.length)c=c.removeChild(z(c.firstChild));else{for(a=b.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);c=a}return c};d.isCss1CompatMode=function(){return Cg(this.document_)};d.getWindow=function(){var a=this.document_;return a.parentWindow||a.defaultView};d.getDocumentScrollElement=function(){return Eg(this.document_)};
d.getDocumentScroll=function(){var a=this.document_,b=Eg(a);a=a.parentWindow||a.defaultView;return E&&Od("10")&&a.pageYOffset!=b.scrollTop?new rg(b.scrollLeft,b.scrollTop):new rg(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};d.getActiveElement=function(a){a=a||this.document_;try{var b=a&&a.activeElement;var c=b&&b.nodeName?b:null}catch(e){c=null}return c};d.appendChild=function(a,b){z(null!=a&&null!=b,"goog.dom.appendChild expects non-null arguments");a.appendChild(b)};
d.append=function(a,b){Ig(ug(a),a,arguments,1)};d.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};d.removeChildren=Kg;
d.insertSiblingBefore=function(a,b){z(null!=a&&null!=b,"goog.dom.insertSiblingBefore expects non-null arguments");b.parentNode&&b.parentNode.insertBefore(a,b)};d.insertSiblingAfter=function(a,b){z(null!=a&&null!=b,"goog.dom.insertSiblingAfter expects non-null arguments");b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};d.insertChildAt=function(a,b,c){z(null!=a,"goog.dom.insertChildAt expects a non-null parent");a.insertBefore(b,a.childNodes[c]||null)};d.removeNode=Lg;
d.replaceNode=function(a,b){z(null!=a&&null!=b,"goog.dom.replaceNode expects non-null arguments");var c=b.parentNode;c&&c.replaceChild(a,b)};d.flattenElement=function(a){var b,c=a.parentNode;if(c&&11!=c.nodeType){if(a.removeNode)return a.removeNode(!1);for(;b=a.firstChild;)c.insertBefore(b,a);return Lg(a)}};d.getChildren=function(a){return og&&void 0!=a.children?a.children:kb(a.childNodes,function(b){return 1==b.nodeType})};
d.getFirstElementChild=function(a){return void 0!==a.firstElementChild?a.firstElementChild:Mg(a.firstChild,!0)};d.getLastElementChild=function(a){return void 0!==a.lastElementChild?a.lastElementChild:Mg(a.lastChild,!1)};d.getNextElementSibling=function(a){return void 0!==a.nextElementSibling?a.nextElementSibling:Mg(a.nextSibling,!0)};d.getPreviousElementSibling=function(a){return void 0!==a.previousElementSibling?a.previousElementSibling:Mg(a.previousSibling,!1)};
d.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};d.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};d.isNodeLike=Gg;d.isElement=Ng;d.isWindow=function(a){return Ca(a)&&a.window==a};d.getParentElement=Og;d.contains=Pg;
d.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(E&&!(9<=Number(Pd))){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,e=1==b.nodeType;if(c&&e)return a.sourceIndex-b.sourceIndex;var f=a.parentNode,g=b.parentNode;return f==g?Qg(a,b):!c&&Pg(f,b)?-1*Rg(a,b):!e&&Pg(g,a)?Rg(b,a):(c?a.sourceIndex:f.sourceIndex)-(e?b.sourceIndex:g.sourceIndex)}e=
ug(a);c=e.createRange();c.selectNode(a);c.collapse(!0);a=e.createRange();a.selectNode(b);a.collapse(!0);return c.compareBoundaryPoints(r.Range.START_TO_END,a)};d.findCommonAncestor=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var e=[],f=Infinity;for(b=0;b<c;b++){for(var g=[],k=arguments[b];k;)g.unshift(k),k=k.parentNode;e.push(g);f=Math.min(f,g.length)}g=null;for(b=0;b<f;b++){k=e[0][b];for(var l=1;l<c;l++)if(k!=e[l][b])return g;g=k}return g};
d.getOwnerDocument=ug;d.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};d.getFrameContentWindow=function(a){try{return a.contentWindow||(a.contentDocument?Fg(a.contentDocument):null)}catch(b){}return null};d.setTextContent=Sg;d.getOuterHtml=function(a){z(null!==a,"goog.dom.getOuterHtml expects a non-null value for element");if("outerHTML"in a)return a.outerHTML;var b=ug(a);b=Jg(b,"DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};
d.findNode=function(a,b){var c=[];return Tg(a,b,c,!0)?c[0]:void 0};d.findNodes=function(a,b){var c=[];Tg(a,b,c,!1);return c};d.isFocusableTabIndex=Yg;d.setFocusableTabIndex=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};
d.isFocusable=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Wg(a)||Xg(a)):Yg(a))&&E?(a=!Ba(a.getBoundingClientRect)||E&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};d.getTextContent=$g;d.getNodeTextLength=function(a){return $g(a).length};
d.getNodeTextOffset=function(a,b){b=b||ug(a).body;for(var c=[];a&&a!=b;){for(var e=a;e=e.previousSibling;)c.unshift($g(e));a=a.parentNode}return c.join("").replace(/^[\s\xa0]+/,"").replace(/ +/g," ").length};
d.getNodeAtOffset=function(a,b,c){a=[a];for(var e=0,f=null;0<a.length&&e<b;)if(f=a.pop(),!(f.nodeName in Ug))if(3==f.nodeType){var g=f.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");e+=g.length}else if(f.nodeName in Vg)e+=Vg[f.nodeName].length;else for(g=f.childNodes.length-1;0<=g;g--)a.push(f.childNodes[g]);Ca(c)&&(c.remainder=f?f.nodeValue.length+b-e-1:0,c.node=f);return f};d.isNodeList=Hg;d.getAncestorByTagNameAndClass=bh;d.getAncestorByClass=function(a,b,c){return bh(a,null,b,c)};
d.getAncestor=ah;d.getCanvasContext2D=function(a){return a.getContext("2d")};var ch=function(a){r.setTimeout(function(){throw a;},0)};var dh=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};d=dh.prototype;d.disposed_=!1;d.isDisposed=function(){return this.disposed_};d.getDisposed=dh.prototype.isDisposed;d.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};d.registerDisposable=function(a){this.addOnDisposeCallback(Ia(eh,a))};
d.addOnDisposeCallback=function(a,b){this.disposed_?void 0!==b?a.call(b):a():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(void 0!==b?Ha(a,b):a))};d.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var eh=function(a){a&&"function"==typeof a.dispose&&a.dispose()};var fh=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};fh.prototype.stopPropagation=function(){this.propagationStopped_=!0};fh.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var gh=Object.freeze||function(a){return a};var hh=!E||9<=Number(Pd),ih=!E||9<=Number(Pd),jh=E&&!Od("9"),kh=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{r.addEventListener("test",ya,b),r.removeEventListener("test",ya,b)}catch(c){}return a}();var lh=function(a,b){fh.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.pointerId=0;this.pointerType="";this.event_=null;a&&this.init(a,b)};y(lh,fh);var mh=gh([1,4,2]),nh=gh({2:"touch",3:"pen",4:"mouse"});d=lh.prototype;
d.init=function(a,b){var c=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Ed){a:{try{Ad(b.nodeName);var f=!0;break a}catch(g){}f=!1}f||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||
0):(this.offsetX=Fd||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Fd||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=
Gd?a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:nh[a.pointerType]||"";this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};d.isButton=function(a){return hh?this.event_.button==a:"click"==this.type?0==a:!!(this.event_.button&mh[a])};d.isMouseActionButton=function(){return this.isButton(0)&&!(Fd&&Gd&&this.ctrlKey)};
d.stopPropagation=function(){lh.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};d.preventDefault=function(){lh.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,jh)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};d.getBrowserEvent=function(){return this.event_};var oh="closure_listenable_"+(1E6*Math.random()|0),ph=0;var qh=function(a,b,c,e,f,g){this.listener=a;this.proxy=b;this.src=c;this.type=e;this.capture=!!f;this.handler=g;this.key=++ph;this.removed=this.callOnce=!1};qh.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};var rh=function(a){this.src=a;this.listeners={};this.typeCount_=0};d=rh.prototype;d.getTypeCount=function(){return this.typeCount_};d.getListenerCount=function(){var a=0,b;for(b in this.listeners)a+=this.listeners[b].length;return a};d.add=function(a,b,c,e,f){var g=a.toString();a=this.listeners[g];a||(a=this.listeners[g]=[],this.typeCount_++);var k=sh(a,b,e,f);-1<k?(b=a[k],c||(b.callOnce=!1)):(b=new qh(b,null,this.src,g,!!e,f),b.callOnce=c,a.push(b));return b};
d.remove=function(a,b,c,e){a=a.toString();if(!(a in this.listeners))return!1;var f=this.listeners[a];b=sh(f,b,c,e);return-1<b?(f[b].markAsRemoved(),nb(f,b),0==f.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};d.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var c=ob(this.listeners[b],a);c&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return c};
d.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var e=this.listeners[c],f=0;f<e.length;f++)++b,e[f].markAsRemoved();delete this.listeners[c];this.typeCount_--}return b};d.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var e=0;e<a.length;++e){var f=a[e];f.capture==b&&c.push(f)}return c};d.getListener=function(a,b,c,e){a=this.listeners[a.toString()];var f=-1;a&&(f=sh(a,b,c,e));return-1<f?a[f]:null};
d.hasListener=function(a,b){var c=void 0!==a,e=c?a.toString():"",f=void 0!==b;return xb(this.listeners,function(g){for(var k=0;k<g.length;++k)if(!(c&&g[k].type!=e||f&&g[k].capture!=b))return!0;return!1})};var sh=function(a,b,c,e){for(var f=0;f<a.length;++f){var g=a[f];if(!g.removed&&g.listener==b&&g.capture==!!c&&g.handler==e)return f}return-1};var th="closure_lm_"+(1E6*Math.random()|0),uh={},vh=0,xh=function(a,b,c,e,f){if(e&&e.once)return wh(a,b,c,e,f);if(za(b)){for(var g=0;g<b.length;g++)xh(a,b[g],c,e,f);return null}c=yh(c);return a&&a[oh]?a.listen(b,c,Ca(e)?!!e.capture:!!e,f):zh(a,b,c,!1,e,f)},zh=function(a,b,c,e,f,g){if(!b)throw Error("Invalid event type");var k=Ca(f)?!!f.capture:!!f,l=Ah(a);l||(a[th]=l=new rh(a));c=l.add(b,c,e,k,g);if(c.proxy)return c;e=Bh();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)kh||(f=k),void 0===f&&
(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(Ch(b.toString()),e);else if(a.addListener&&a.removeListener)z("change"===b,"MediaQueryList only has a change event"),a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");vh++;return c},Bh=function(){var a=Dh,b=ih?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},wh=function(a,b,c,e,f){if(za(b)){for(var g=0;g<b.length;g++)wh(a,
b[g],c,e,f);return null}c=yh(c);return a&&a[oh]?a.listenOnce(b,c,Ca(e)?!!e.capture:!!e,f):zh(a,b,c,!0,e,f)},Eh=function(a,b,c,e,f){if(za(b)){for(var g=0;g<b.length;g++)Eh(a,b[g],c,e,f);return null}e=Ca(e)?!!e.capture:!!e;c=yh(c);if(a&&a[oh])return a.unlisten(b,c,e,f);if(!a)return!1;if(a=Ah(a))if(b=a.getListener(b,c,e,f))return Fh(b);return!1},Fh=function(a){if("number"===typeof a||!a||a.removed)return!1;var b=a.src;if(b&&b[oh])return b.unlistenByKey(a);var c=a.type,e=a.proxy;b.removeEventListener?
b.removeEventListener(c,e,a.capture):b.detachEvent?b.detachEvent(Ch(c),e):b.addListener&&b.removeListener&&b.removeListener(e);vh--;(c=Ah(b))?(c.removeByKey(a),0==c.getTypeCount()&&(c.src=null,b[th]=null)):a.markAsRemoved();return!0},Ch=function(a){return a in uh?uh[a]:uh[a]="on"+a},Hh=function(a,b,c,e){var f=!0;if(a=Ah(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==c&&!g.removed&&(g=Gh(g,e),f=f&&!1!==g)}return f},Gh=function(a,b){var c=a.listener,
e=a.handler||a.src;a.callOnce&&Fh(a);return c.call(e,b)},Dh=function(a,b){if(a.removed)return!0;if(!ih){var c=b||xa("window.event");b=new lh(c,this);var e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=b.currentTarget;f;f=f.parentNode)c.push(f);a=a.type;for(f=c.length-1;!b.propagationStopped_&&0<=f;f--){b.currentTarget=c[f];var g=Hh(c[f],a,!0,b);e=e&&g}for(f=0;!b.propagationStopped_&&
f<c.length;f++)b.currentTarget=c[f],g=Hh(c[f],a,!1,b),e=e&&g}return e}return Gh(a,new lh(b,this))},Ah=function(a){a=a[th];return a instanceof rh?a:null},Ih="__closure_events_fn_"+(1E9*Math.random()>>>0),yh=function(a){z(a,"Listener can not be null.");if(Ba(a))return a;z(a.handleEvent,"An object listener must have handleEvent method.");a[Ih]||(a[Ih]=function(b){return a.handleEvent(b)});return a[Ih]};var Jh=function(){dh.call(this);this.eventTargetListeners_=new rh(this);this.actualEventTarget_=this;this.parentEventTarget_=null};y(Jh,dh);Jh.prototype[oh]=!0;d=Jh.prototype;d.getParentEventTarget=function(){return this.parentEventTarget_};d.setParentEventTarget=function(a){this.parentEventTarget_=a};d.addEventListener=function(a,b,c,e){xh(this,a,b,c,e)};d.removeEventListener=function(a,b,c,e){Eh(this,a,b,c,e)};
d.dispatchEvent=function(a){this.assertInitialized_();var b=this.getParentEventTarget();if(b){var c=[];for(var e=1;b;b=b.getParentEventTarget())c.push(b),z(1E3>++e,"infinite loop")}b=this.actualEventTarget_;e=a.type||a;if("string"===typeof a)a=new fh(a,b);else if(a instanceof fh)a.target=a.target||b;else{var f=a;a=new fh(e,b);zb(a,f)}f=!0;if(c)for(var g=c.length-1;!a.propagationStopped_&&0<=g;g--){var k=a.currentTarget=c[g];f=k.fireListeners(e,!0,a)&&f}a.propagationStopped_||(k=a.currentTarget=b,
f=k.fireListeners(e,!0,a)&&f,a.propagationStopped_||(f=k.fireListeners(e,!1,a)&&f));if(c)for(g=0;!a.propagationStopped_&&g<c.length;g++)k=a.currentTarget=c[g],f=k.fireListeners(e,!1,a)&&f;return f};d.disposeInternal=function(){Jh.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};d.listen=function(a,b,c,e){this.assertInitialized_();return this.eventTargetListeners_.add(String(a),b,!1,c,e)};
d.listenOnce=function(a,b,c,e){return this.eventTargetListeners_.add(String(a),b,!0,c,e)};d.unlisten=function(a,b,c,e){return this.eventTargetListeners_.remove(String(a),b,c,e)};d.unlistenByKey=function(a){return this.eventTargetListeners_.removeByKey(a)};d.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};
d.fireListeners=function(a,b,c){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var e=!0,f=0;f<a.length;++f){var g=a[f];if(g&&!g.removed&&g.capture==b){var k=g.listener,l=g.handler||g.src;g.callOnce&&this.unlistenByKey(g);e=!1!==k.call(l,c)&&e}}return e&&0!=c.returnValue_};d.getListeners=function(a,b){return this.eventTargetListeners_.getListeners(String(a),b)};d.getListener=function(a,b,c,e){return this.eventTargetListeners_.getListener(String(a),b,c,e)};
d.hasListener=function(a,b){return this.eventTargetListeners_.hasListener(void 0!==a?String(a):void 0,b)};d.setTargetForTesting=function(a){this.actualEventTarget_=a};d.assertInitialized_=function(){z(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Kh=function(a,b){Jh.call(this);this.interval_=a||1;this.timerObject_=b||r;this.boundTick_=Ha(this.tick_,this);this.last_=Ja()};y(Kh,Jh);d=Kh.prototype;d.enabled=!1;d.timer_=null;d.getInterval=function(){return this.interval_};d.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};
d.tick_=function(){if(this.enabled){var a=Ja()-this.last_;0<a&&a<.8*this.interval_?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.stop(),this.start()))}};d.dispatchTick=function(){this.dispatchEvent("tick")};d.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=Ja())};
d.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};d.disposeInternal=function(){Kh.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};var Lh=function(a,b,c){if(Ba(a))c&&(a=Ha(a,c));else if(a&&"function"==typeof a.handleEvent)a=Ha(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:r.setTimeout(a,b||0)};var Mh=function(a){return a?a.__owner?a.__owner:a.parentNode&&11===a.parentNode.nodeType?a.parentNode.host:Og(a):null},Nh=function(a,b,c){for(c||(a=Mh(a));a;){if(b(a))return a;a=Mh(a)}return null};(function(){for(var a=["ms","moz","webkit","o"],b=0;b<a.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var c=0;window.requestAnimationFrame=function(e){var f=(new Date).getTime(),g=Math.max(0,16-(f-c));c=f+g;return window.setTimeout(function(){e(f+g)},g)};window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(e){clearTimeout(e)})}})();var Oh=function(){},Ph=[[],[]],Qh=0,Rh=!1,Sh=null,Th=0,Uh=1,Vh=16,Wh=0,Xh=0;r._F_getAverageFps=function(){return 1E3/(Vh/Uh)};var Yh=0,Zh=0,$h=Object.freeze?Object.freeze([]):[],ai=function(a,b){this.mutate_=this.measure_=void 0;this.runInCurrentFrameIfPossible_=!1;this.context_=b;this.state_ctor_=a};ai.prototype.measure=function(a){this.measure_=a;return this};ai.prototype.mutate=function(a){this.mutate_=a;return this};
ai.prototype.runInCurrentFrameIfPossible=function(){this.runInCurrentFrameIfPossible_=!0;return this};ai.prototype.build=function(){var a={measure:this.measure_,mutate:this.mutate_,stateCtor:this.state_ctor_,runInCurrentFrameIfPossible:this.runInCurrentFrameIfPossible_},b=this.context_;a.stateCtor||(a.stateCtor=Oh);return bi(a,b)};
var bi=function(a,b){var c=Zh++,e={id:c,fn:a.measure,context:b},f={id:c,fn:a.mutate,context:b};!a.measure||a.measure.name||a.measure.displayName||(a.measure.displayName="# wiz.vsync measure");!a.mutate||a.mutate.name||a.mutate.displayName||(a.mutate.displayName="# wiz.vsync mutate");var g={measureTask:e,mutateTask:f,args:void 0,isScheduled:!1,runInCurrentFrameIfPossible:a.runInCurrentFrameIfPossible,maxParameters:Math.max(e.fn?e.fn.length:0,f.fn?f.fn.length:0)};c=function(){b||(e.context=this,f.context=
this);g.args&&(g.args.length=0);if(0<arguments.length||0<g.maxParameters)g.args||(g.args=[]),g.args.push.apply(g.args,arguments),g.maxParameters>arguments.length&&g.args.push(new a.stateCtor);if(!g.isScheduled){g.isScheduled=!0;var k=Qh;g.runInCurrentFrameIfPossible&&0!=Yh&&(g.measureTask.fn&&1==Yh||!g.measureTask.fn)&&(k=(k+1)%2);Ph[k].push(g)}return ci()};c.id="vsyncTask";return c},di=function(a,b){Rh=!1;var c={};Yh=1;for(var e=0;e<a.length;++e){var f=a[e];f.args&&f.args[f.args.length-1]&&(f.args[f.args.length-
1].now=b);var g=f.measureTask;f.isScheduled=!1;if(g.fn)try{g.fn.apply(g.context,f.args||$h)}catch(k){c[e]=!0,ch(k)}}Yh=2;for(e=0;e<a.length;++e)if(f=a[e],f.args&&f.args[f.args.length-1]&&(f.args[f.args.length-1].now=b),g=f.mutateTask,f.isScheduled=!1,!c[e]&&g.fn)try{g.fn.apply(g.context,f.args||$h)}catch(k){ch(k)}0<Th&&1<b&&(a=b-Th,500>a&&(Vh+=a,Uh++,100<a&&Wh++,Xh<a&&(Xh=a)));Th=Rh&&1<b?b:0},ci=function(){Rh||(Rh=!0,Sh=new Promise(function(a){window.requestAnimationFrame(function(b){var c=Ph[Qh];
Qh=(Qh+1)%2;try{di(c,b)}finally{Yh=0,c.length=0}a()})}));return Sh};var ei=function(a,b,c){dh.call(this);this.listener_=null!=c?Ha(a,c):a;this.interval_=b;this.callback_=Ha(this.onTimer_,this);this.args_=[]};y(ei,dh);d=ei.prototype;d.shouldFire_=!1;d.pauseCount_=0;d.timer_=null;d.fire=function(a){this.args_=arguments;this.timer_||this.pauseCount_?this.shouldFire_=!0:this.doAction_()};d.stop=function(){this.timer_&&(r.clearTimeout(this.timer_),this.timer_=null,this.shouldFire_=!1,this.args_=[])};d.pause=function(){this.pauseCount_++};
d.resume=function(){this.pauseCount_--;this.pauseCount_||!this.shouldFire_||this.timer_||(this.shouldFire_=!1,this.doAction_())};d.disposeInternal=function(){ei.superClass_.disposeInternal.call(this);this.stop()};d.onTimer_=function(){this.timer_=null;this.shouldFire_&&!this.pauseCount_&&(this.shouldFire_=!1,this.doAction_())};d.doAction_=function(){this.timer_=Lh(this.callback_,this.interval_);this.listener_.apply(null,this.args_)};var fi=function(a,b,c,e,f){this.reset(a,b,c,e,f)};fi.prototype.sequenceNumber_=0;fi.prototype.exception_=null;var gi=0;d=fi.prototype;d.reset=function(a,b,c,e,f){this.sequenceNumber_="number"==typeof f?f:gi++;this.time_=e||Ja();this.level_=a;this.msg_=b;this.loggerName_=c;delete this.exception_};d.getLoggerName=function(){return this.loggerName_};d.getException=function(){return this.exception_};d.setException=function(a){this.exception_=a};d.setLoggerName=function(a){this.loggerName_=a};
d.getLevel=function(){return this.level_};d.setLevel=function(a){this.level_=a};d.getMessage=function(){return this.msg_};d.setMessage=function(a){this.msg_=a};d.getMillis=function(){return this.time_};d.setMillis=function(a){this.time_=a};d.getSequenceNumber=function(){return this.sequenceNumber_};var hi=function(a){this.name_=a;this.handlers_=this.children_=this.level_=this.parent_=null},ii=function(a,b){this.name=a;this.value=b};ii.prototype.toString=function(){return this.name};var ji=new ii("SHOUT",1200),ki=new ii("SEVERE",1E3),li=new ii("WARNING",900),mi=new ii("INFO",800),ni=new ii("CONFIG",700),oi=new ii("FINE",500),pi=new ii("FINER",400),qi=new ii("FINEST",300);d=hi.prototype;d.getName=function(){return this.name_};d.addHandler=function(a){this.handlers_||(this.handlers_=[]);this.handlers_.push(a)};
d.removeHandler=function(a){var b=this.handlers_;return!!b&&ob(b,a)};d.getParent=function(){return this.parent_};d.getChildren=function(){this.children_||(this.children_={});return this.children_};d.setLevel=function(a){this.level_=a};d.getLevel=function(){return this.level_};d.getEffectiveLevel=function(){if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();A("Root logger has no level set.");return null};d.isLoggable=function(a){return a.value>=this.getEffectiveLevel().value};
d.log=function(a,b,c){this.isLoggable(a)&&(Ba(b)&&(b=b()),this.doLogRecord_(this.getLogRecord(a,b,c)))};d.getLogRecord=function(a,b,c){a=new fi(a,String(b),this.name_);c&&a.setException(c);return a};d.shout=function(a,b){this.log(ji,a,b)};d.severe=function(a,b){this.log(ki,a,b)};d.warning=function(a,b){this.log(li,a,b)};d.info=function(a,b){this.log(mi,a,b)};d.config=function(a,b){this.log(ni,a,b)};d.fine=function(a,b){this.log(oi,a,b)};d.finer=function(a,b){this.log(pi,a,b)};
d.finest=function(a,b){this.log(qi,a,b)};d.logRecord=function(a){this.isLoggable(a.getLevel())&&this.doLogRecord_(a)};d.doLogRecord_=function(a){for(var b=this;b;)b.callPublish_(a),b=b.getParent()};d.callPublish_=function(a){if(this.handlers_)for(var b=0,c;c=this.handlers_[b];b++)c(a)};d.setParent_=function(a){this.parent_=a};d.addChild_=function(a,b){this.getChildren()[a]=b};
var ri={},si=null,ti=function(a){si||(si=new hi(""),ri[""]=si,si.setLevel(ni));var b;if(!(b=ri[a])){b=new hi(a);var c=a.lastIndexOf("."),e=a.substr(c+1);c=ti(a.substr(0,c));c.addChild_(e,b);b.setParent_(c);ri[a]=b}return b};var ui=function(){return Fd?"Webkit":Ed?"Moz":E?"ms":Cd?"O":null},vi=function(a,b){if(b&&a in b)return a;var c=ui();return c?(c=c.toLowerCase(),a=c+fd(a),void 0===b||a in b?a:null):null};var wi="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},xi=function(){};xi.prototype.next=function(){throw wi;};xi.prototype.__iterator__=function(){return this};var yi=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};var Ai=function(a,b){var c=b||zi;return function(){var e=this||r;e=e.closure_memoize_cache_||(e.closure_memoize_cache_={});var f=c(a[Da]||(a[Da]=++Ea),arguments);return e.hasOwnProperty(f)?e[f]:e[f]=a.apply(this,arguments)}},zi=function(a,b){a=[a];for(var c=b.length-1;0<=c;--c)a.push(typeof b[c],b[c]);return a.join("\x0B")};var Bi=function(a){Jh.call(this);this.domHelper_=a||vg();if(this.eventType_=this.getBrowserEventType_())this.eventKey_=xh(this.domHelper_.getDocument(),this.eventType_,Ha(this.handleChange_,this))};y(Bi,Jh);d=Bi.prototype;d.getBrowserEventType_=Ai(function(){var a=this.isSupported(),b=this.isPrefixed_();return a?b?((ui()||"")+"visibilitychange").toLowerCase():"visibilitychange":null});d.getHiddenPropertyName_=Ai(function(){return vi("hidden",this.domHelper_.getDocument())});
d.isPrefixed_=function(){return"hidden"!=this.getHiddenPropertyName_()};d.getVisibilityStatePropertyName_=Ai(function(){return vi("visibilityState",this.domHelper_.getDocument())});d.isSupported=function(){return!!this.getHiddenPropertyName_()};d.isHidden=function(){return!!this.domHelper_.getDocument()[this.getHiddenPropertyName_()]};d.getVisibilityState=function(){return this.isSupported()?this.domHelper_.getDocument()[this.getVisibilityStatePropertyName_()]:null};
d.handleChange_=function(){var a=this.getVisibilityState();a=new Ci(this.isHidden(),a);this.dispatchEvent(a)};d.disposeInternal=function(){Fh(this.eventKey_);Bi.superClass_.disposeInternal.call(this)};var Ci=function(a,b){fh.call(this,"visibilitychange");this.hidden=a;this.visibilityState=b};y(Ci,fh);var Di=function(a,b){a=ti(a);b&&a&&a.setLevel(b);return a},Ei=function(a,b,c){a&&a.info(b,c)},Fi=function(a,b,c){a&&a.fine(b,c)};var Gi=function(a,b,c,e){this.top=a;this.right=b;this.bottom=c;this.left=e};d=Gi.prototype;d.getWidth=function(){return this.right-this.left};d.getHeight=function(){return this.bottom-this.top};d.clone=function(){return new Gi(this.top,this.right,this.bottom,this.left)};d.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};
d.contains=function(a){return this&&a?a instanceof Gi?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};d.expand=function(a,b,c,e){Ca(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(e));return this};
d.expandToInclude=function(a){this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.right=Math.max(this.right,a.right);this.bottom=Math.max(this.bottom,a.bottom)};d.expandToIncludeCoordinate=function(a){this.top=Math.min(this.top,a.y);this.right=Math.max(this.right,a.x);this.bottom=Math.max(this.bottom,a.y);this.left=Math.min(this.left,a.x)};
d.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};d.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};d.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
d.translate=function(a,b){a instanceof rg?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(cb(a),this.left+=a,this.right+=a,"number"===typeof b&&(this.top+=b,this.bottom+=b));return this};d.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};var Hi=function(a,b,c,e,f){z(0<a,"Initial value must be greater than zero.");z(b>=a,"Max value should be at least as large as initial value.");void 0!==c&&z(0<=c&&1>=c,"Randomness factor should be between 0 and 1.");void 0!==e&&z(1<e,"Backoff factor should be greater than 1");void 0!==f&&z(1<=f,"Decay factor should be greater than 1");this.initialValue_=a;this.maxValue_=b;this.currBaseValue_=this.currValue_=a;this.randomFactor_=c||0;this.backoffFactor_=e||2;this.decayFactor_=f||2};d=Hi.prototype;
d.currBackoffCount_=0;d.currDecayCount_=0;d.reset=function(){this.currBaseValue_=this.currValue_=this.initialValue_;this.currDecayCount_=this.currBackoffCount_=0};d.getValue=function(){return this.currValue_};d.getBackoffCount=function(){return this.currBackoffCount_};d.getDecayCount=function(){return this.currDecayCount_};
d.backoff=function(){this.currBaseValue_=Math.min(this.maxValue_,this.currBaseValue_*this.backoffFactor_);this.currValue_=Math.min(this.maxValue_,this.currBaseValue_+(this.randomFactor_?Math.round(this.randomFactor_*(Math.random()-.5)*2*this.currBaseValue_):0));this.currBackoffCount_++};
d.decay=function(){this.currBaseValue_=Math.max(this.initialValue_,this.currBaseValue_/this.decayFactor_);this.currValue_=Math.max(this.initialValue_,this.currBaseValue_+(this.randomFactor_?Math.round(this.randomFactor_*(Math.random()-.5)*2*this.currBaseValue_):0));this.currDecayCount_++};var Ii=function(a,b,c,e){this.left=a;this.top=b;this.width=c;this.height=e};Ii.prototype.clone=function(){return new Ii(this.left,this.top,this.width,this.height)};Ii.prototype.toBox=function(){return new Gi(this.top,this.left+this.width,this.top+this.height,this.left)};Ii.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
Ii.prototype.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var e=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(e<=a)return this.left=b,this.top=e,this.width=c-b,this.height=a-e,!0}return!1};var Ji=function(a,b){var c=Math.max(a.left,b.left),e=Math.min(a.left+a.width,b.left+b.width);if(c<=e){var f=Math.max(a.top,b.top);a=Math.min(a.top+a.height,b.top+b.height);if(f<=a)return new Ii(c,f,e-c,a-f)}return null};
d=Ii.prototype;d.intersects=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
d.difference=function(a){var b=Ji(this,a);if(b&&b.height&&b.width){b=[];var c=this.top,e=this.height,f=this.left+this.width,g=this.top+this.height,k=a.left+a.width,l=a.top+a.height;a.top>this.top&&(b.push(new Ii(this.left,this.top,this.width,a.top-this.top)),c=a.top,e-=a.top-this.top);l<g&&(b.push(new Ii(this.left,l,this.width,g-l)),e=l-c);a.left>this.left&&b.push(new Ii(this.left,c,a.left-this.left,e));k<f&&b.push(new Ii(k,c,f-k,e));a=b}else a=[this.clone()];return a};
d.boundingRect=function(a){var b=Math.max(this.left+this.width,a.left+a.width),c=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=c-this.top};d.contains=function(a){return a instanceof rg?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};
d.squaredDistance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return b*b+a*a};d.distance=function(a){return Math.sqrt(this.squaredDistance(a))};d.getSize=function(){return new sg(this.width,this.height)};d.getTopLeft=function(){return new rg(this.left,this.top)};d.getCenter=function(){return new rg(this.left+this.width/2,this.top+this.height/2)};
d.getBottomRight=function(){return new rg(this.left+this.width,this.top+this.height)};d.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
d.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};d.translate=function(a,b){a instanceof rg?(this.left+=a.x,this.top+=a.y):(this.left+=cb(a),"number"===typeof b&&(this.top+=b));return this};d.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};var Ki=function(){};Ki.prototype.cachedOptions_=null;Ki.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var Li,Mi=function(){};y(Mi,Ki);Mi.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};Mi.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=!0,a[1]=!0);return a};
Mi.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};Li=new Mi;var Ni=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var e=0;e<c;e+=2)this.set(arguments[e],arguments[e+1])}else a&&this.addAll(a)};d=Ni.prototype;d.getCount=function(){return this.count_};d.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};d.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};
d.containsKey=function(a){return Oi(this.map_,a)};d.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Oi(this.map_,c)&&this.map_[c]==a)return!0}return!1};d.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Pi;this.cleanupKeysArray_();for(var c,e=0;c=this.keys_[e];e++)if(!b(this.get(c),a.get(c)))return!1;return!0};var Pi=function(a,b){return a===b};d=Ni.prototype;d.isEmpty=function(){return 0==this.count_};
d.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};d.remove=function(a){return Oi(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
d.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];Oi(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){var e={};for(b=a=0;a<this.keys_.length;)c=this.keys_[a],Oi(e,c)||(this.keys_[b++]=c,e[c]=1),a++;this.keys_.length=b}};d.get=function(a,b){return Oi(this.map_,a)?this.map_[a]:b};d.set=function(a,b){Oi(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
d.addAll=function(a){if(a instanceof Ni)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};d.forEach=function(a,b){for(var c=this.getKeys(),e=0;e<c.length;e++){var f=c[e],g=this.get(f);a.call(b,g,f,this)}};d.clone=function(){return new Ni(this)};d.transpose=function(){for(var a=new Ni,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};
d.toObject=function(){this.cleanupKeysArray_();for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a};d.getKeyIterator=function(){return this.__iterator__(!0)};d.getValueIterator=function(){return this.__iterator__(!1)};
d.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.version_,e=this,f=new xi;f.next=function(){if(c!=e.version_)throw Error("The map has changed since the iterator was created");if(b>=e.keys_.length)throw wi;var g=e.keys_[b++];return a?g:e.map_[g]};return f};var Oi=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Qi=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(Aa(a)){for(var b=[],c=a.length,e=0;e<c;e++)b.push(a[e]);return b}b=[];c=0;for(e in a)b[c++]=a[e];return b},Ri=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(Aa(a)||"string"===typeof a)jb(a,b,c);else{if(a.getKeys&&"function"==typeof a.getKeys)var e=a.getKeys();else if(a.getValues&&"function"==typeof a.getValues)e=void 0;else if(Aa(a)||
"string"===typeof a){e=[];for(var f=a.length,g=0;g<f;g++)e.push(g)}else for(g in e=[],f=0,a)e[f++]=g;f=Qi(a);g=f.length;for(var k=0;k<g;k++)b.call(c,f[k],e&&e[k],a)}};var Si=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Ti=function(a,b){if(!b)return a;var c=a.indexOf("#");0>c&&(c=a.length);var e=a.indexOf("?");if(0>e||e>c){e=c;var f=""}else f=a.substring(e+1,c);a=[a.substr(0,e),f,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;return a[0]+(a[1]?"?"+a[1]:"")+a[2]},Ui=function(a,b,c){db(a);if(za(b)){eb(b);for(var e=0;e<b.length;e++)Ui(a,String(b[e]),c)}else null!=b&&c.push(a+(""===b?"":"="+encodeURIComponent(String(b))))},
Vi=function(a,b){z(0==Math.max(a.length-(b||0),0)%2,"goog.uri.utils: Key/value lists must be even in length.");var c=[];for(b=b||0;b<a.length;b+=2)Ui(a[b],a[b+1],c);return c.join("&")},Wi=function(a,b){var c=2==arguments.length?Vi(arguments[1],0):Vi(arguments,1);return Ti(a,c)},Xi=function(a,b,c){c=null!=c?"="+encodeURIComponent(String(c)):"";return Ti(a,b+c)},Yi=function(a,b,c,e){for(var f=c.length;0<=(b=a.indexOf(c,b))&&b<e;){var g=a.charCodeAt(b-1);if(38==g||63==g)if(g=a.charCodeAt(b+f),!g||61==
g||38==g||35==g)return b;b+=f+1}return-1},Zi=/#|$/,$i=/[?&]($|#)/;var aj=function(a){Jh.call(this);this.headers=new Ni;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastMethod_=this.lastUri_="";this.lastErrorCode_=0;this.lastError_="";this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_="";this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};y(aj,Jh);aj.prototype.logger_=Di("goog.net.XhrIo");
var bj=/^https?$/i,cj=["POST","PUT"],dj=[],ej=function(a,b,c,e,f,g,k){var l=new aj;dj.push(l);b&&l.listen("complete",b);l.listenOnce("ready",l.cleanupSend_);g&&l.setTimeoutInterval(g);k&&l.setWithCredentials(k);l.send(a,c,e,f);return l};d=aj.prototype;d.cleanupSend_=function(){this.dispose();ob(dj,this)};d.getTimeoutInterval=function(){return this.timeoutInterval_};d.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};d.setResponseType=function(a){this.responseType_=a};
d.getResponseType=function(){return this.responseType_};d.setWithCredentials=function(a){this.withCredentials_=a};d.getWithCredentials=function(){return this.withCredentials_};d.setProgressEventsEnabled=function(a){this.progressEventsEnabled_=a};d.getProgressEventsEnabled=function(){return this.progressEventsEnabled_};
d.send=function(a,b,c,e){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastErrorCode_=0;this.lastMethod_=b;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():Li.getOptions();this.xhr_.onreadystatechange=Ha(this.onReadyStateChange_,this);this.getProgressEventsEnabled()&&"onprogress"in
this.xhr_&&(this.xhr_.onprogress=Ha(function(g){this.onProgressHandler_(g,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=Ha(this.onProgressHandler_,this)));try{Fi(this.logger_,this.formatMsg_("Opening Xhr")),this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(g){Fi(this.logger_,this.formatMsg_("Error opening Xhr: "+g.message));this.error_(5,g);return}a=c||"";var f=this.headers.clone();e&&Ri(e,function(g,k){f.set(k,g)});e=mb(f.getKeys(),fj);c=r.FormData&&a instanceof r.FormData;
!(0<=ib(cj,b))||e||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(g,k){this.xhr_.setRequestHeader(k,g)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_);try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&(this.useXhr2Timeout_=gj(this.xhr_),Fi(this.logger_,this.formatMsg_("Will abort after "+this.timeoutInterval_+
"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_.timeout=this.timeoutInterval_,this.xhr_.ontimeout=Ha(this.timeout_,this)):this.timeoutId_=Lh(this.timeout_,this.timeoutInterval_,this)),Fi(this.logger_,this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(g){Fi(this.logger_,this.formatMsg_("Send error: "+g.message)),this.error_(5,g)}};
var gj=function(a){return E&&Od(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout},fj=function(a){return"content-type"==a.toLowerCase()};d=aj.prototype;d.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():Li.createInstance()};d.timeout_=function(){"undefined"!=typeof sa&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=8,Fi(this.logger_,this.formatMsg_(this.lastError_)),this.dispatchEvent("timeout"),this.abort(8))};
d.error_=function(a,b){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=b;this.lastErrorCode_=a;this.dispatchErrors_();this.cleanUpXhr_()};d.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))};
d.abort=function(a){this.xhr_&&this.active_&&(Fi(this.logger_,this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.cleanUpXhr_())};d.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));aj.superClass_.disposeInternal.call(this)};
d.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)this.onReadyStateChangeHelper_();else this.onReadyStateChangeEntryPoint_()};d.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
d.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof sa)if(this.xhrOptions_[1]&&4==this.getReadyState()&&2==this.getStatus())Fi(this.logger_,this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&4==this.getReadyState())Lh(this.onReadyStateChange_,0,this);else if(this.dispatchEvent("readystatechange"),this.isComplete()){Fi(this.logger_,this.formatMsg_("Request complete"));this.active_=!1;try{this.isSuccess()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):
(this.lastErrorCode_=6,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};d.onProgressHandler_=function(a,b){z("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(hj(a,"progress"));this.dispatchEvent(hj(a,b?"downloadprogress":"uploadprogress"))};var hj=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}};d=aj.prototype;
d.cleanUpXhr_=function(a){if(this.xhr_){this.cleanUpTimeoutTimer_();var b=this.xhr_,c=this.xhrOptions_[0]?ya:null;this.xhrOptions_=this.xhr_=null;a||this.dispatchEvent("ready");try{b.onreadystatechange=c}catch(e){(a=this.logger_)&&a.severe("Problem encountered resetting onreadystatechange: "+e.message,void 0)}}};d.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_.ontimeout=null);this.timeoutId_&&(r.clearTimeout(this.timeoutId_),this.timeoutId_=null)};d.isActive=function(){return!!this.xhr_};
d.isComplete=function(){return 4==this.getReadyState()};d.isSuccess=function(){var a=this.getStatus();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};d.isLastUriEffectiveSchemeHttp_=function(){var a=String(this.lastUri_).match(Si)[1]||null;!a&&r.self&&r.self.location&&(a=r.self.location.protocol,a=a.substr(0,a.length-1));return bj.test(a?a.toLowerCase():"")};
d.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};d.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};d.getStatusText=function(){try{return 2<this.getReadyState()?this.xhr_.statusText:""}catch(a){return Fi(this.logger_,"Can not get status: "+a.message),""}};d.getLastUri=function(){return String(this.lastUri_)};
d.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(a){return Fi(this.logger_,"Can not get responseText: "+a.message),""}};d.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(a){Fi(this.logger_,"Can not get responseBody: "+a.message)}return null};d.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(a){return Fi(this.logger_,"Can not get responseXML: "+a.message),null}};
d.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));a:{a=b;if(r.JSON)try{var c=r.JSON.parse(a);z("object"==typeof c);var e=c;break a}catch(f){}e=yi(a)}return e}};
d.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case "":case "text":return this.xhr_.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}var a=this.logger_;a&&a.severe("Response type "+this.responseType_+" is not supported on this browser",void 0);return null}catch(b){return Fi(this.logger_,"Can not get response: "+b.message),null}};
d.getResponseHeader=function(a){if(this.xhr_&&this.isComplete())return a=this.xhr_.getResponseHeader(a),null===a?void 0:a};d.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders()||"":""};d.getResponseHeaders=function(){for(var a={},b=this.getAllResponseHeaders().split("\r\n"),c=0;c<b.length;c++)if(!Vb(b[c])){var e=gd(b[c],":",1),f=e[0];e=e[1];if("string"===typeof e){e=e.trim();var g=a[f]||[];a[f]=g;g.push(e)}}return wb(a,function(k){return k.join(", ")})};
d.getStreamingResponseHeader=function(a){return this.xhr_?this.xhr_.getResponseHeader(a):null};d.getAllStreamingResponseHeaders=function(){return this.xhr_?this.xhr_.getAllResponseHeaders():""};d.getLastErrorCode=function(){return this.lastErrorCode_};d.getLastError=function(){return"string"===typeof this.lastError_?this.lastError_:String(this.lastError_)};d.formatMsg_=function(a){return a+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"};var ij=function(a){this.userAction=a};var jj=function(a,b){this.el_=a;this.veTag_=b;this.loggedImpression_=!1;this.impressionEventID=void 0;this.neverShown=this.hidden=!0;this.parent_=this.traversalOrder_=void 0};d=jj.prototype;d.getTag=function(){return this.veTag_};d.getElement=function(){return this.el_};d.setImpressionLogged=function(){this.loggedImpression_=!0};d.resetImpressionLogged=function(){this.loggedImpression_=!1;this.impressionEventID=void 0};d.getImpressionLogged=function(){return this.loggedImpression_};
d.setTraversalOrder=function(a){this.traversalOrder_=a};d.getTraversalOrder=function(){return this.traversalOrder_};d.setParent=function(a){this.parent_=a};d.getParent=function(){return this.parent_};var kj=function(a,b){this.tagPopulator_=a;this.expectXidTagComponents_=b||!1},lj=Di("social.analysis.VisualElementProvider");d=kj.prototype;d.getVisualElement=function(a){var b=a.__ve||null;if(b&&!b.getTag().isMutable()||b&&b.getTag().isMutable()&&!this.hasMutated_(a,b))return b;var c=a.getAttribute("jslog");if(!c)return null;c=this.getVisualElementTag(c);if(!c)return null;c=new jj(a,c);b&&b.getTag().isCachedImpressionRetained()&&b.getImpressionLogged()&&c.setImpressionLogged();return a.__ve=c};
d.getVisualElementTag=function(a){if(Vb(a))return lj&&lj.severe("Error parsing jslog attribute: No attribute specified.",void 0),null;var b=a.split(";"),c=Number(b[0].trim());if(isNaN(c))return lj&&lj.severe("Error parsing jslog attribute["+a+"] No Visual Element ID specified.",void 0),null;c=this.tagPopulator_.createNewTag(c);for(var e=1;e<b.length;e++){var f=b[e].trim();if(!Vb(f)){var g=gd(f,":",1);if(2>g.length)return lj&&lj.severe("Error parsing jslog attribute["+a+"] Invalid key value label format.",
void 0),null;f=g[0].trim();g=g[1].trim();if(Vb(f)||Vb(g))return lj&&lj.severe("Error parsing jslog attribute["+a+"] Empty key or value.",void 0),null;switch(f){case this.maybeXidPartLabel_(kf):f=g.split(",");for(g=0;g<f.length;++g)this.setTracksEvent_(c,f[g].trim());break;case this.maybeXidPartLabel_(lf):isNaN(g)&&lj&&lj.severe("Error parsing jslog attribute["+a+"] The value of the index label is not a number.",void 0);c.setIndex(Number(g));break;case this.maybeXidPartLabel_(nf):f=g.split(",");f=
f.map(Number);f=f.filter(Number.isInteger);c.setTestCodes(f);break;case this.maybeXidPartLabel_(mf):"true"==g?c.setMutable(!0):"rci"==g&&(c.setMutable(!0),c.setRetainCachedImpression(!0))}}}return c.setAttribute(a)};d.maybeXidPartLabel_=function(a){return this.expectXidTagComponents_?wf(a):a};d.setTracksEvent_=function(a,b){this.expectXidTagComponents_?a.tracksEventXid(b):a.tracksEvent(b)};d.hasMutated_=function(a,b){a=a.getAttribute("jslog");return!a||Vb(a)?!0:a!=b.getTag().getAttribute()};var mj=function(a,b){this.visualElementProvider_=a;this.traverseShadowDom_=void 0===b?!1:b},nj=0;mj.prototype.getRenderedElements=function(a){return this.getJsLogElements(a).filter(function(b){return null!=this.visualElementProvider_.getVisualElement(b)},this)};
mj.prototype.getImpressionTrees=function(a){for(var b=this.visualElementProvider_,c=[],e=void 0,f=0;f<a.length;++f){var g=b.getVisualElement(a[f]);if(void 0==g.getTraversalOrder()){var k=void 0;Nh(a[f],function(l){l=b.getVisualElement(l);return null!=l?(k=l,!0):!1},!1);k?e&&e.has(k)||(e=new Map,c.unshift(e),e.set(k,[]),nj=1):(e=new Map,c.unshift(e),nj=0);g.setTraversalOrder(nj++);g.setParent(k);e.set(g,[]);k&&e.get(k).push(g.getTraversalOrder())}}return c};
mj.prototype.getClientVEs=function(a){var b=this.visualElementProvider_;return a.map(function(c){return b.getVisualElement(c)})};mj.prototype.getJsLogElements=function(a){if(this.traverseShadowDom_){var b=[];var c=[];for(b.push.apply(b,a.querySelectorAll("*"));0<b.length;){var e=b.shift();e.getAttribute("jslog")&&c.push(e);e.shadowRoot&&b.unshift.apply(b,e.shadowRoot.querySelectorAll("*"))}}else c=[].slice.call(a.querySelectorAll("[jslog]"));c.unshift(a);return c};var oj=function(a,b,c){ej(a.url,function(e){e=e.target;e.isSuccess()?b(e.getResponseText()):c(e.getStatus())},a.requestType,a.body,a.requestHeaders,a.timeoutMillis,a.withCredentials)};var pj=function(a){N(this,a,0,-1,null,null)};y(pj,K);pj.prototype.toObject=function(a){return qj(a,this)};var qj=function(a,b){var c,e={talkbackEnabled:null==(c=L(b,1))?void 0:c,braillebackEnabled:null==(c=L(b,2))?void 0:c,switchaccessEnabled:null==(c=L(b,3))?void 0:c,justspeakEnabled:null==(c=L(b,4))?void 0:c,largeTextEnabled:null==(c=L(b,5))?void 0:c,magnificationEnabled:null==(c=L(b,6))?void 0:c,highContrastTextEnabled:null==(c=L(b,7))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};
pj.prototype.serializeBinary=function(){var a=new J;rj(this,a);return a.getResultBuffer()};var rj=function(a,b){var c=L(a,1);null!=c&&b.writeEnum(1,c);c=L(a,2);null!=c&&b.writeEnum(2,c);c=L(a,3);null!=c&&b.writeEnum(3,c);c=L(a,4);null!=c&&b.writeEnum(4,c);c=L(a,5);null!=c&&b.writeEnum(5,c);c=L(a,6);null!=c&&b.writeEnum(6,c);c=L(a,7);null!=c&&b.writeEnum(7,c)};d=pj.prototype;d.getTalkbackEnabled=function(){return L(this,1)};d.setTalkbackEnabled=function(a){return M(this,1,a)};
d.clearTalkbackEnabled=function(){return M(this,1,void 0)};d.hasTalkbackEnabled=function(){return null!=L(this,1)};d.getBraillebackEnabled=function(){return L(this,2)};d.setBraillebackEnabled=function(a){return M(this,2,a)};d.clearBraillebackEnabled=function(){return M(this,2,void 0)};d.hasBraillebackEnabled=function(){return null!=L(this,2)};d.getSwitchaccessEnabled=function(){return L(this,3)};d.setSwitchaccessEnabled=function(a){return M(this,3,a)};
d.clearSwitchaccessEnabled=function(){return M(this,3,void 0)};d.hasSwitchaccessEnabled=function(){return null!=L(this,3)};d.getJustspeakEnabled=function(){return L(this,4)};d.setJustspeakEnabled=function(a){return M(this,4,a)};d.clearJustspeakEnabled=function(){return M(this,4,void 0)};d.hasJustspeakEnabled=function(){return null!=L(this,4)};d.getLargeTextEnabled=function(){return L(this,5)};d.setLargeTextEnabled=function(a){return M(this,5,a)};
d.clearLargeTextEnabled=function(){return M(this,5,void 0)};d.hasLargeTextEnabled=function(){return null!=L(this,5)};d.getMagnificationEnabled=function(){return L(this,6)};d.setMagnificationEnabled=function(a){return M(this,6,a)};d.clearMagnificationEnabled=function(){return M(this,6,void 0)};d.hasMagnificationEnabled=function(){return null!=L(this,6)};d.getHighContrastTextEnabled=function(){return L(this,7)};d.setHighContrastTextEnabled=function(a){return M(this,7,a)};
d.clearHighContrastTextEnabled=function(){return M(this,7,void 0)};d.hasHighContrastTextEnabled=function(){return null!=L(this,7)};var sj=function(a){N(this,a,0,-1,null,null)};y(sj,K);sj.prototype.toObject=function(a){return tj(a,this)};var tj=function(a,b){var c,e={isWatch:null==(c=O(b,1))?void 0:c,isAutomotive:null==(c=O(b,2))?void 0:c,isChromeOs:null==(c=O(b,3))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};sj.prototype.serializeBinary=function(){var a=new J;uj(this,a);return a.getResultBuffer()};
var uj=function(a,b){var c=L(a,1);null!=c&&b.writeBool(1,c);c=L(a,2);null!=c&&b.writeBool(2,c);c=L(a,3);null!=c&&b.writeBool(3,c)};d=sj.prototype;d.getIsWatch=function(){return O(this,1)};d.setIsWatch=function(a){return M(this,1,a)};d.clearIsWatch=function(){return M(this,1,void 0)};d.hasIsWatch=function(){return null!=L(this,1)};d.getIsAutomotive=function(){return O(this,2)};d.setIsAutomotive=function(a){return M(this,2,a)};d.clearIsAutomotive=function(){return M(this,2,void 0)};
d.hasIsAutomotive=function(){return null!=L(this,2)};d.getIsChromeOs=function(){return O(this,3)};d.setIsChromeOs=function(a){return M(this,3,a)};d.clearIsChromeOs=function(){return M(this,3,void 0)};d.hasIsChromeOs=function(){return null!=L(this,3)};var wj=function(a){N(this,a,0,33,vj,null)};y(wj,K);var xj={},yj={},vj=[31];wj.prototype.toObject=function(a){return zj(a,this)};
var zj=function(a,b){var c,e={androidId:null==(c=L(b,1))?void 0:c,loggingId:null==(c=L(b,2))?void 0:c,deviceId:null==(c=L(b,18))?void 0:c,sdkVersion:null==(c=L(b,3))?void 0:c,model:null==(c=L(b,4))?void 0:c,product:null==(c=L(b,5))?void 0:c,hardware:null==(c=L(b,8))?void 0:c,device:null==(c=L(b,9))?void 0:c,osBuild:null==(c=L(b,6))?void 0:c,applicationBuild:null==(c=L(b,7))?void 0:c,mccMnc:null==(c=L(b,10))?void 0:c,locale:null==(c=L(b,11))?void 0:c,country:null==(c=L(b,12))?void 0:c,manufacturer:null==
(c=L(b,13))?void 0:c,brand:null==(c=L(b,14))?void 0:c,board:null==(c=L(b,15))?void 0:c,radioVersion:null==(c=L(b,16))?void 0:c,fingerprint:null==(c=L(b,17))?void 0:c,gmsCoreVersionCode:null==(c=L(b,19))?void 0:c,gmscoreVariant:(c=b.getGmscoreVariant())&&fg(a,c),isSidewinderDevice:null==(c=O(b,20))?void 0:c,usingLogSourceInt:null==(c=O(b,22))?void 0:c,deviceRestriction:null==(c=L(b,23))?void 0:c,androidDeviceType:(c=b.getAndroidDeviceType())&&tj(a,c),accessibilityState:(c=b.getAccessibilityState())&&
qj(a,c),type:null==(c=L(b,26))?void 0:c,roOemKey1:null==(c=L(b,27))?void 0:c,deviceDataVersionInfo:null==(c=L(b,28))?void 0:c,nativePlatformList:null==(c=L(b,31))?void 0:c};Ce(b,e,xj,wj.prototype.getExtension,a);a&&(e.$jspbMessageInstance=b);return e};wj.prototype.serializeBinary=function(){var a=new J;Aj(this,a);return a.getResultBuffer()};
var Aj=function(a,b){var c=L(a,1);null!=c&&b.writeInt64(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,18);null!=c&&b.writeInt64(18,c);c=L(a,3);null!=c&&b.writeInt32(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,8);null!=c&&b.writeString(8,c);c=L(a,9);null!=c&&b.writeString(9,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,10);null!=c&&b.writeString(10,c);c=L(a,11);null!=c&&b.writeString(11,c);c=L(a,12);null!=c&&b.writeString(12,
c);c=L(a,13);null!=c&&b.writeString(13,c);c=L(a,14);null!=c&&b.writeString(14,c);c=L(a,15);null!=c&&b.writeString(15,c);c=L(a,16);null!=c&&b.writeString(16,c);c=L(a,17);null!=c&&b.writeString(17,c);c=L(a,19);null!=c&&b.writeInt32(19,c);c=a.getGmscoreVariant();null!=c&&b.writeMessage(32,c,gg);c=L(a,20);null!=c&&b.writeBool(20,c);c=L(a,22);null!=c&&b.writeBool(22,c);c=L(a,23);null!=c&&b.writeEnum(23,c);c=a.getAndroidDeviceType();null!=c&&b.writeMessage(24,c,uj);c=a.getAccessibilityState();null!=c&&
b.writeMessage(25,c,rj);c=L(a,26);null!=c&&b.writeString(26,c);c=L(a,27);null!=c&&b.writeString(27,c);c=L(a,28);null!=c&&b.writeString(28,c);c=a.getNativePlatformList();0<c.length&&b.writeRepeatedString(31,c);De(a,b,yj,wj.prototype.getExtension)};d=wj.prototype;d.getAndroidId=function(){return L(this,1)};d.setAndroidId=function(a){return M(this,1,a)};d.clearAndroidId=function(){return M(this,1,void 0)};d.hasAndroidId=function(){return null!=L(this,1)};d.getLoggingId=function(){return L(this,2)};
d.setLoggingId=function(a){return M(this,2,a)};d.clearLoggingId=function(){return M(this,2,void 0)};d.hasLoggingId=function(){return null!=L(this,2)};d.getDeviceId=function(){return L(this,18)};d.setDeviceId=function(a){return M(this,18,a)};d.clearDeviceId=function(){return M(this,18,void 0)};d.hasDeviceId=function(){return null!=L(this,18)};d.getSdkVersion=function(){return L(this,3)};d.setSdkVersion=function(a){return M(this,3,a)};d.clearSdkVersion=function(){return M(this,3,void 0)};
d.hasSdkVersion=function(){return null!=L(this,3)};d.getModel=function(){return L(this,4)};d.setModel=function(a){return M(this,4,a)};d.clearModel=function(){return M(this,4,void 0)};d.hasModel=function(){return null!=L(this,4)};d.getProduct=function(){return L(this,5)};d.setProduct=function(a){return M(this,5,a)};d.clearProduct=function(){return M(this,5,void 0)};d.hasProduct=function(){return null!=L(this,5)};d.getHardware=function(){return L(this,8)};d.setHardware=function(a){return M(this,8,a)};
d.clearHardware=function(){return M(this,8,void 0)};d.hasHardware=function(){return null!=L(this,8)};d.getDevice=function(){return L(this,9)};d.setDevice=function(a){return M(this,9,a)};d.clearDevice=function(){return M(this,9,void 0)};d.hasDevice=function(){return null!=L(this,9)};d.getOsBuild=function(){return L(this,6)};d.setOsBuild=function(a){return M(this,6,a)};d.clearOsBuild=function(){return M(this,6,void 0)};d.hasOsBuild=function(){return null!=L(this,6)};
d.getApplicationBuild=function(){return L(this,7)};d.setApplicationBuild=function(a){return M(this,7,a)};d.clearApplicationBuild=function(){return M(this,7,void 0)};d.hasApplicationBuild=function(){return null!=L(this,7)};d.getMccMnc=function(){return L(this,10)};d.setMccMnc=function(a){return M(this,10,a)};d.clearMccMnc=function(){return M(this,10,void 0)};d.hasMccMnc=function(){return null!=L(this,10)};d.getLocale=function(){return L(this,11)};d.setLocale=function(a){return M(this,11,a)};
d.clearLocale=function(){return M(this,11,void 0)};d.hasLocale=function(){return null!=L(this,11)};d.getCountry=function(){return L(this,12)};d.setCountry=function(a){return M(this,12,a)};d.clearCountry=function(){return M(this,12,void 0)};d.hasCountry=function(){return null!=L(this,12)};d.getManufacturer=function(){return L(this,13)};d.setManufacturer=function(a){return M(this,13,a)};d.clearManufacturer=function(){return M(this,13,void 0)};d.hasManufacturer=function(){return null!=L(this,13)};
d.getBrand=function(){return L(this,14)};d.setBrand=function(a){return M(this,14,a)};d.clearBrand=function(){return M(this,14,void 0)};d.hasBrand=function(){return null!=L(this,14)};d.getBoard=function(){return L(this,15)};d.setBoard=function(a){return M(this,15,a)};d.clearBoard=function(){return M(this,15,void 0)};d.hasBoard=function(){return null!=L(this,15)};d.getRadioVersion=function(){return L(this,16)};d.setRadioVersion=function(a){return M(this,16,a)};
d.clearRadioVersion=function(){return M(this,16,void 0)};d.hasRadioVersion=function(){return null!=L(this,16)};d.getFingerprint=function(){return L(this,17)};d.setFingerprint=function(a){return M(this,17,a)};d.clearFingerprint=function(){return M(this,17,void 0)};d.hasFingerprint=function(){return null!=L(this,17)};d.getGmsCoreVersionCode=function(){return L(this,19)};d.setGmsCoreVersionCode=function(a){return M(this,19,a)};d.clearGmsCoreVersionCode=function(){return M(this,19,void 0)};
d.hasGmsCoreVersionCode=function(){return null!=L(this,19)};d.getGmscoreVariant=function(){return P(this,eg,32)};d.setGmscoreVariant=function(a){return Q(this,32,a)};d.clearGmscoreVariant=function(){return this.setGmscoreVariant(void 0)};d.hasGmscoreVariant=function(){return null!=L(this,32)};d.getIsSidewinderDevice=function(){return O(this,20)};d.setIsSidewinderDevice=function(a){return M(this,20,a)};d.clearIsSidewinderDevice=function(){return M(this,20,void 0)};
d.hasIsSidewinderDevice=function(){return null!=L(this,20)};d.getUsingLogSourceInt=function(){return O(this,22)};d.setUsingLogSourceInt=function(a){return M(this,22,a)};d.clearUsingLogSourceInt=function(){return M(this,22,void 0)};d.hasUsingLogSourceInt=function(){return null!=L(this,22)};d.getDeviceRestriction=function(){return L(this,23)};d.setDeviceRestriction=function(a){return M(this,23,a)};d.clearDeviceRestriction=function(){return M(this,23,void 0)};
d.hasDeviceRestriction=function(){return null!=L(this,23)};d.getAndroidDeviceType=function(){return P(this,sj,24)};d.setAndroidDeviceType=function(a){return Q(this,24,a)};d.clearAndroidDeviceType=function(){return this.setAndroidDeviceType(void 0)};d.hasAndroidDeviceType=function(){return null!=L(this,24)};d.getAccessibilityState=function(){return P(this,pj,25)};d.setAccessibilityState=function(a){return Q(this,25,a)};d.clearAccessibilityState=function(){return this.setAccessibilityState(void 0)};
d.hasAccessibilityState=function(){return null!=L(this,25)};d.getType=function(){return L(this,26)};d.setType=function(a){return M(this,26,a)};d.clearType=function(){return M(this,26,void 0)};d.hasType=function(){return null!=L(this,26)};d.getRoOemKey1=function(){return L(this,27)};d.setRoOemKey1=function(a){return M(this,27,a)};d.clearRoOemKey1=function(){return M(this,27,void 0)};d.hasRoOemKey1=function(){return null!=L(this,27)};d.getDeviceDataVersionInfo=function(){return L(this,28)};
d.setDeviceDataVersionInfo=function(a){return M(this,28,a)};d.clearDeviceDataVersionInfo=function(){return M(this,28,void 0)};d.hasDeviceDataVersionInfo=function(){return null!=L(this,28)};d.getNativePlatformList=function(){return L(this,31)};d.setNativePlatformList=function(a){return M(this,31,a||[])};d.addNativePlatform=function(a,b){return Ke(this,31,a,b)};d.clearNativePlatformList=function(){return this.setNativePlatformList([])};var Bj=function(a){N(this,a,0,-1,null,null)};y(Bj,K);Bj.prototype.toObject=function(a){return Cj(a,this)};var Cj=function(a,b){var c,e={clientType:null==(c=L(b,1))?void 0:c,buildLabel:null==(c=L(b,2))?void 0:c,birdsongBuildLabel:null==(c=L(b,3))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Bj.prototype.serializeBinary=function(){var a=new J;Dj(this,a);return a.getResultBuffer()};
var Dj=function(a,b){var c=L(a,1);null!=c&&b.writeEnum(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c)};d=Bj.prototype;d.getClientType=function(){return L(this,1)};d.setClientType=function(a){return M(this,1,a)};d.clearClientType=function(){return M(this,1,void 0)};d.hasClientType=function(){return null!=L(this,1)};d.getBuildLabel=function(){return L(this,2)};d.setBuildLabel=function(a){return M(this,2,a)};d.clearBuildLabel=function(){return M(this,2,void 0)};
d.hasBuildLabel=function(){return null!=L(this,2)};d.getBirdsongBuildLabel=function(){return L(this,3)};d.setBirdsongBuildLabel=function(a){return M(this,3,a)};d.clearBirdsongBuildLabel=function(){return M(this,3,void 0)};d.hasBirdsongBuildLabel=function(){return null!=L(this,3)};var Ej=function(a){N(this,a,0,-1,null,null)};y(Ej,K);Ej.prototype.toObject=function(a){return Fj(a,this)};var Fj=function(a,b){var c,e={locale:null==(c=L(b,1))?void 0:c,browser:null==(c=L(b,2))?void 0:c,browserVersion:null==(c=L(b,3))?void 0:c,flashVersion:null==(c=L(b,4))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Ej.prototype.serializeBinary=function(){var a=new J;Gj(this,a);return a.getResultBuffer()};
var Gj=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c)};d=Ej.prototype;d.getLocale=function(){return L(this,1)};d.setLocale=function(a){return M(this,1,a)};d.clearLocale=function(){return M(this,1,void 0)};d.hasLocale=function(){return null!=L(this,1)};d.getBrowser=function(){return L(this,2)};d.setBrowser=function(a){return M(this,2,a)};d.clearBrowser=function(){return M(this,2,void 0)};
d.hasBrowser=function(){return null!=L(this,2)};d.getBrowserVersion=function(){return L(this,3)};d.setBrowserVersion=function(a){return M(this,3,a)};d.clearBrowserVersion=function(){return M(this,3,void 0)};d.hasBrowserVersion=function(){return null!=L(this,3)};d.getFlashVersion=function(){return L(this,4)};d.setFlashVersion=function(a){return M(this,4,a)};d.clearFlashVersion=function(){return M(this,4,void 0)};d.hasFlashVersion=function(){return null!=L(this,4)};var Hj=function(a){N(this,a,0,-1,null,null)};y(Hj,K);Hj.prototype.toObject=function(a){return Ij(a,this)};
var Ij=function(a,b){var c,e={clientId:null==(c=L(b,1))?void 0:c,loggingId:null==(c=L(b,2))?void 0:c,os:null==(c=L(b,3))?void 0:c,osMajorVersion:null==(c=L(b,4))?void 0:c,osFullVersion:null==(c=L(b,5))?void 0:c,applicationBuild:null==(c=L(b,6))?void 0:c,country:null==(c=L(b,7))?void 0:c,applicationBuildCl:null==(c=L(b,8))?void 0:c,clearcutVersion:null==(c=L(b,9))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Hj.prototype.serializeBinary=function(){var a=new J;Jj(this,a);return a.getResultBuffer()};
var Jj=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,8);null!=c&&b.writeInt32(8,c);c=L(a,9);null!=c&&b.writeInt32(9,c)};d=Hj.prototype;d.getClientId=function(){return L(this,1)};d.setClientId=function(a){return M(this,1,a)};
d.clearClientId=function(){return M(this,1,void 0)};d.hasClientId=function(){return null!=L(this,1)};d.getLoggingId=function(){return L(this,2)};d.setLoggingId=function(a){return M(this,2,a)};d.clearLoggingId=function(){return M(this,2,void 0)};d.hasLoggingId=function(){return null!=L(this,2)};d.getOs=function(){return L(this,3)};d.setOs=function(a){return M(this,3,a)};d.clearOs=function(){return M(this,3,void 0)};d.hasOs=function(){return null!=L(this,3)};
d.getOsMajorVersion=function(){return L(this,4)};d.setOsMajorVersion=function(a){return M(this,4,a)};d.clearOsMajorVersion=function(){return M(this,4,void 0)};d.hasOsMajorVersion=function(){return null!=L(this,4)};d.getOsFullVersion=function(){return L(this,5)};d.setOsFullVersion=function(a){return M(this,5,a)};d.clearOsFullVersion=function(){return M(this,5,void 0)};d.hasOsFullVersion=function(){return null!=L(this,5)};d.getApplicationBuild=function(){return L(this,6)};
d.setApplicationBuild=function(a){return M(this,6,a)};d.clearApplicationBuild=function(){return M(this,6,void 0)};d.hasApplicationBuild=function(){return null!=L(this,6)};d.getCountry=function(){return L(this,7)};d.setCountry=function(a){return M(this,7,a)};d.clearCountry=function(){return M(this,7,void 0)};d.hasCountry=function(){return null!=L(this,7)};d.getApplicationBuildCl=function(){return L(this,8)};d.setApplicationBuildCl=function(a){return M(this,8,a)};
d.clearApplicationBuildCl=function(){return M(this,8,void 0)};d.hasApplicationBuildCl=function(){return null!=L(this,8)};d.getClearcutVersion=function(){return L(this,9)};d.setClearcutVersion=function(a){return M(this,9,a)};d.clearClearcutVersion=function(){return M(this,9,void 0)};d.hasClearcutVersion=function(){return null!=L(this,9)};var Kj=function(a){N(this,a,0,-1,null,null)};y(Kj,K);Kj.prototype.toObject=function(a){return Lj(a,this)};
var Lj=function(a,b){var c,e={deviceId:null==(c=L(b,9))?void 0:c,deviceModel:null==(c=L(b,1))?void 0:c,appVersion:null==(c=L(b,2))?void 0:c,manufacturer:null==(c=L(b,3))?void 0:c,productName:null==(c=L(b,4))?void 0:c,factoryCountry:null==(c=L(b,5))?void 0:c,buildType:null==(c=L(b,6))?void 0:c,systemBuild:null==(c=L(b,7))?void 0:c,backendType:null==(c=L(b,8))?void 0:c,locale:null==(c=L(b,11))?void 0:c,onDeviceAssistantEnabled:null==(c=O(b,12))?void 0:c,surfaceType:null==(c=L(b,13))?void 0:c};a&&(e.$jspbMessageInstance=
b);return e};Kj.prototype.serializeBinary=function(){var a=new J;Mj(this,a);return a.getResultBuffer()};
var Mj=function(a,b){var c=L(a,9);null!=c&&b.writeString(9,c);c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,8);null!=c&&b.writeEnum(8,c);c=L(a,11);null!=c&&b.writeString(11,c);c=L(a,12);null!=c&&b.writeBool(12,c);c=L(a,13);null!=c&&b.writeEnum(13,c)};d=Kj.prototype;
d.getDeviceId=function(){return L(this,9)};d.setDeviceId=function(a){return M(this,9,a)};d.clearDeviceId=function(){return M(this,9,void 0)};d.hasDeviceId=function(){return null!=L(this,9)};d.getDeviceModel=function(){return L(this,1)};d.setDeviceModel=function(a){return M(this,1,a)};d.clearDeviceModel=function(){return M(this,1,void 0)};d.hasDeviceModel=function(){return null!=L(this,1)};d.getAppVersion=function(){return L(this,2)};d.setAppVersion=function(a){return M(this,2,a)};
d.clearAppVersion=function(){return M(this,2,void 0)};d.hasAppVersion=function(){return null!=L(this,2)};d.getManufacturer=function(){return L(this,3)};d.setManufacturer=function(a){return M(this,3,a)};d.clearManufacturer=function(){return M(this,3,void 0)};d.hasManufacturer=function(){return null!=L(this,3)};d.getProductName=function(){return L(this,4)};d.setProductName=function(a){return M(this,4,a)};d.clearProductName=function(){return M(this,4,void 0)};
d.hasProductName=function(){return null!=L(this,4)};d.getFactoryCountry=function(){return L(this,5)};d.setFactoryCountry=function(a){return M(this,5,a)};d.clearFactoryCountry=function(){return M(this,5,void 0)};d.hasFactoryCountry=function(){return null!=L(this,5)};d.getBuildType=function(){return L(this,6)};d.setBuildType=function(a){return M(this,6,a)};d.clearBuildType=function(){return M(this,6,void 0)};d.hasBuildType=function(){return null!=L(this,6)};
d.getSystemBuild=function(){return L(this,7)};d.setSystemBuild=function(a){return M(this,7,a)};d.clearSystemBuild=function(){return M(this,7,void 0)};d.hasSystemBuild=function(){return null!=L(this,7)};d.getBackendType=function(){return L(this,8)};d.setBackendType=function(a){return M(this,8,a)};d.clearBackendType=function(){return M(this,8,void 0)};d.hasBackendType=function(){return null!=L(this,8)};d.getLocale=function(){return L(this,11)};d.setLocale=function(a){return M(this,11,a)};
d.clearLocale=function(){return M(this,11,void 0)};d.hasLocale=function(){return null!=L(this,11)};d.getOnDeviceAssistantEnabled=function(){return O(this,12)};d.setOnDeviceAssistantEnabled=function(a){return M(this,12,a)};d.clearOnDeviceAssistantEnabled=function(){return M(this,12,void 0)};d.hasOnDeviceAssistantEnabled=function(){return null!=L(this,12)};d.getSurfaceType=function(){return L(this,13)};d.setSurfaceType=function(a){return M(this,13,a)};
d.clearSurfaceType=function(){return M(this,13,void 0)};d.hasSurfaceType=function(){return null!=L(this,13)};var Nj=function(a){N(this,a,0,-1,null,null)};y(Nj,K);Nj.prototype.toObject=function(a){return Oj(a,this)};
var Oj=function(a,b){var c,e={assistiveTouchRunning:null==(c=O(b,1))?void 0:c,voiceOverRunning:null==(c=O(b,2))?void 0:c,switchControlRunning:null==(c=O(b,3))?void 0:c,shakeToUndoEnabled:null==(c=O(b,4))?void 0:c,closedCaptioningEnabled:null==(c=O(b,5))?void 0:c,boldTextEnabled:null==(c=O(b,6))?void 0:c,darkerSystemColorsEnabled:null==(c=O(b,7))?void 0:c,grayscaleEnabled:null==(c=O(b,8))?void 0:c,guidedAccessEnabled:null==(c=O(b,9))?void 0:c,invertColorsEnabled:null==(c=O(b,10))?void 0:c,monoAudioEnabled:null==
(c=O(b,11))?void 0:c,reduceMotionEnabled:null==(c=O(b,12))?void 0:c,reduceTransparencyEnabled:null==(c=O(b,13))?void 0:c,speakScreenEnabled:null==(c=O(b,14))?void 0:c,speakSelectionEnabled:null==(c=O(b,15))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Nj.prototype.serializeBinary=function(){var a=new J;Pj(this,a);return a.getResultBuffer()};
var Pj=function(a,b){var c=L(a,1);null!=c&&b.writeBool(1,c);c=L(a,2);null!=c&&b.writeBool(2,c);c=L(a,3);null!=c&&b.writeBool(3,c);c=L(a,4);null!=c&&b.writeBool(4,c);c=L(a,5);null!=c&&b.writeBool(5,c);c=L(a,6);null!=c&&b.writeBool(6,c);c=L(a,7);null!=c&&b.writeBool(7,c);c=L(a,8);null!=c&&b.writeBool(8,c);c=L(a,9);null!=c&&b.writeBool(9,c);c=L(a,10);null!=c&&b.writeBool(10,c);c=L(a,11);null!=c&&b.writeBool(11,c);c=L(a,12);null!=c&&b.writeBool(12,c);c=L(a,13);null!=c&&b.writeBool(13,c);c=L(a,14);null!=
c&&b.writeBool(14,c);c=L(a,15);null!=c&&b.writeBool(15,c)};d=Nj.prototype;d.getAssistiveTouchRunning=function(){return O(this,1)};d.setAssistiveTouchRunning=function(a){return M(this,1,a)};d.clearAssistiveTouchRunning=function(){return M(this,1,void 0)};d.hasAssistiveTouchRunning=function(){return null!=L(this,1)};d.getVoiceOverRunning=function(){return O(this,2)};d.setVoiceOverRunning=function(a){return M(this,2,a)};d.clearVoiceOverRunning=function(){return M(this,2,void 0)};
d.hasVoiceOverRunning=function(){return null!=L(this,2)};d.getSwitchControlRunning=function(){return O(this,3)};d.setSwitchControlRunning=function(a){return M(this,3,a)};d.clearSwitchControlRunning=function(){return M(this,3,void 0)};d.hasSwitchControlRunning=function(){return null!=L(this,3)};d.getShakeToUndoEnabled=function(){return O(this,4)};d.setShakeToUndoEnabled=function(a){return M(this,4,a)};d.clearShakeToUndoEnabled=function(){return M(this,4,void 0)};
d.hasShakeToUndoEnabled=function(){return null!=L(this,4)};d.getClosedCaptioningEnabled=function(){return O(this,5)};d.setClosedCaptioningEnabled=function(a){return M(this,5,a)};d.clearClosedCaptioningEnabled=function(){return M(this,5,void 0)};d.hasClosedCaptioningEnabled=function(){return null!=L(this,5)};d.getBoldTextEnabled=function(){return O(this,6)};d.setBoldTextEnabled=function(a){return M(this,6,a)};d.clearBoldTextEnabled=function(){return M(this,6,void 0)};
d.hasBoldTextEnabled=function(){return null!=L(this,6)};d.getDarkerSystemColorsEnabled=function(){return O(this,7)};d.setDarkerSystemColorsEnabled=function(a){return M(this,7,a)};d.clearDarkerSystemColorsEnabled=function(){return M(this,7,void 0)};d.hasDarkerSystemColorsEnabled=function(){return null!=L(this,7)};d.getGrayscaleEnabled=function(){return O(this,8)};d.setGrayscaleEnabled=function(a){return M(this,8,a)};d.clearGrayscaleEnabled=function(){return M(this,8,void 0)};
d.hasGrayscaleEnabled=function(){return null!=L(this,8)};d.getGuidedAccessEnabled=function(){return O(this,9)};d.setGuidedAccessEnabled=function(a){return M(this,9,a)};d.clearGuidedAccessEnabled=function(){return M(this,9,void 0)};d.hasGuidedAccessEnabled=function(){return null!=L(this,9)};d.getInvertColorsEnabled=function(){return O(this,10)};d.setInvertColorsEnabled=function(a){return M(this,10,a)};d.clearInvertColorsEnabled=function(){return M(this,10,void 0)};
d.hasInvertColorsEnabled=function(){return null!=L(this,10)};d.getMonoAudioEnabled=function(){return O(this,11)};d.setMonoAudioEnabled=function(a){return M(this,11,a)};d.clearMonoAudioEnabled=function(){return M(this,11,void 0)};d.hasMonoAudioEnabled=function(){return null!=L(this,11)};d.getReduceMotionEnabled=function(){return O(this,12)};d.setReduceMotionEnabled=function(a){return M(this,12,a)};d.clearReduceMotionEnabled=function(){return M(this,12,void 0)};
d.hasReduceMotionEnabled=function(){return null!=L(this,12)};d.getReduceTransparencyEnabled=function(){return O(this,13)};d.setReduceTransparencyEnabled=function(a){return M(this,13,a)};d.clearReduceTransparencyEnabled=function(){return M(this,13,void 0)};d.hasReduceTransparencyEnabled=function(){return null!=L(this,13)};d.getSpeakScreenEnabled=function(){return O(this,14)};d.setSpeakScreenEnabled=function(a){return M(this,14,a)};d.clearSpeakScreenEnabled=function(){return M(this,14,void 0)};
d.hasSpeakScreenEnabled=function(){return null!=L(this,14)};d.getSpeakSelectionEnabled=function(){return O(this,15)};d.setSpeakSelectionEnabled=function(a){return M(this,15,a)};d.clearSpeakSelectionEnabled=function(){return M(this,15,void 0)};d.hasSpeakSelectionEnabled=function(){return null!=L(this,15)};var Qj=function(a){N(this,a,0,-1,null,null)};y(Qj,K);Qj.prototype.toObject=function(a){return Rj(a,this)};
var Rj=function(a,b){var c,e={clientId:null==(c=L(b,1))?void 0:c,loggingId:null==(c=L(b,2))?void 0:c,osMajorVersion:null==(c=L(b,3))?void 0:c,osFullVersion:null==(c=L(b,4))?void 0:c,applicationBuild:null==(c=L(b,5))?void 0:c,applicationVersion:null==(c=L(b,12))?void 0:c,country:null==(c=L(b,6))?void 0:c,model:null==(c=L(b,7))?void 0:c,languageCode:null==(c=L(b,8))?void 0:c,applicationBuildCl:null==(c=L(b,9))?void 0:c,clearcutVersion:null==(c=L(b,10))?void 0:c,applicationBundleId:null==(c=L(b,11))?
void 0:c,accessibilityState:(c=b.getAccessibilityState())&&Oj(a,c)};a&&(e.$jspbMessageInstance=b);return e};Qj.prototype.serializeBinary=function(){var a=new J;Sj(this,a);return a.getResultBuffer()};
var Sj=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,12);null!=c&&b.writeString(12,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,8);null!=c&&b.writeString(8,c);c=L(a,9);null!=c&&b.writeInt32(9,c);c=L(a,10);null!=c&&b.writeInt32(10,c);c=L(a,11);null!=c&&b.writeString(11,c);c=a.getAccessibilityState();
null!=c&&b.writeMessage(13,c,Pj)};d=Qj.prototype;d.getClientId=function(){return L(this,1)};d.setClientId=function(a){return M(this,1,a)};d.clearClientId=function(){return M(this,1,void 0)};d.hasClientId=function(){return null!=L(this,1)};d.getLoggingId=function(){return L(this,2)};d.setLoggingId=function(a){return M(this,2,a)};d.clearLoggingId=function(){return M(this,2,void 0)};d.hasLoggingId=function(){return null!=L(this,2)};d.getOsMajorVersion=function(){return L(this,3)};
d.setOsMajorVersion=function(a){return M(this,3,a)};d.clearOsMajorVersion=function(){return M(this,3,void 0)};d.hasOsMajorVersion=function(){return null!=L(this,3)};d.getOsFullVersion=function(){return L(this,4)};d.setOsFullVersion=function(a){return M(this,4,a)};d.clearOsFullVersion=function(){return M(this,4,void 0)};d.hasOsFullVersion=function(){return null!=L(this,4)};d.getApplicationBuild=function(){return L(this,5)};d.setApplicationBuild=function(a){return M(this,5,a)};
d.clearApplicationBuild=function(){return M(this,5,void 0)};d.hasApplicationBuild=function(){return null!=L(this,5)};d.getApplicationVersion=function(){return L(this,12)};d.setApplicationVersion=function(a){return M(this,12,a)};d.clearApplicationVersion=function(){return M(this,12,void 0)};d.hasApplicationVersion=function(){return null!=L(this,12)};d.getCountry=function(){return L(this,6)};d.setCountry=function(a){return M(this,6,a)};d.clearCountry=function(){return M(this,6,void 0)};
d.hasCountry=function(){return null!=L(this,6)};d.getModel=function(){return L(this,7)};d.setModel=function(a){return M(this,7,a)};d.clearModel=function(){return M(this,7,void 0)};d.hasModel=function(){return null!=L(this,7)};d.getLanguageCode=function(){return L(this,8)};d.setLanguageCode=function(a){return M(this,8,a)};d.clearLanguageCode=function(){return M(this,8,void 0)};d.hasLanguageCode=function(){return null!=L(this,8)};d.getApplicationBuildCl=function(){return L(this,9)};
d.setApplicationBuildCl=function(a){return M(this,9,a)};d.clearApplicationBuildCl=function(){return M(this,9,void 0)};d.hasApplicationBuildCl=function(){return null!=L(this,9)};d.getClearcutVersion=function(){return L(this,10)};d.setClearcutVersion=function(a){return M(this,10,a)};d.clearClearcutVersion=function(){return M(this,10,void 0)};d.hasClearcutVersion=function(){return null!=L(this,10)};d.getApplicationBundleId=function(){return L(this,11)};
d.setApplicationBundleId=function(a){return M(this,11,a)};d.clearApplicationBundleId=function(){return M(this,11,void 0)};d.hasApplicationBundleId=function(){return null!=L(this,11)};d.getAccessibilityState=function(){return P(this,Nj,13)};d.setAccessibilityState=function(a){return Q(this,13,a)};d.clearAccessibilityState=function(){return this.setAccessibilityState(void 0)};d.hasAccessibilityState=function(){return null!=L(this,13)};var Tj=function(a){N(this,a,0,-1,null,null)};y(Tj,K);Tj.prototype.toObject=function(a){return Uj(a,this)};var Uj=function(a,b){var c,e={os:null==(c=L(b,1))?void 0:c,osVersion:null==(c=L(b,2))?void 0:c,deviceType:null==(c=L(b,3))?void 0:c,country:null==(c=L(b,4))?void 0:c,locale:null==(c=L(b,5))?void 0:c,osType:null==(c=L(b,6))?void 0:c,buildLabel:null==(c=L(b,7))?void 0:c,continent:null==(c=L(b,8))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};
Tj.prototype.serializeBinary=function(){var a=new J;Vj(this,a);return a.getResultBuffer()};var Vj=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeEnum(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,6);null!=c&&b.writeEnum(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,8);null!=c&&b.writeString(8,c)};d=Tj.prototype;d.getOs=function(){return L(this,1)};d.setOs=function(a){return M(this,1,a)};
d.clearOs=function(){return M(this,1,void 0)};d.hasOs=function(){return null!=L(this,1)};d.getOsVersion=function(){return L(this,2)};d.setOsVersion=function(a){return M(this,2,a)};d.clearOsVersion=function(){return M(this,2,void 0)};d.hasOsVersion=function(){return null!=L(this,2)};d.getDeviceType=function(){return L(this,3)};d.setDeviceType=function(a){return M(this,3,a)};d.clearDeviceType=function(){return M(this,3,void 0)};d.hasDeviceType=function(){return null!=L(this,3)};
d.getCountry=function(){return L(this,4)};d.setCountry=function(a){return M(this,4,a)};d.clearCountry=function(){return M(this,4,void 0)};d.hasCountry=function(){return null!=L(this,4)};d.getLocale=function(){return L(this,5)};d.setLocale=function(a){return M(this,5,a)};d.clearLocale=function(){return M(this,5,void 0)};d.hasLocale=function(){return null!=L(this,5)};d.getOsType=function(){return L(this,6)};d.setOsType=function(a){return M(this,6,a)};d.clearOsType=function(){return M(this,6,void 0)};
d.hasOsType=function(){return null!=L(this,6)};d.getBuildLabel=function(){return L(this,7)};d.setBuildLabel=function(a){return M(this,7,a)};d.clearBuildLabel=function(){return M(this,7,void 0)};d.hasBuildLabel=function(){return null!=L(this,7)};d.getContinent=function(){return L(this,8)};d.setContinent=function(a){return M(this,8,a)};d.clearContinent=function(){return M(this,8,void 0)};d.hasContinent=function(){return null!=L(this,8)};var Wj=function(a){N(this,a,0,-1,null,null)};y(Wj,K);Wj.prototype.toObject=function(a){return Xj(a,this)};var Xj=function(a,b){var c,e={appVersion:null==(c=L(b,1))?void 0:c,coreAppVersion:null==(c=L(b,3))?void 0:c,deviceModel:null==(c=L(b,2))?void 0:c,mccMnc:null==(c=L(b,4))?void 0:c,locale:null==(c=L(b,5))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Wj.prototype.serializeBinary=function(){var a=new J;Yj(this,a);return a.getResultBuffer()};
var Yj=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c)};d=Wj.prototype;d.getAppVersion=function(){return L(this,1)};d.setAppVersion=function(a){return M(this,1,a)};d.clearAppVersion=function(){return M(this,1,void 0)};d.hasAppVersion=function(){return null!=L(this,1)};d.getCoreAppVersion=function(){return L(this,3)};
d.setCoreAppVersion=function(a){return M(this,3,a)};d.clearCoreAppVersion=function(){return M(this,3,void 0)};d.hasCoreAppVersion=function(){return null!=L(this,3)};d.getDeviceModel=function(){return L(this,2)};d.setDeviceModel=function(a){return M(this,2,a)};d.clearDeviceModel=function(){return M(this,2,void 0)};d.hasDeviceModel=function(){return null!=L(this,2)};d.getMccMnc=function(){return L(this,4)};d.setMccMnc=function(a){return M(this,4,a)};d.clearMccMnc=function(){return M(this,4,void 0)};
d.hasMccMnc=function(){return null!=L(this,4)};d.getLocale=function(){return L(this,5)};d.setLocale=function(a){return M(this,5,a)};d.clearLocale=function(){return M(this,5,void 0)};d.hasLocale=function(){return null!=L(this,5)};var Zj=function(a){N(this,a,0,-1,null,null)};y(Zj,K);Zj.prototype.toObject=function(a){return ak(a,this)};var ak=function(a,b){var c,e={osMajorVersion:null==(c=L(b,1))?void 0:c,osFullVersion:null==(c=L(b,2))?void 0:c,applicationBuild:null==(c=L(b,3))?void 0:c,country:null==(c=L(b,4))?void 0:c,applicationBuildCl:null==(c=L(b,5))?void 0:c,clearcutVersion:null==(c=L(b,6))?void 0:c,applicationBundleId:null==(c=L(b,7))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};
Zj.prototype.serializeBinary=function(){var a=new J;bk(this,a);return a.getResultBuffer()};var bk=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeInt32(5,c);c=L(a,6);null!=c&&b.writeInt32(6,c);c=L(a,7);null!=c&&b.writeString(7,c)};d=Zj.prototype;d.getOsMajorVersion=function(){return L(this,1)};d.setOsMajorVersion=function(a){return M(this,1,a)};
d.clearOsMajorVersion=function(){return M(this,1,void 0)};d.hasOsMajorVersion=function(){return null!=L(this,1)};d.getOsFullVersion=function(){return L(this,2)};d.setOsFullVersion=function(a){return M(this,2,a)};d.clearOsFullVersion=function(){return M(this,2,void 0)};d.hasOsFullVersion=function(){return null!=L(this,2)};d.getApplicationBuild=function(){return L(this,3)};d.setApplicationBuild=function(a){return M(this,3,a)};d.clearApplicationBuild=function(){return M(this,3,void 0)};
d.hasApplicationBuild=function(){return null!=L(this,3)};d.getCountry=function(){return L(this,4)};d.setCountry=function(a){return M(this,4,a)};d.clearCountry=function(){return M(this,4,void 0)};d.hasCountry=function(){return null!=L(this,4)};d.getApplicationBuildCl=function(){return L(this,5)};d.setApplicationBuildCl=function(a){return M(this,5,a)};d.clearApplicationBuildCl=function(){return M(this,5,void 0)};d.hasApplicationBuildCl=function(){return null!=L(this,5)};
d.getClearcutVersion=function(){return L(this,6)};d.setClearcutVersion=function(a){return M(this,6,a)};d.clearClearcutVersion=function(){return M(this,6,void 0)};d.hasClearcutVersion=function(){return null!=L(this,6)};d.getApplicationBundleId=function(){return L(this,7)};d.setApplicationBundleId=function(a){return M(this,7,a)};d.clearApplicationBundleId=function(){return M(this,7,void 0)};d.hasApplicationBundleId=function(){return null!=L(this,7)};var ck=function(a){N(this,a,0,-1,null,null)};y(ck,K);ck.prototype.toObject=function(a){return dk(a,this)};var dk=function(a,b){var c,e={deviceId:null==(c=L(b,1))?void 0:c,os:null==(c=L(b,2))?void 0:c,appId:null==(c=L(b,3))?void 0:c,appVersion:null==(c=L(b,4))?void 0:c,mccMnc:null==(c=L(b,5))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};ck.prototype.serializeBinary=function(){var a=new J;ek(this,a);return a.getResultBuffer()};
var ek=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeEnum(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c)};d=ck.prototype;d.getDeviceId=function(){return L(this,1)};d.setDeviceId=function(a){return M(this,1,a)};d.clearDeviceId=function(){return M(this,1,void 0)};d.hasDeviceId=function(){return null!=L(this,1)};d.getOs=function(){return L(this,2)};d.setOs=function(a){return M(this,2,a)};
d.clearOs=function(){return M(this,2,void 0)};d.hasOs=function(){return null!=L(this,2)};d.getAppId=function(){return L(this,3)};d.setAppId=function(a){return M(this,3,a)};d.clearAppId=function(){return M(this,3,void 0)};d.hasAppId=function(){return null!=L(this,3)};d.getAppVersion=function(){return L(this,4)};d.setAppVersion=function(a){return M(this,4,a)};d.clearAppVersion=function(){return M(this,4,void 0)};d.hasAppVersion=function(){return null!=L(this,4)};
d.getMccMnc=function(){return L(this,5)};d.setMccMnc=function(a){return M(this,5,a)};d.clearMccMnc=function(){return M(this,5,void 0)};d.hasMccMnc=function(){return null!=L(this,5)};var fk=function(a){N(this,a,0,-1,null,null)};y(fk,K);fk.prototype.toObject=function(a){return gk(a,this)};var gk=function(a,b){var c,e={clientId:null==(c=L(b,1))?void 0:c,loggingId:null==(c=L(b,7))?void 0:c,make:null==(c=L(b,3))?void 0:c,model:null==(c=L(b,4))?void 0:c,applicationBuild:null==(c=L(b,5))?void 0:c,platformVersion:null==(c=L(b,6))?void 0:c,country:null==(c=L(b,8))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};fk.prototype.serializeBinary=function(){var a=new J;hk(this,a);return a.getResultBuffer()};
var hk=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,8);null!=c&&b.writeString(8,c)};d=fk.prototype;d.getClientId=function(){return L(this,1)};d.setClientId=function(a){return M(this,1,a)};d.clearClientId=function(){return M(this,1,void 0)};d.hasClientId=function(){return null!=L(this,1)};
d.getLoggingId=function(){return L(this,7)};d.setLoggingId=function(a){return M(this,7,a)};d.clearLoggingId=function(){return M(this,7,void 0)};d.hasLoggingId=function(){return null!=L(this,7)};d.getMake=function(){return L(this,3)};d.setMake=function(a){return M(this,3,a)};d.clearMake=function(){return M(this,3,void 0)};d.hasMake=function(){return null!=L(this,3)};d.getModel=function(){return L(this,4)};d.setModel=function(a){return M(this,4,a)};d.clearModel=function(){return M(this,4,void 0)};
d.hasModel=function(){return null!=L(this,4)};d.getApplicationBuild=function(){return L(this,5)};d.setApplicationBuild=function(a){return M(this,5,a)};d.clearApplicationBuild=function(){return M(this,5,void 0)};d.hasApplicationBuild=function(){return null!=L(this,5)};d.getPlatformVersion=function(){return L(this,6)};d.setPlatformVersion=function(a){return M(this,6,a)};d.clearPlatformVersion=function(){return M(this,6,void 0)};d.hasPlatformVersion=function(){return null!=L(this,6)};
d.getCountry=function(){return L(this,8)};d.setCountry=function(a){return M(this,8,a)};d.clearCountry=function(){return M(this,8,void 0)};d.hasCountry=function(){return null!=L(this,8)};var ik=function(a){N(this,a,0,-1,null,null)};y(ik,K);ik.prototype.toObject=function(a){return jk(a,this)};var jk=function(a,b){var c,e={machineClass:null==(c=L(b,1))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};ik.prototype.serializeBinary=function(){var a=new J;kk(this,a);return a.getResultBuffer()};var kk=function(a,b){a=L(a,1);null!=a&&b.writeEnum(1,a)};ik.prototype.getMachineClass=function(){return L(this,1)};ik.prototype.setMachineClass=function(a){return M(this,1,a)};
ik.prototype.clearMachineClass=function(){return M(this,1,void 0)};ik.prototype.hasMachineClass=function(){return null!=L(this,1)};var lk=function(a){N(this,a,0,-1,null,null)};y(lk,K);lk.prototype.toObject=function(a){return mk(a,this)};
var mk=function(a,b){var c,e={vrClientType:null==(c=L(b,1))?void 0:c,sdkVersion:null==(c=L(b,2))?void 0:c,fingerprint:null==(c=L(b,3))?void 0:c,gvrVersion:null==(c=L(b,4))?void 0:c,manufacturer:null==(c=L(b,5))?void 0:c,model:null==(c=L(b,6))?void 0:c,language:null==(c=L(b,7))?void 0:c,country:null==(c=L(b,8))?void 0:c,unityVersion:null==(c=L(b,9))?void 0:c,unitySdkVersion:null==(c=L(b,10))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};
lk.prototype.serializeBinary=function(){var a=new J;nk(this,a);return a.getResultBuffer()};var nk=function(a,b){var c=L(a,1);null!=c&&b.writeEnum(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,8);null!=c&&b.writeString(8,c);c=L(a,9);null!=c&&b.writeString(9,c);c=L(a,10);null!=c&&b.writeString(10,c)};d=lk.prototype;
d.getVrClientType=function(){return L(this,1)};d.setVrClientType=function(a){return M(this,1,a)};d.clearVrClientType=function(){return M(this,1,void 0)};d.hasVrClientType=function(){return null!=L(this,1)};d.getSdkVersion=function(){return L(this,2)};d.setSdkVersion=function(a){return M(this,2,a)};d.clearSdkVersion=function(){return M(this,2,void 0)};d.hasSdkVersion=function(){return null!=L(this,2)};d.getFingerprint=function(){return L(this,3)};d.setFingerprint=function(a){return M(this,3,a)};
d.clearFingerprint=function(){return M(this,3,void 0)};d.hasFingerprint=function(){return null!=L(this,3)};d.getGvrVersion=function(){return L(this,4)};d.setGvrVersion=function(a){return M(this,4,a)};d.clearGvrVersion=function(){return M(this,4,void 0)};d.hasGvrVersion=function(){return null!=L(this,4)};d.getManufacturer=function(){return L(this,5)};d.setManufacturer=function(a){return M(this,5,a)};d.clearManufacturer=function(){return M(this,5,void 0)};
d.hasManufacturer=function(){return null!=L(this,5)};d.getModel=function(){return L(this,6)};d.setModel=function(a){return M(this,6,a)};d.clearModel=function(){return M(this,6,void 0)};d.hasModel=function(){return null!=L(this,6)};d.getLanguage=function(){return L(this,7)};d.setLanguage=function(a){return M(this,7,a)};d.clearLanguage=function(){return M(this,7,void 0)};d.hasLanguage=function(){return null!=L(this,7)};d.getCountry=function(){return L(this,8)};
d.setCountry=function(a){return M(this,8,a)};d.clearCountry=function(){return M(this,8,void 0)};d.hasCountry=function(){return null!=L(this,8)};d.getUnityVersion=function(){return L(this,9)};d.setUnityVersion=function(a){return M(this,9,a)};d.clearUnityVersion=function(){return M(this,9,void 0)};d.hasUnityVersion=function(){return null!=L(this,9)};d.getUnitySdkVersion=function(){return L(this,10)};d.setUnitySdkVersion=function(a){return M(this,10,a)};
d.clearUnitySdkVersion=function(){return M(this,10,void 0)};d.hasUnitySdkVersion=function(){return null!=L(this,10)};var ok=function(a){N(this,a,0,-1,null,null)};y(ok,K);ok.prototype.toObject=function(a){return pk(a,this)};
var pk=function(a,b){var c,e={buildLabel:null==(c=L(b,1))?void 0:c,deploymentType:null==(c=L(b,2))?void 0:c,environment:null==(c=L(b,3))?void 0:c,location:null==(c=L(b,4))?void 0:c,machine:null==(c=L(b,5))?void 0:c,gameletId:null==(c=L(b,6))?void 0:c,machineShape:null==(c=L(b,7))?void 0:c,metro:null==(c=L(b,8))?void 0:c,vmPurpose:null==(c=L(b,9))?void 0:c,releaseStage:null==(c=L(b,10))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};
ok.prototype.serializeBinary=function(){var a=new J;qk(this,a);return a.getResultBuffer()};var qk=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeString(2,c);c=L(a,3);null!=c&&b.writeString(3,c);c=L(a,4);null!=c&&b.writeString(4,c);c=L(a,5);null!=c&&b.writeString(5,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=L(a,8);null!=c&&b.writeString(8,c);c=L(a,9);null!=c&&b.writeString(9,c);c=L(a,10);null!=c&&b.writeString(10,c)};d=ok.prototype;
d.getBuildLabel=function(){return L(this,1)};d.setBuildLabel=function(a){return M(this,1,a)};d.clearBuildLabel=function(){return M(this,1,void 0)};d.hasBuildLabel=function(){return null!=L(this,1)};d.getDeploymentType=function(){return L(this,2)};d.setDeploymentType=function(a){return M(this,2,a)};d.clearDeploymentType=function(){return M(this,2,void 0)};d.hasDeploymentType=function(){return null!=L(this,2)};d.getEnvironment=function(){return L(this,3)};
d.setEnvironment=function(a){return M(this,3,a)};d.clearEnvironment=function(){return M(this,3,void 0)};d.hasEnvironment=function(){return null!=L(this,3)};d.getLocation=function(){return L(this,4)};d.setLocation=function(a){return M(this,4,a)};d.clearLocation=function(){return M(this,4,void 0)};d.hasLocation=function(){return null!=L(this,4)};d.getMachine=function(){return L(this,5)};d.setMachine=function(a){return M(this,5,a)};d.clearMachine=function(){return M(this,5,void 0)};
d.hasMachine=function(){return null!=L(this,5)};d.getGameletId=function(){return L(this,6)};d.setGameletId=function(a){return M(this,6,a)};d.clearGameletId=function(){return M(this,6,void 0)};d.hasGameletId=function(){return null!=L(this,6)};d.getMachineShape=function(){return L(this,7)};d.setMachineShape=function(a){return M(this,7,a)};d.clearMachineShape=function(){return M(this,7,void 0)};d.hasMachineShape=function(){return null!=L(this,7)};d.getMetro=function(){return L(this,8)};
d.setMetro=function(a){return M(this,8,a)};d.clearMetro=function(){return M(this,8,void 0)};d.hasMetro=function(){return null!=L(this,8)};d.getVmPurpose=function(){return L(this,9)};d.setVmPurpose=function(a){return M(this,9,a)};d.clearVmPurpose=function(){return M(this,9,void 0)};d.hasVmPurpose=function(){return null!=L(this,9)};d.getReleaseStage=function(){return L(this,10)};d.setReleaseStage=function(a){return M(this,10,a)};d.clearReleaseStage=function(){return M(this,10,void 0)};
d.hasReleaseStage=function(){return null!=L(this,10)};var rk=function(a){N(this,a,0,-1,null,null)};y(rk,K);rk.prototype.toObject=function(a){return sk(a,this)};
var sk=function(a,b){var c,e={clientType:null==(c=L(b,1))?void 0:c,remoteHost:null==(c=L(b,6))?void 0:c,remoteHost6:null==(c=L(b,7))?void 0:c,androidClientInfo:(c=b.getAndroidClientInfo())&&zj(a,c),birdsongClientInfo:(c=b.getBirdsongClientInfo())&&Cj(a,c),desktopClientInfo:(c=b.getDesktopClientInfo())&&Ij(a,c),googleHomeClientInfo:(c=b.getGoogleHomeClientInfo())&&Lj(a,c),iosClientInfo:(c=b.getIosClientInfo())&&Rj(a,c),jsClientInfo:(c=b.getJsClientInfo())&&Uj(a,c),kaiosClientInfo:(c=b.getKaiosClientInfo())&&
Xj(a,c),macClientInfo:(c=b.getMacClientInfo())&&ak(a,c),pancettaClientInfo:(c=b.getPancettaClientInfo())&&dk(a,c),playCeClientInfo:(c=b.getPlayCeClientInfo())&&gk(a,c),sparklightClientInfo:(c=b.getSparklightClientInfo())&&jk(a,c),vrClientInfo:(c=b.getVrClientInfo())&&mk(a,c),yetiClientInfo:(c=b.getYetiClientInfo())&&pk(a,c),browserInfo:(c=b.getBrowserInfo())&&Fj(a,c),heterodyneConfigVersion:null==(c=L(b,12))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};
rk.prototype.serializeBinary=function(){var a=new J;tk(this,a);return a.getResultBuffer()};
var tk=function(a,b){var c=L(a,1);null!=c&&b.writeEnum(1,c);c=L(a,6);null!=c&&b.writeString(6,c);c=L(a,7);null!=c&&b.writeString(7,c);c=a.getAndroidClientInfo();null!=c&&b.writeMessage(2,c,Aj);c=a.getBirdsongClientInfo();null!=c&&b.writeMessage(14,c,Dj);c=a.getDesktopClientInfo();null!=c&&b.writeMessage(3,c,Jj);c=a.getGoogleHomeClientInfo();null!=c&&b.writeMessage(16,c,Mj);c=a.getIosClientInfo();null!=c&&b.writeMessage(4,c,Sj);c=a.getJsClientInfo();null!=c&&b.writeMessage(11,c,Vj);c=a.getKaiosClientInfo();
null!=c&&b.writeMessage(20,c,Yj);c=a.getMacClientInfo();null!=c&&b.writeMessage(13,c,bk);c=a.getPancettaClientInfo();null!=c&&b.writeMessage(10,c,ek);c=a.getPlayCeClientInfo();null!=c&&b.writeMessage(5,c,hk);c=a.getSparklightClientInfo();null!=c&&b.writeMessage(18,c,kk);c=a.getVrClientInfo();null!=c&&b.writeMessage(8,c,nk);c=a.getYetiClientInfo();null!=c&&b.writeMessage(15,c,qk);c=a.getBrowserInfo();null!=c&&b.writeMessage(9,c,Gj);c=L(a,12);null!=c&&b.writeInt64(12,c)};d=rk.prototype;
d.getClientType=function(){return L(this,1)};d.setClientType=function(a){return M(this,1,a)};d.clearClientType=function(){return M(this,1,void 0)};d.hasClientType=function(){return null!=L(this,1)};d.getRemoteHost=function(){return L(this,6)};d.setRemoteHost=function(a){return M(this,6,a)};d.clearRemoteHost=function(){return M(this,6,void 0)};d.hasRemoteHost=function(){return null!=L(this,6)};d.getRemoteHost6=function(){return L(this,7)};d.setRemoteHost6=function(a){return M(this,7,a)};
d.clearRemoteHost6=function(){return M(this,7,void 0)};d.hasRemoteHost6=function(){return null!=L(this,7)};d.getAndroidClientInfo=function(){return P(this,wj,2)};d.setAndroidClientInfo=function(a){return Q(this,2,a)};d.clearAndroidClientInfo=function(){return this.setAndroidClientInfo(void 0)};d.hasAndroidClientInfo=function(){return null!=L(this,2)};d.getBirdsongClientInfo=function(){return P(this,Bj,14)};d.setBirdsongClientInfo=function(a){return Q(this,14,a)};d.clearBirdsongClientInfo=function(){return this.setBirdsongClientInfo(void 0)};
d.hasBirdsongClientInfo=function(){return null!=L(this,14)};d.getDesktopClientInfo=function(){return P(this,Hj,3)};d.setDesktopClientInfo=function(a){return Q(this,3,a)};d.clearDesktopClientInfo=function(){return this.setDesktopClientInfo(void 0)};d.hasDesktopClientInfo=function(){return null!=L(this,3)};d.getGoogleHomeClientInfo=function(){return P(this,Kj,16)};d.setGoogleHomeClientInfo=function(a){return Q(this,16,a)};d.clearGoogleHomeClientInfo=function(){return this.setGoogleHomeClientInfo(void 0)};
d.hasGoogleHomeClientInfo=function(){return null!=L(this,16)};d.getIosClientInfo=function(){return P(this,Qj,4)};d.setIosClientInfo=function(a){return Q(this,4,a)};d.clearIosClientInfo=function(){return this.setIosClientInfo(void 0)};d.hasIosClientInfo=function(){return null!=L(this,4)};d.getJsClientInfo=function(){return P(this,Tj,11)};d.setJsClientInfo=function(a){return Q(this,11,a)};d.clearJsClientInfo=function(){return this.setJsClientInfo(void 0)};
d.hasJsClientInfo=function(){return null!=L(this,11)};d.getKaiosClientInfo=function(){return P(this,Wj,20)};d.setKaiosClientInfo=function(a){return Q(this,20,a)};d.clearKaiosClientInfo=function(){return this.setKaiosClientInfo(void 0)};d.hasKaiosClientInfo=function(){return null!=L(this,20)};d.getMacClientInfo=function(){return P(this,Zj,13)};d.setMacClientInfo=function(a){return Q(this,13,a)};d.clearMacClientInfo=function(){return this.setMacClientInfo(void 0)};
d.hasMacClientInfo=function(){return null!=L(this,13)};d.getPancettaClientInfo=function(){return P(this,ck,10)};d.setPancettaClientInfo=function(a){return Q(this,10,a)};d.clearPancettaClientInfo=function(){return this.setPancettaClientInfo(void 0)};d.hasPancettaClientInfo=function(){return null!=L(this,10)};d.getPlayCeClientInfo=function(){return P(this,fk,5)};d.setPlayCeClientInfo=function(a){return Q(this,5,a)};d.clearPlayCeClientInfo=function(){return this.setPlayCeClientInfo(void 0)};
d.hasPlayCeClientInfo=function(){return null!=L(this,5)};d.getSparklightClientInfo=function(){return P(this,ik,18)};d.setSparklightClientInfo=function(a){return Q(this,18,a)};d.clearSparklightClientInfo=function(){return this.setSparklightClientInfo(void 0)};d.hasSparklightClientInfo=function(){return null!=L(this,18)};d.getVrClientInfo=function(){return P(this,lk,8)};d.setVrClientInfo=function(a){return Q(this,8,a)};d.clearVrClientInfo=function(){return this.setVrClientInfo(void 0)};
d.hasVrClientInfo=function(){return null!=L(this,8)};d.getYetiClientInfo=function(){return P(this,ok,15)};d.setYetiClientInfo=function(a){return Q(this,15,a)};d.clearYetiClientInfo=function(){return this.setYetiClientInfo(void 0)};d.hasYetiClientInfo=function(){return null!=L(this,15)};d.getBrowserInfo=function(){return P(this,Ej,9)};d.setBrowserInfo=function(a){return Q(this,9,a)};d.clearBrowserInfo=function(){return this.setBrowserInfo(void 0)};d.hasBrowserInfo=function(){return null!=L(this,9)};
d.getHeterodyneConfigVersion=function(){return L(this,12)};d.setHeterodyneConfigVersion=function(a){return M(this,12,a)};d.clearHeterodyneConfigVersion=function(){return M(this,12,void 0)};d.hasHeterodyneConfigVersion=function(){return null!=L(this,12)};var uk=function(a){N(this,a,0,-1,null,null)};y(uk,K);uk.prototype.toObject=function(a){return vk(a,this)};var vk=function(a,b){var c,e={collectStartMs:null==(c=L(b,3))?void 0:c,collectUntilMs:null==(c=L(b,1))?void 0:c,skipPersistentLogStorage:null==(c=O(b,2))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};uk.prototype.serializeBinary=function(){var a=new J;wk(this,a);return a.getResultBuffer()};
var wk=function(a,b){var c=L(a,3);null!=c&&b.writeInt64(3,c);c=L(a,1);null!=c&&b.writeInt64String(1,c);c=L(a,2);null!=c&&b.writeBool(2,c)};d=uk.prototype;d.getCollectStartMs=function(){return L(this,3)};d.setCollectStartMs=function(a){return M(this,3,a)};d.clearCollectStartMs=function(){return M(this,3,void 0)};d.hasCollectStartMs=function(){return null!=L(this,3)};d.getCollectUntilMs=function(){return L(this,1)};d.setCollectUntilMs=function(a){return M(this,1,a)};
d.clearCollectUntilMs=function(){return M(this,1,void 0)};d.hasCollectUntilMs=function(){return null!=L(this,1)};d.getSkipPersistentLogStorage=function(){return O(this,2)};d.setSkipPersistentLogStorage=function(a){return M(this,2,a)};d.clearSkipPersistentLogStorage=function(){return M(this,2,void 0)};d.hasSkipPersistentLogStorage=function(){return null!=L(this,2)};var xk=function(a){N(this,a,0,-1,null,null)};y(xk,K);xk.prototype.toObject=function(a){return yk(a,this)};var yk=function(a,b){var c,e={isUnmetered:null==(c=O(b,1))?void 0:c,isCharging:null==(c=O(b,2))?void 0:c,autoTimeStatus:null==(c=L(b,3))?void 0:c,isGooglerDevice:null==(c=O(b,4))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};xk.prototype.serializeBinary=function(){var a=new J;zk(this,a);return a.getResultBuffer()};
var zk=function(a,b){var c=L(a,1);null!=c&&b.writeBool(1,c);c=L(a,2);null!=c&&b.writeBool(2,c);c=L(a,3);null!=c&&b.writeEnum(3,c);c=L(a,4);null!=c&&b.writeBool(4,c)};d=xk.prototype;d.getIsUnmetered=function(){return O(this,1)};d.setIsUnmetered=function(a){return M(this,1,a)};d.clearIsUnmetered=function(){return M(this,1,void 0)};d.hasIsUnmetered=function(){return null!=L(this,1)};d.getIsCharging=function(){return O(this,2)};d.setIsCharging=function(a){return M(this,2,a)};
d.clearIsCharging=function(){return M(this,2,void 0)};d.hasIsCharging=function(){return null!=L(this,2)};d.getAutoTimeStatus=function(){return L(this,3)};d.setAutoTimeStatus=function(a){return M(this,3,a)};d.clearAutoTimeStatus=function(){return M(this,3,void 0)};d.hasAutoTimeStatus=function(){return null!=L(this,3)};d.getIsGooglerDevice=function(){return O(this,4)};d.setIsGooglerDevice=function(a){return M(this,4,a)};d.clearIsGooglerDevice=function(){return M(this,4,void 0)};
d.hasIsGooglerDevice=function(){return null!=L(this,4)};var Ak=function(a){N(this,a,0,-1,null,null)};y(Ak,K);Ak.prototype.toObject=function(a){return Bk(a,this)};var Bk=function(a,b){var c,e={timeMs:null==(c=L(b,1))?void 0:c,uptimeMs:null==(c=L(b,2))?void 0:c,source:null==(c=L(b,3))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Ak.prototype.serializeBinary=function(){var a=new J;Ck(this,a);return a.getResultBuffer()};var Ck=function(a,b){var c=L(a,1);null!=c&&b.writeInt64(1,c);c=L(a,2);null!=c&&b.writeInt64(2,c);c=L(a,3);null!=c&&b.writeString(3,c)};
d=Ak.prototype;d.getTimeMs=function(){return L(this,1)};d.setTimeMs=function(a){return M(this,1,a)};d.clearTimeMs=function(){return M(this,1,void 0)};d.hasTimeMs=function(){return null!=L(this,1)};d.getUptimeMs=function(){return L(this,2)};d.setUptimeMs=function(a){return M(this,2,a)};d.clearUptimeMs=function(){return M(this,2,void 0)};d.hasUptimeMs=function(){return null!=L(this,2)};d.getSource=function(){return L(this,3)};d.setSource=function(a){return M(this,3,a)};
d.clearSource=function(){return M(this,3,void 0)};d.hasSource=function(){return null!=L(this,3)};var Ek=function(a){N(this,a,0,17,Dk,null)};y(Ek,K);var Fk={},Gk={},Dk=[3,5];d=Ek.prototype;
d.toObject=function(a){var b,c={requestTimeMs:null==(b=L(this,4))?void 0:b,requestUptimeMs:null==(b=L(this,8))?void 0:b,clientInfo:(b=this.getClientInfo())&&sk(a,b),logSource:Je(this,2,-1),logSourceName:null==(b=L(this,6))?void 0:b,zwiebackCookie:null==(b=L(this,7))?void 0:b,logEventList:Be(this.getLogEventList(),Sf,a),serializedLogEventsList:this.getSerializedLogEventsList_asB64(),logEventDroppedCount:null==(b=L(this,14))?void 0:b,qosTier:Je(this,9,0),scheduler:null==(b=L(this,10))?void 0:b,deviceStatus:(b=
this.getDeviceStatus())&&yk(a,b),externalTimestamp:(b=this.getExternalTimestamp())&&Bk(a,b),collectForDebug:(b=this.getCollectForDebug())&&vk(a,b),appMobilespecId:null==(b=L(this,16))?void 0:b};Ce(this,c,Fk,Ek.prototype.getExtension,a);a&&(c.$jspbMessageInstance=this);return c};
d.serializeBinary=function(){var a=new J;var b=L(this,4);null!=b&&a.writeInt64String(4,b);b=L(this,8);null!=b&&a.writeInt64String(8,b);b=this.getClientInfo();null!=b&&a.writeMessage(1,b,tk);b=L(this,2);null!=b&&a.writeEnum(2,b);b=L(this,6);null!=b&&a.writeString(6,b);b=L(this,7);null!=b&&a.writeString(7,b);b=this.getLogEventList();0<b.length&&a.writeRepeatedMessage(3,b,Tf);b=this.getSerializedLogEventsList_asU8();0<b.length&&a.writeRepeatedBytes(5,b);b=L(this,14);null!=b&&a.writeInt64(14,b);b=L(this,
9);null!=b&&a.writeEnum(9,b);b=L(this,10);null!=b&&a.writeEnum(10,b);b=this.getDeviceStatus();null!=b&&a.writeMessage(11,b,zk);b=this.getExternalTimestamp();null!=b&&a.writeMessage(12,b,Ck);b=this.getCollectForDebug();null!=b&&a.writeMessage(13,b,wk);b=L(this,16);null!=b&&a.writeUint32(16,b);De(this,a,Gk,Ek.prototype.getExtension);return a.getResultBuffer()};d.getRequestTimeMs=function(){return L(this,4)};d.setRequestTimeMs=function(a){return M(this,4,a)};
d.clearRequestTimeMs=function(){return M(this,4,void 0)};d.hasRequestTimeMs=function(){return null!=L(this,4)};d.getRequestUptimeMs=function(){return L(this,8)};d.setRequestUptimeMs=function(a){return M(this,8,a)};d.clearRequestUptimeMs=function(){return M(this,8,void 0)};d.hasRequestUptimeMs=function(){return null!=L(this,8)};d.getClientInfo=function(){return P(this,rk,1)};d.setClientInfo=function(a){return Q(this,1,a)};d.clearClientInfo=function(){return this.setClientInfo(void 0)};
d.hasClientInfo=function(){return null!=L(this,1)};d.getLogSource=function(){return Je(this,2,-1)};d.setLogSource=function(a){return M(this,2,a)};d.clearLogSource=function(){return M(this,2,void 0)};d.hasLogSource=function(){return null!=L(this,2)};d.getLogSourceName=function(){return L(this,6)};d.setLogSourceName=function(a){return M(this,6,a)};d.clearLogSourceName=function(){return M(this,6,void 0)};d.hasLogSourceName=function(){return null!=L(this,6)};
d.getZwiebackCookie=function(){return L(this,7)};d.setZwiebackCookie=function(a){return M(this,7,a)};d.clearZwiebackCookie=function(){return M(this,7,void 0)};d.hasZwiebackCookie=function(){return null!=L(this,7)};d.getLogEventList=function(){return Me(this,Pf,3)};d.setLogEventList=function(a){return Ne(this,3,a)};d.addLogEvent=function(a,b){return Oe(this,3,a,Pf,b)};d.clearLogEventList=function(){return this.setLogEventList([])};d.getSerializedLogEventsList=function(){return L(this,5)};
d.getSerializedLogEventsList_asB64=function(){return He(this.getSerializedLogEventsList())};d.getSerializedLogEventsList_asU8=function(){return Ie(this.getSerializedLogEventsList())};d.setSerializedLogEventsList=function(a){return M(this,5,a||[])};d.addSerializedLogEvents=function(a,b){return Ke(this,5,a,b)};d.clearSerializedLogEventsList=function(){return this.setSerializedLogEventsList([])};d.getLogEventDroppedCount=function(){return L(this,14)};
d.setLogEventDroppedCount=function(a){return M(this,14,a)};d.clearLogEventDroppedCount=function(){return M(this,14,void 0)};d.hasLogEventDroppedCount=function(){return null!=L(this,14)};d.getQosTier=function(){return Je(this,9,0)};d.setQosTier=function(a){return M(this,9,a)};d.clearQosTier=function(){return M(this,9,void 0)};d.hasQosTier=function(){return null!=L(this,9)};d.getScheduler=function(){return L(this,10)};d.setScheduler=function(a){return M(this,10,a)};
d.clearScheduler=function(){return M(this,10,void 0)};d.hasScheduler=function(){return null!=L(this,10)};d.getDeviceStatus=function(){return P(this,xk,11)};d.setDeviceStatus=function(a){return Q(this,11,a)};d.clearDeviceStatus=function(){return this.setDeviceStatus(void 0)};d.hasDeviceStatus=function(){return null!=L(this,11)};d.getExternalTimestamp=function(){return P(this,Ak,12)};d.setExternalTimestamp=function(a){return Q(this,12,a)};d.clearExternalTimestamp=function(){return this.setExternalTimestamp(void 0)};
d.hasExternalTimestamp=function(){return null!=L(this,12)};d.getCollectForDebug=function(){return P(this,uk,13)};d.setCollectForDebug=function(a){return Q(this,13,a)};d.clearCollectForDebug=function(){return this.setCollectForDebug(void 0)};d.hasCollectForDebug=function(){return null!=L(this,13)};d.getAppMobilespecId=function(){return L(this,16)};d.setAppMobilespecId=function(a){return M(this,16,a)};d.clearAppMobilespecId=function(){return M(this,16,void 0)};
d.hasAppMobilespecId=function(){return null!=L(this,16)};var Ik=function(a){N(this,a,0,-1,Hk,null)};y(Ik,K);var Hk=[1];Ik.prototype.toObject=function(a){return Jk(a,this)};var Jk=function(a,b){var c,e={idList:null==(c=L(b,1))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Ik.prototype.serializeBinary=function(){var a=new J;Kk(this,a);return a.getResultBuffer()};var Kk=function(a,b){a=a.getIdList();0<a.length&&b.writeRepeatedString(1,a)};Ik.prototype.getIdList=function(){return L(this,1)};Ik.prototype.setIdList=function(a){return M(this,1,a||[])};
Ik.prototype.addId=function(a,b){return Ke(this,1,a,b)};Ik.prototype.clearIdList=function(){return this.setIdList([])};var Lk=function(a){N(this,a,0,-1,null,null)};y(Lk,K);Lk.prototype.toObject=function(a){return Mk(a,this)};var Mk=function(a,b){var c,e={logRequestIndex:null==(c=L(b,1))?void 0:c,responseAction:null==(c=L(b,2))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Lk.prototype.serializeBinary=function(){var a=new J;Nk(this,a);return a.getResultBuffer()};var Nk=function(a,b){var c=L(a,1);null!=c&&b.writeInt32(1,c);c=L(a,2);null!=c&&b.writeEnum(2,c)};d=Lk.prototype;
d.getLogRequestIndex=function(){return L(this,1)};d.setLogRequestIndex=function(a){return M(this,1,a)};d.clearLogRequestIndex=function(){return M(this,1,void 0)};d.hasLogRequestIndex=function(){return null!=L(this,1)};d.getResponseAction=function(){return L(this,2)};d.setResponseAction=function(a){return M(this,2,a)};d.clearResponseAction=function(){return M(this,2,void 0)};d.hasResponseAction=function(){return null!=L(this,2)};var Pk=function(a){N(this,a,0,-1,Ok,null)};y(Pk,K);var Ok=[1];Pk.prototype.toObject=function(a){return Qk(a,this)};var Qk=function(a,b){var c,e={logSourceNameList:null==(c=L(b,1))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Pk.prototype.serializeBinary=function(){var a=new J;Rk(this,a);return a.getResultBuffer()};var Rk=function(a,b){a=a.getLogSourceNameList();0<a.length&&b.writeRepeatedString(1,a)};Pk.prototype.getLogSourceNameList=function(){return L(this,1)};
Pk.prototype.setLogSourceNameList=function(a){return M(this,1,a||[])};Pk.prototype.addLogSourceName=function(a,b){return Ke(this,1,a,b)};Pk.prototype.clearLogSourceNameList=function(){return this.setLogSourceNameList([])};var Sk=function(a){N(this,a,0,-1,null,null)};y(Sk,K);Sk.prototype.toObject=function(a){return Tk(a,this)};var Tk=function(a,b){var c,e={logSourceName:null==(c=L(b,1))?void 0:c,qosTier:null==(c=L(b,2))?void 0:c,logSource:Je(b,3,-1)};a&&(e.$jspbMessageInstance=b);return e};Sk.prototype.serializeBinary=function(){var a=new J;Uk(this,a);return a.getResultBuffer()};var Uk=function(a,b){var c=L(a,1);null!=c&&b.writeString(1,c);c=L(a,2);null!=c&&b.writeEnum(2,c);c=L(a,3);null!=c&&b.writeEnum(3,c)};d=Sk.prototype;
d.getLogSourceName=function(){return L(this,1)};d.setLogSourceName=function(a){return M(this,1,a)};d.clearLogSourceName=function(){return M(this,1,void 0)};d.hasLogSourceName=function(){return null!=L(this,1)};d.getQosTier=function(){return L(this,2)};d.setQosTier=function(a){return M(this,2,a)};d.clearQosTier=function(){return M(this,2,void 0)};d.hasQosTier=function(){return null!=L(this,2)};d.getLogSource=function(){return Je(this,3,-1)};d.setLogSource=function(a){return M(this,3,a)};
d.clearLogSource=function(){return M(this,3,void 0)};d.hasLogSource=function(){return null!=L(this,3)};var Wk=function(a){N(this,a,0,-1,Vk,null)};y(Wk,K);var Vk=[1];Wk.prototype.toObject=function(a){return Xk(a,this)};var Xk=function(a,b){var c,e={qosTierConfigurationList:Be(b.getQosTierConfigurationList(),Tk,a),qosTierFingerprint:null==(c=L(b,2))?void 0:c};a&&(e.$jspbMessageInstance=b);return e};Wk.prototype.serializeBinary=function(){var a=new J;Yk(this,a);return a.getResultBuffer()};
var Yk=function(a,b){var c=a.getQosTierConfigurationList();0<c.length&&b.writeRepeatedMessage(1,c,Uk);c=L(a,2);null!=c&&b.writeInt64(2,c)};d=Wk.prototype;d.getQosTierConfigurationList=function(){return Me(this,Sk,1)};d.setQosTierConfigurationList=function(a){return Ne(this,1,a)};d.addQosTierConfiguration=function(a,b){return Oe(this,1,a,Sk,b)};d.clearQosTierConfigurationList=function(){return this.setQosTierConfigurationList([])};d.getQosTierFingerprint=function(){return L(this,2)};
d.setQosTierFingerprint=function(a){return M(this,2,a)};d.clearQosTierFingerprint=function(){return M(this,2,void 0)};d.hasQosTierFingerprint=function(){return null!=L(this,2)};var $k=function(a){N(this,a,0,6,Zk,null)};y($k,K);var al={},bl={},Zk=[5];d=$k.prototype;d.toObject=function(a){var b,c={nextRequestWaitMillis:Je(this,1,"-1"),experiments:(b=this.getExperiments())&&Jk(a,b),qosTier:(b=this.getQosTier())&&Xk(a,b),logSourceBatchingBlacklist:(b=this.getLogSourceBatchingBlacklist())&&Qk(a,b),logResponseDetailsList:Be(this.getLogResponseDetailsList(),Mk,a)};Ce(this,c,al,$k.prototype.getExtension,a);a&&(c.$jspbMessageInstance=this);return c};
d.serializeBinary=function(){var a=new J;var b=L(this,1);null!=b&&a.writeInt64String(1,b);b=this.getExperiments();null!=b&&a.writeMessage(2,b,Kk);b=this.getQosTier();null!=b&&a.writeMessage(3,b,Yk);b=this.getLogSourceBatchingBlacklist();null!=b&&a.writeMessage(4,b,Rk);b=this.getLogResponseDetailsList();0<b.length&&a.writeRepeatedMessage(5,b,Nk);De(this,a,bl,$k.prototype.getExtension);return a.getResultBuffer()};d.getNextRequestWaitMillis=function(){return Je(this,1,"-1")};
d.setNextRequestWaitMillis=function(a){return M(this,1,a)};d.clearNextRequestWaitMillis=function(){return M(this,1,void 0)};d.hasNextRequestWaitMillis=function(){return null!=L(this,1)};d.getExperiments=function(){return P(this,Ik,2)};d.setExperiments=function(a){return Q(this,2,a)};d.clearExperiments=function(){return this.setExperiments(void 0)};d.hasExperiments=function(){return null!=L(this,2)};d.getQosTier=function(){return P(this,Wk,3)};d.setQosTier=function(a){return Q(this,3,a)};
d.clearQosTier=function(){return this.setQosTier(void 0)};d.hasQosTier=function(){return null!=L(this,3)};d.getLogSourceBatchingBlacklist=function(){return P(this,Pk,4)};d.setLogSourceBatchingBlacklist=function(a){return Q(this,4,a)};d.clearLogSourceBatchingBlacklist=function(){return this.setLogSourceBatchingBlacklist(void 0)};d.hasLogSourceBatchingBlacklist=function(){return null!=L(this,4)};d.getLogResponseDetailsList=function(){return Me(this,Lk,5)};
d.setLogResponseDetailsList=function(a){return Ne(this,5,a)};d.addLogResponseDetails=function(a,b){return Oe(this,5,a,Lk,b)};d.clearLogResponseDetailsList=function(){return this.setLogResponseDetailsList([])};var cl=function(a){N(this,a,0,-1,null,null)};y(cl,K);cl.prototype.toObject=function(a){return dl(a,this)};var dl=function(a,b){var c={suggestedFlushIntervalMillis:Je(b,1,-1)};a&&(c.$jspbMessageInstance=b);return c};cl.prototype.serializeBinary=function(){var a=new J;el(this,a);return a.getResultBuffer()};var el=function(a,b){a=L(a,1);null!=a&&b.writeInt32(1,a)};cl.prototype.getSuggestedFlushIntervalMillis=function(){return Je(this,1,-1)};
cl.prototype.setSuggestedFlushIntervalMillis=function(a){return M(this,1,a)};cl.prototype.clearSuggestedFlushIntervalMillis=function(){return M(this,1,void 0)};cl.prototype.hasSuggestedFlushIntervalMillis=function(){return null!=L(this,1)};var fl=new xe(175237375,{jsExtension:0},cl,dl,0);bl[175237375]=new function(a,b,c,e,f,g){this.fieldInfo=a;this.binaryReaderFn=b;this.binaryWriterFn=c;this.binaryMessageSerializeFn=e;this.binaryMessageDeserializeFn=f;this.isPacked=g}(fl,qe.prototype.readMessage,J.prototype.writeMessage,el,function(a,b){for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:var c=b.readInt32();a.setSuggestedFlushIntervalMillis(c);break;default:b.skipField()}return a},!1);al[175237375]=fl;var gl=function(a,b,c,e,f,g,k,l,n,p,q){Jh.call(this);this.logSource_=a;this.getAuthHeaderValue_=b||ya;this.baseLogRequest_=new Ek;this.componentId_="";this.networkIOSend_=e;this.network_=q;this.pendingEvents_=[];this.bufferSize_=1E3;this.lastFailedAuth_="";this.uniformRandomFunction=Ia(dd,0,1);this.clearcutUrl_=f||null;this.sessionIndex_=c||null;this.disableAutomaticFlush_=k||!1;this.pageId_=n||null;this.useGetRequestForFinalFlush_=this.useSendBeaconForFinalFlush_=this.clientSideLogOnlyForDevelopment_=
!1;this.noFlushUntillMs_=this.startWaitingMs_=-1;this.clientSpecifiedFlushInterval_=!1;this.experimentIds_=null;this.logger_=Di("playlog.clearcut.ClearcutBase");this.withCredentials_=!l;this.gzipCompressor_=null;this.numLogsDroppedSinceLastFlush_=0;this.sequencePosition_=1;this.collectForDebug_=null;this.isServiceWorkerScope_=g||!1;this.timeoutMillis_=0;a=(new rk).setClientType(1);g||(g=(new Tj).setLocale(document.documentElement.getAttribute("lang")),a.setJsClientInfo(g));this.baseLogRequest_.setClientInfo(a);
this.baseLogRequest_.setLogSource(this.logSource_);this.flushBackoff_=new Hi(1E4,3E5,.1);this.flushTimer_=new Kh(this.flushBackoff_.getValue());this.registerDisposable(this.flushTimer_);xh(this.flushTimer_,"tick",ub(this.getFlushFunction_(p)),!1,this);this.backupTimer_=new Kh(6E5);this.registerDisposable(this.backupTimer_);xh(this.backupTimer_,"tick",ub(this.getFlushFunction_(p)),!1,this);this.disableAutomaticFlush_||this.backupTimer_.start();this.isServiceWorkerScope_||(xh(Fg(),"beforeunload",this.finalFlush,
!1,this),xh(Fg(),"unload",this.finalFlush,!1,this),xh(document,"pagehide",this.finalFlush,!1,this))};y(gl,Jh);d=gl.prototype;d.getFlushFunction_=function(a){if(a){var b=this;return function(){a().then(b.flush.bind(b))}}return this.flush};d.disposeInternal=function(){this.finalFlush();gl.superClass_.disposeInternal.call(this)};d.setClearcutUrl=function(a){this.clearcutUrl_=a};d.getClearcutUrl_=function(){this.clearcutUrl_||(this.clearcutUrl_=this.defaultUrl_());return this.clearcutUrl_};
d.dispatch=function(a){a instanceof Pf?this.log(a):(a=(new Pf).setSourceExtensionJs(a.serialize()),this.log(a))};d.setClearcutClientInfo=function(a){a.getClientType()||a.setClientType(1);this.baseLogRequest_.setClientInfo(a)};d.setLogSourceName=function(a){this.baseLogRequest_.setLogSourceName(a)};d.setComponentId=function(a){this.componentId_=a};d.getDefaultClearcutClientInfo=function(){return this.baseLogRequest_.getClientInfo()};
d.setOpaqueExperimentIds=function(a){this.experimentIds_||(this.experimentIds_=new Te);this.experimentIds_.setEncryptedBlobList(a)};d.clearOpaqueExperimentIds=function(){this.experimentIds_&&this.experimentIds_.clearEncryptedBlobList()};d.setClearExperimentIds=function(a){a?(this.experimentIds_||(this.experimentIds_=new Te),this.experimentIds_.setClearBlobJs(a.serialize())):this.experimentIds_&&this.experimentIds_.clearClearBlobJs()};
d.setClientSideLogOnlyForDevelopment=function(a){this.clientSideLogOnlyForDevelopment_=a};d.setCollectForDebug=function(a){this.collectForDebug_=a};d.setGzipCompressor=function(a){this.gzipCompressor_=a};d.setUseSendBeaconForFinalFlush=function(a){this.useSendBeaconForFinalFlush_=a&&!!Fg().navigator.sendBeacon&&(Rd||Qd&&Od(45))};d.setBuildLabel=function(a){var b=this.getDefaultClearcutClientInfo(),c=b.getJsClientInfo();c||(c=new Tj);c.setBuildLabel(a);b.setJsClientInfo(c);this.setClearcutClientInfo(b)};
d.setUseGetRequestForFinalFlush=function(a){this.useGetRequestForFinalFlush_=a};d.setFlushIntervalMs=function(a){this.clientSpecifiedFlushInterval_=!0;this.doUpdateFlushIntervalMs_(a)};d.setTimeoutMillis=function(a){this.timeoutMillis_=a};d.setFlushIntervalInternalMs_=function(a){this.clientSpecifiedFlushInterval_||this.doUpdateFlushIntervalMs_(a)};d.doUpdateFlushIntervalMs_=function(a){this.flushBackoff_=new Hi(1>a?1:a,3E5,.1);this.flushTimer_.setInterval(this.flushBackoff_.getValue())};
d.getFlushIntervalMs=function(){return this.flushTimer_.getInterval()};d.backoffFlushInterval_=function(){this.flushBackoff_.backoff();this.flushTimer_.setInterval(this.flushBackoff_.getValue())};d.resetFlushInterval_=function(){this.flushBackoff_.reset();this.flushTimer_.setInterval(this.flushBackoff_.getValue())};
d.log=function(a){a=a.cloneMessage();a.setSequencePosition(this.sequencePosition_++);this.componentId_&&a.setComponentId(this.componentId_);a.getEventTimeMs()||a.setEventTimeMs(Ja().toString());this.experimentIds_&&a.setExperimentIds(this.experimentIds_.cloneMessage());this.addEventToPending_(a)};
d.addEventToPending_=function(a){for(;this.pendingEvents_.length>=this.bufferSize_;)this.pendingEvents_.shift(),++this.numLogsDroppedSinceLastFlush_;this.pendingEvents_.push(a);this.dispatchEvent(new hl(a));this.maybeStartFlushTimer_()};d.maybeStartFlushTimer_=function(){this.disableAutomaticFlush_||this.flushTimer_.enabled||this.flushTimer_.start()};d.clearFlushTimer_=function(){this.flushTimer_.enabled&&this.flushTimer_.stop()};
d.flush=function(a,b){if(0==this.pendingEvents_.length)a&&a();else{var c=Ja();if(this.noFlushUntillMs_>c&&this.startWaitingMs_<c)Ei(this.logger_,"Not flushing because server requested delay."),b&&b("throttled");else{var e=this.baseLogRequest_.cloneMessage().setRequestTimeMs(Ja().toString()).setLogEventList(this.pendingEvents_).setLogEventDroppedCount(this.numLogsDroppedSinceLastFlush_);this.collectForDebug_&&e.setCollectForDebug(this.collectForDebug_);c={};var f=this.getAuthHeaderValue_();f&&(c.Authorization=
f);var g=this.getClearcutUrl_();this.sessionIndex_&&(c["X-Goog-AuthUser"]=this.sessionIndex_,g=Xi(g,"authuser",this.sessionIndex_));this.pageId_&&(c["X-Goog-PageId"]=this.pageId_,g=Xi(g,"pageId",this.pageId_));if(f&&this.lastFailedAuth_==f)Ei(this.logger_,"XHR with unauthorized request not retried"),b&&b("stale-auth-token");else if(Ei(this.logger_,"Flushing log to clearcut."),this.clearPendingEvents_(),this.clientSideLogOnlyForDevelopment_)Ei(this.logger_,e.serialize()),c&&Ei(this.logger_,JSON.stringify(c)),
a&&a();else{var k=e.serialize(),l=1;this.gzipCompressor_&&this.gzipCompressor_.isSupported()&&(c["Content-Encoding"]="gzip",c["Content-Type"]="application/binary",k=this.gzipCompressor_.compress(k),l=2);c={url:g,body:k,bodyType:l,requestHeaders:c,requestType:"POST",withCredentials:this.withCredentials_,timeoutMillis:this.timeoutMillis_};g=Ha(function(n){this.handleSuccess_(n);a&&a()},this);k=Ha(function(n){this.handleFailure_(e.getLogEventList(),n,f);b&&b("net-send-failed",n)},this);this.network_?
this.network_.send(c,g,k):this.networkIOSend_(c,g,k)}}}};d.clearPendingEvents_=function(){this.pendingEvents_=[];this.clearFlushTimer_();this.numLogsDroppedSinceLastFlush_=0};d.finalFlush=function(){this.clientSideLogOnlyForDevelopment_||(this.useSendBeaconForFinalFlush_&&this.flushWithSendBeacon_(),this.useGetRequestForFinalFlush_&&this.flushWithGetRequest_(),this.flush())};
d.flushWithSendBeacon_=function(){Ei(this.logger_,"Flushing log using sendBeacon.");this.segmentedFlush_(32,10,function(a,b){a=Xi(a,"format","json");return Fg().navigator.sendBeacon(a,b.serialize())})};d.sendGetRequest_=function(a){var b=new Image;tb(b,"HTMLImageElement");a=a instanceof hc?a:oc(a,/^data:image\//i.test(a));b.src=ic(a)};
d.flushWithGetRequest_=function(){var a=this;Ei(this.logger_,"Flushing log using Image GET.");this.segmentedFlush_(6,5,function(b,c){a.sendGetRequest_(Wi(b,"format","base64json","p",Yd(c.serialize(),3)));return!0})};
d.segmentedFlush_=function(a,b,c){if(0!=this.pendingEvents_.length){var e=this.getClearcutUrl_();for(var f=e.search(Zi),g=0,k,l=[];0<=(k=Yi(e,g,"format",f));)l.push(e.substring(g,k)),g=Math.min(e.indexOf("&",k)+1||f,f);l.push(e.substr(g));e=l.join("").replace($i,"$1");e=Wi(e,"auth",this.getAuthHeaderValue_(),"authuser",this.sessionIndex_||"0");for(f=0;f<b&&this.pendingEvents_.length;++f){g=this.pendingEvents_.slice(0,a);k=this.baseLogRequest_.cloneMessage().setRequestTimeMs(Ja().toString()).setLogEventList(g);
if(!c(e,k))break;this.pendingEvents_=this.pendingEvents_.slice(g.length)}}};d.isRetryable_=function(a){return 500<=a&&600>a||401==a||0==a};d.prependEventsToPending_=function(a){this.pendingEvents_=a.concat(this.pendingEvents_);this.maybeStartFlushTimer_()};d.handleFailure_=function(a,b,c){this.backoffFlushInterval_();401==b&&c&&(this.lastFailedAuth_=c);this.isRetryable_(b)&&this.prependEventsToPending_(a);(a=this.logger_)&&a.warning("Flush failed. Status code: "+b,void 0)};
d.handleSuccess_=function(a){this.resetFlushInterval_();if(a){try{var b=JSON.parse(a.replace(")]}'\n",""));var c=new $k(b)}catch(e){(a=this.logger_)&&a.warning("Response parse failed: "+e,void 0)}c&&(a=c.getNextRequestWaitMillis(),a=Number(a),0<a&&(this.startWaitingMs_=Ja(),this.noFlushUntillMs_=this.startWaitingMs_+a),c=c.getExtension(fl))&&(c=c.getSuggestedFlushIntervalMillis(),-1!=c&&this.setFlushIntervalInternalMs_(c))}};
d.defaultUrl_=function(){return.01>this.uniformRandomFunction()?"https://www.google.com/log?format=json&hasfast=true":"https://play.google.com/log?format=json&hasfast=true"};var hl=function(a){this.logEvt_=a;this.type="event-logged"};y(hl,fh);hl.prototype.getLogEvent=function(){return this.logEvt_};gl.prototype.getBufferSize=function(){return this.bufferSize_};gl.prototype.setBufferSize=function(a){this.bufferSize_=a};var il=function(a,b,c,e,f,g,k){gl.call(this,a,lg,b,oj,c,e,f,void 0,g,k)};y(il,gl);var jl=function(a,b,c,e,f,g,k,l,n){var p=this;this.eventBuilder_=a;this.expectXidTagComponents_=f||!1;this.metadataHandler_=void 0!=k?k:a.getTagPopulator();this.visualElementProvider_=new kj(this.metadataHandler_,this.expectXidTagComponents_);this.clearcut_=l?l:new il(b,c,e,void 0,void 0,void 0,g);this.clearcut_.setClientSideLogOnlyForDevelopment(!1);this.clearcut_.setUseSendBeaconForFinalFlush(!0);this.clearcut_.setUseGetRequestForFinalFlush(!0);this.eventToActionMap_={click:3};this.eventToTracksLabelMap_=
{click:this.maybeXidEventLabel_("generic_click")};this.domHelper_=this.invariantData_=this.clientInfo_=void 0;this.pageVisibilityMonitor_=new Bi;this.logImpressionsTask_=(new ai(Oh,this)).measure(g?function(){return g().then(p.handleImpressions_.bind(p))}:this.handleImpressions_).runInCurrentFrameIfPossible().build();this.logImpressionsThrottle_=new ei(this.logImpressionsTask_,500,this);this.indexFunction_=void 0;this.isBatchedImpressionsEnabled_=!1;this.traverser_=new mj(this.visualElementProvider_,
n);this.listeners_=[];this.impressionListeners_=[]},kl=Di("frameworks.client.analytics.gil.VisualElementEventTracker");d=jl.prototype;d.setClientInfo=function(a){this.clientInfo_=a};d.setClearcutClientInfo=function(a){this.clearcut_.setClearcutClientInfo(a)};d.setInvariantData=function(a){this.invariantData_=a};d.setBuildLabel=function(a){var b=this.clearcut_.getDefaultClearcutClientInfo(),c=b.getJsClientInfo();c.setBuildLabel(a);b.setJsClientInfo(c);this.clearcut_.setClearcutClientInfo(b)};
d.setExperimentIDs=function(a){this.clearcut_.setClearExperimentIds(a)};d.setOpaqueExperimentIDs=function(a){this.clearcut_.setOpaqueExperimentIds(a)};d.setIndexFunction=function(a){this.indexFunction_=a};d.setBaseEventID=function(){};d.enableBatchedImpressions=function(a){this.isBatchedImpressionsEnabled_=a};d.isBatchedImpressionsEnabled=function(){return this.isBatchedImpressionsEnabled_};
d.addEventToTrack=function(a,b,c){this.eventToActionMap_[a]=b;this.eventToTracksLabelMap_[a]=this.maybeXidEventLabel_(c||a)};d.addSyntheticEventToTrack=function(a,b){this.eventToActionMap_[a]=b};d.logClick=function(a){return this.logEvent("click",a)};
d.logEvent=function(a,b){var c=this.eventToActionMap_[a];if(!c)return!1;b=this.getTarget_(a,b);if(!b)return!1;if(this.eventHandler_)return this.logInteractionEvent_(b,c),!0;var e=this.getAncestry_(b.getElement());this.logToClearcut(c,b,e);Ei(kl,"Event Type:["+a+"] Logged for "+this.printVisualElements_(b,e));return!0};
d.logSyntheticEvent=function(a,b,c){var e=this.eventToActionMap_[a];if(!e&&a!=qf)return!1;b=new jj(Jg(document,"syntheticElement"),b);if(this.eventHandler_)return this.logInteractionEvent_(b,e),!0;var f=[];c&&(f=this.getAncestry_(c));this.logToClearcut(e,b,f);Ei(kl,"Synthetic Event Type:["+a+"] Logged for "+this.printVisualElements_(b,f));return!0};
d.startTrackingImpressions=function(a){this.domHelper_=a;a=this.domHelper_.getDocument();"interactive"!=a.readyState&&"complete"!=a.readyState||this.logImpressions();wh(a,"load",this.logImpressions,!1,this);wh(a,"DOMContentLoaded",this.logImpressions,!1,this);xh(this.pageVisibilityMonitor_,"visibilitychange",this.logImpressions,!1,this);xh(a,"scroll",this.logImpressions,!0,this)};d.logImpressions=function(){this.domHelper_&&this.logImpressionsThrottle_.fire()};
d.resetAllImpressions=function(){if(this.domHelper_){var a=this.traverser_.getJsLogElements(this.domHelper_.getDocument().body);a=h(a);for(var b=a.next();!b.done;b=a.next())b=b.value,b.__ve&&(b.__ve=void 0)}};
d.logToClearcut=function(a,b,c){var e=this.getVisualElementIDs(c),f=this.getIndex(b);e=(new Wf).setUserAction(a).setElementId(b.getTag().getID()).setPathToRootElementIdList(e);null!=f&&e.setElementIndex(f);f=new Ye;f.ve_metadata=this.getMetadata(b,c);f.global_metadata=this.invariantData_;f.client_info=this.clientInfo_;b=this.eventBuilder_.createLogRecord(e,f);this.clearcut_.log(b);null!=a&&this.notifyInteractionEventListeners(new ij(a))};
d.log=function(a){this.clearcut_.log(a);Ei(kl,"Event Code:["+a.getEventCode()+"] Logged")};d.finalFlushPendingEvents=function(){this.clearcut_.finalFlush()};d.setClientSideLogOnlyForDevelopment=function(a){this.clearcut_.setClientSideLogOnlyForDevelopment(a)};d.addInteractionEventListener=function(a){this.listeners_.push(a)};d.addImpressionEventListener=function(a){this.impressionListeners_.push(a)};d.removeInteractionEventListener=function(a){return ob(this.listeners_,a)};
d.removeImpressionEventListener=function(a){return ob(this.impressionListeners_,a)};d.notifyInteractionEventListeners=function(a){for(var b=0;b<this.listeners_.length;b++)this.listeners_[b](a)};d.notifyImpressionEventListeners=function(){for(var a=0;a<this.impressionListeners_.length;a++)this.impressionListeners_[a]()};d.getIndex=function(a){return this.indexFunction_?this.indexFunction_(a.getElement(),a.getTag().getID()):a.getTag().getIndex()};d.getVisualElementIDs=function(a){return a.map(function(b){return b.getTag().getID()})};
d.getMetadata=function(a,b){var c=this.eventBuilder_.getMetadataProto();if(c){a.getTag().mergeTo(c);for(a=0;a<b.length;++a)b[a].getTag().mergeTo(c);return c}};d.getTarget_=function(a,b){var c,e=this.visualElementProvider_,f=this.eventToTracksLabelMap_[a];Nh(b,function(g){if(!Ng(g))return!1;g=e.getVisualElement(g);return null!=g&&this.isTracking_(g.getTag(),f)?(c=g,!0):!1}.bind(this),!0);return c};d.isTracking_=function(a,b){return this.expectXidTagComponents_?a.isTrackingXid(b):a.isTracking(b)};
d.getAncestry_=function(a){var b=[],c=this.visualElementProvider_;Nh(a,function(e){if(!Ng(e))return!1;e=c.getVisualElement(e);null!=e&&b.push(e);return!1},!1);return b};
d.handleImpressions_=function(){if(!this.pageVisibilityMonitor_.isHidden()){var a=this.traverser_.getRenderedElements(this.domHelper_.getDocument().body);if(this.eventHandler_){var b=this.domHelper_.getViewportSize();b=new Ii(0,0,b.width,b.height);this.logImpressionEvent_(a,b);this.logVisibilityEvent_(a,b);this.notifyImpressionEventListeners()}else for(a=this.getVisibleElements_(a),b=0;b<a.length;b++){var c=a[b];if(!c.getImpressionLogged()){var e=this.getAncestry_(c.getElement());this.logToClearcut(void 0,
c,e);this.notifyImpressionEventListeners();c.setImpressionLogged();Ei(kl,"Impression Event Logged for "+this.printVisualElements_(c,e))}}}};d.getVisibleElements_=function(a){var b=[],c=this.domHelper_.getViewportSize();c=new Ii(0,0,c.width,c.height);for(var e=0;e<a.length;e++){var f=a[e];this.isVisible_(f,c)&&(f=this.visualElementProvider_.getVisualElement(f))&&f.getTag().isTracking(qf)&&b.push(f)}return b};
d.isVisible_=function(a,b){if(a.hasAttribute("ve-visible"))return"true"==a.getAttribute("ve-visible");a=a.getBoundingClientRect();return(b=Ji(b,new Ii(a.left,a.top,a.width,a.height)))&&10<=b.width&&10<=b.height?!0:!1};d.maybeXidEventLabel_=function(a){return this.expectXidTagComponents_?uf(a):a};d.printVisualElements_=function(a,b){var c="VE:["+a.getTag().getID()+"] pathToRoot:[";b.forEach(function(e){c+=e.getTag().getID()+" -> "});return c+=b.length?"END]":"EMPTY]"};
d.logImpressionEvent_=function(a,b){a=this.traverser_.getImpressionTrees(a);if(a.length)for(b=this.eventHandler_.impressionEvent(a,b),a=0;a<b.length;++a)this.clearcut_.log(b[a])};d.logVisibilityEvent_=function(a,b){a=this.traverser_.getClientVEs(a);b=this.eventHandler_.visibilityEvent(a,b);if(b.length)for(a=0;a<b.length;++a)this.clearcut_.log(b[a])};d.logInteractionEvent_=function(a,b){if(b)for(a=this.eventHandler_.interactionEvent(a,new ij(b)),b=0;b<a.length;++b)this.clearcut_.log(a[b])};t("ng.safehtml.googSceHelper.isGoogHtmlType",function(a){return a&&a.implementsGoogStringTypedString?!0:!1},void 0);t("ng.safehtml.googSceHelper.isCOMPILED",function(){return!0},void 0);t("ng.safehtml.googSceHelper.unwrapAny",function(a){if(a instanceof Nb)return Ob(a).toString();if(a instanceof Ic)return Jc(a).toString();if(a instanceof hc)return ic(a);if(a instanceof qc)return rc(a);if(a instanceof Gb)return Hb(a).toString();throw Error();},void 0);
t("ng.safehtml.googSceHelper.unwrapGivenContext",function(a,b){if("html"==a)return Jc(b).toString();if("resourceUrl"==a||"templateUrl"==a)return Ob(b).toString();if("url"==a)return b instanceof Nb?Ob(b).toString():ic(b);if("css"==a)return rc(b);if("js"==a)return Hb(b).toString();throw Error();},void 0);angular.module("publishAppFrameworkViews",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){function c(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}b()&&(a.put("/framework/views/carousel-arrow-next.html",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'),
a.put("/framework/views/carousel-arrow-prev.html",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'),a.put("/framework/views/carousel-directive.html","<div class=\"carousel\" ng-class=\"{'is-touch': isTouch}\">\n  <button class=\"carousel-prev\" aria-label=\"Prev\" tabindex=\"-1\"\n      ng-click=\"navigate(-1)\"\n      track=\"['Widget', trackingName, (isRtl() ? 'Next' : 'Prev')]\"\n      ng-if=\"currentItemOffset > 0\"\n      ng-show=\"!hideButtons\">\n    <ng-include src=\"'/framework/views/carousel-arrow-' + (isRtl() ? 'next' : 'prev') + '.html'\"></ng-include>\n  </button>\n\n  <div class=\"carousel-wrapper\">\n    <ng-transclude\n        class=\"carousel-items\"\n        ng-class=\"{'browser-ie': isBrowserIE}\"\n        ng-style=\"{\n          'transform': 'translate(' + xTransform + 'px, 0px)',\n          '-webkit-transform': 'translate(' + xTransform + 'px, 0px)'\n        }\">\n    </ng-transclude>\n  </div>\n\n  <button class=\"carousel-next\" aria-label=\"Next\" tabindex=\"-1\"\n      ng-click=\"navigate(1)\"\n      track=\"['Widget', trackingName, (isRtl() ? 'Prev' : 'Next')]\"\n      ng-if=\"currentItemOffset < itemsCount - 1 && isBelowMaxTransform()\"\n      ng-show=\"!hideButtons\">\n    <ng-include src=\"'/framework/views/carousel-arrow-' + (isRtl() ? 'prev' : 'next') + '.html'\"></ng-include>\n  </button>\n</div>\n"),
a.put("/framework/views/embed-footer.html",'<div class="embed-footer">\n  <div class="embed-title-wrapper">\n    <div class="embed-title" bidi="getEmbedHeaderText(widgetIsCurated !== true)"></div>\n  </div>\n  <div class="embed-logo">\n    <a ng-href="/trends/{{getEmbedLogoLink()}}" target="_blank">\n      <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n    </a>\n  </div>\n</div>\n'),a.put("/framework/views/embed-header.html",'<div class="embed-header">\n  <div class="embed-title"\n       bidi="storyTitleArray && storyTitleArray.length ? storyTitleArray : storyTitle">\n  </div>\n\n  <div class="embed-subtitle" bidi="getEmbedHeaderText(widgetIsCurated !== true)"></div>\n\n  <div class="embed-logo">\n    <a ng-href="/trends/{{getEmbedLogoLink()}}" target="_blank">\n      <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n    </a>\n  </div>\n</div>\n'),
a.put("/framework/views/geo_chart_template.html",'<geo-chart ng-class="{\'chart-directive\': !isColorChart,\n                   \'fe-geo-color-chart-directive\': isColorChart,\n                   \'no-legend\': (isColorChart && showLegend),\n                   \'with-low-volume-checkbox\' : shouldDisplayLowFilterCheckbox && !isSideBySide,\n                   \'mobile\': isMobileMode}"\n           watch-options="watchOptions || isEditor"\n           options="options"\n           show-tooltip="true"\n           columns="columns"\n           data="chartRows"\n           on-region-click="onRegionClick">\n</geo-chart>\n'),
a.put("/framework/views/help_dialog.html",'<div class="help-dialog">\n  <div class="help-dialog-title">{{data.title}}</div>\n  <div class="help-dialog-cancel">\n    <md-icon class="close-dialog" ng-click="cancelDialog()"></md-icon>\n  </div>\n  <div class="help-dialog-content" ng-bind-html="data.content"></div>\n  <div class="help-dialog-link" ng-show="data.url">\n    <a href="{{data.url}}" target="_blank">\n      Learn More</a>\n  </div>\n</div>\n'),a.put("/framework/views/help_icon.html",['<button class="help-icon-button" ng-click="openDialog()"',
'   title="'+c("Help")+'">','  <i class="material-icons-extended help-icon-color">help_outline</i>\n  <div class="help-dialog-text" ng-show="showAnnotation">\n    Help\n  </div>\n</button>\n'].join("\n")),a.put("/framework/views/line_chart_directive.html",'<div class="line-chart"\n     ondrop="angular.element(this).scope().drop(event)"\n     ondragover="angular.element(this).scope().allowDrop(event)">\n</div>\n<div class="chart-cover"></div>\n<div class="chart-cover right"></div>\n<div class="grid-line l1"></div>\n<div class="grid-line l2"></div>\n<div class="grid-line l3"></div>\n<div class="grid-line l4"></div>\n<div class="chart-labels">\n  <div class="label" ng-repeat="label in displayLabels track by $index"\n       ng-style="{\'left\': label.left + \'px\'}">\n    <div class="center">\n      <div class="tick"></div>\n      <div class="text">{{ label.text }}</div>\n    </div>\n  </div>\n</div>\n'),
a.put("/framework/views/list-item-actions.html",['<md-menu md-position-mode="{{menuPosition}} target">\n  <button class="list-item" ng-click="$mdOpenMenu($event)"','          title="'+c("Actions menu")+'"',"          track=\"['Widget', 'Actions', listTitle + '-' + item]\">\n    <i md-menu-origin class=\"material-icons-extended blue\">more_vert</i>\n  </button>\n  <md-menu-content class=\"item-menu-content list-item\">\n    <md-menu-item ng-if='isExploreLinkAvailable'>\n      <a ng-href=\"{{::exploreLink}}\"\n         track=\"['List item', 'Explore', listTitle + '-' + item]\"",
'         title="'+c("Explore item")+'">','        <i class="material-icons-extended gray-dark">timeline</i>\n        <div class="item-menu-text">\n          Explore\n        </div>\n      </a>\n    </md-menu-item>\n    <md-menu-item>\n      <a ng-href="{{::searchLink}}"\n         track="[\'List item\', \'Search on google\', listTitle + \'-\' + item]"','         title="'+c("Search item")+'">','        <div>\n          <i class="material-icons-extended gray-dark">search</i>\n        </div>\n        <div class="item-menu-text">\n          Search on Google\n        </div>\n      </a>\n    </md-menu-item>\n  </md-menu-content>\n</md-menu>\n'].join("\n")),
a.put("/framework/views/low-search-volume-filter-directive.html",['<div class="fe-low-search-volume"\n     ng-class="{\'mobile\': isMobileMode}"\n     dir="{{getHeaderDirection()}}"\n     ng-if="shouldDisplayLowFilterCheckbox">\n  <md-checkbox ng-checked="isFilterVolumeChecked"\n               ng-click="onVolumeFilterChange(isFilterVolumeChecked = !isFilterVolumeChecked)"','               aria-label="'+c("Include low search volume regions")+'">',"    Include low search volume regions\n  </md-checkbox>\n</div>\n"].join("\n")),
a.put("/framework/views/pagination-directive.html",'<div class="pagination">\n  <md-button aria-label="Previous"\n             md-ink-ripple="false"\n             ng-disabled="!ctrl.hasPreviousPage()"\n             ng-click="ctrl.updateToPreviousPage()"\n             ve-tracking\n             jslog="41829; track:generic_click">\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-right-active\' : \'arrow-left-active\'"\n             ng-if="ctrl.hasPreviousPage()">\n    </md-icon>\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-right-disabled\' : \'arrow-left-disabled\'"\n             ng-if="!ctrl.hasPreviousPage()">\n    </md-icon>\n  </md-button>\n  <span>\n    {{ctrl.getPaginationText()}}\n  </span>\n  <md-button aria-label="Next"\n             md-ink-ripple="false"\n             ng-disabled="!ctrl.hasNextPage()"\n             ng-click="ctrl.updateToNextPage()"\n             ve-tracking\n             jslog="41828; track:generic_click">\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-left-active\' : \'arrow-right-active\'"\n             ng-if="ctrl.hasNextPage()">\n    </md-icon>\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-left-disabled\' : \'arrow-right-disabled\'"\n             ng-if="!ctrl.hasNextPage()">\n    </md-icon>\n  </md-button>\n</div>\n'),
a.put("/framework/views/region_tooltip.html",'<div>{{ tooltipConfig.data.name }}</div>\n\n<div class="region-tooltip-items">\n  <div class="region-tooltip-item"\n      ng-repeat="value in tooltipConfig.data.values track by $index"\n      ng-if="value >= 0">\n    <div class="region-tooltip-label">{{ legend[$index].value.caption }}</div>\n    <span class="region-tooltip-value"\n          ng-style="{\'color\': colors.getHexValue(legend[$index].value.color)}">\n      {{value}}\n    </span>\n  </div>\n</div>\n'),
a.put("/framework/views/region_tooltip_geo_chart.html",'<div>{{ tooltipConfig.data.geoName }}</div>\n\n<div class="region-tooltip-item-geo-chart"\n    ng-repeat="value in tooltipConfig.data.values track by $index"\n    ng-if="value >= 0">\n  <div>{{ tooltipText }}</div>\n  <div class="region-tooltip-value-geo-chart"\n        ng-style="{\'color\': legend[$index].value.color}">\n    {{ tooltipConfig.data.formattedValue }}\n  </div>\n</div>\n'),a.put("/framework/views/sparkline-directive.html",'<div class="sparkline-chart" ng-if="width && height && svgPath">\n  <svg ng-attr-width="{{ width }}"\n       ng-attr-height="{{ height }}"\n       viewBox="0 0 200 100"\n       preserveAspectRatio="none">\n    <g fill="transparent">\n      \x3c!-- Line path. --\x3e\n      <path ng-attr-d="M{{ ::svgPath }}"\n            ng-attr-stroke-width="{{ thickness }}"\n            stroke="{{ ::color }}"\n            vector-effect="non-scaling-stroke" />\n\n      \x3c!-- Area path. --\x3e\n      <path ng-if="drawArea !== false"\n            ng-attr-d="M1,100L{{ ::svgPath }}L200,100"\n            fill="{{ ::color }}"\n            opacity="0.2" />\n    </g>\n  </svg>\n</div>\n\n<ng-transclude ng-if="width && height && svgPath"></ng-transclude>\n'),
a.put("/framework/views/svg_map_directive.html","<div class=\"region-svg-container\" ng-style=\"{'height': options.height + 'px'}\"></div>\n\n<ng-include src=\"tooltipTemplate\"\n            class=\"region-tooltip region-tooltip-{{ tooltipConfig.position }}\"\n            ng-class=\"{'multi-heat-map': isMultiHeatMap}\"\n            ng-show=\"tooltipConfig\"\n            ng-style=\"{'top': tooltipConfig.top + 'px', 'left': tooltipConfig.left + 'px'}\">\n</ng-include>\n"),a.put("/framework/views/svg_map_template.html",
'<svg-map class="svg-map-directive-container"\n         ng-class="{\'with-low-volume-checkbox\': shouldDisplayLowFilterCheckbox && !isSideBySide,\n                    \'mobile\': isMobileMode,\n                    \'multi-heat-map\': isMultiHeatMap}"\n         map-name="france"\n         tooltip-text="{{tooltipTextLabel}}"\n         colors="colors"\n         legend="legend"\n         data="data"\n         default-color="PALETTE_COLOR_6"\n         enable-tooltip="enableTooltip"\n         center-tooltip="centerTooltip"\n         is-editor="isEditor"\n         on-region-click="onRegionClick"\n         is-multi-heat-map="isMultiHeatMap"\n         custom-tooltips="customTooltips"\n         options="options">\n</svg-map>\n'),
a.put("/framework/views/svg_multi_heat_map_tooltip.html",'\x3c!-- Compiling and attaching the given tooltip string (from the Multi heat map controller) into\n     the DOM. This way we don\'t need to create the tooltip once again from scratch when moving to\n     SVG map. --\x3e\n<div bind-html-compile="tooltipConfig.tooltip"></div>\n'),a.put("/framework/views/tv-broadcast-directive.html",'<div class="tv-wrapper">\n  <div class="tv-video">\n  </div>\n  <div class="tv-content">\n    <div class="tv-title-text">\n      <div class="topic-label tv-title" ng-bind-html="markBold(mainTitle)"></div>\n      <div class="tv-sub-title" ng-bind-html="markBold(subTitle)"></div>\n    </div>\n    <div class="tv-trends-logo"></div>\n    <div class="tv-inner-widget" ng-transclude>\n    </div>\n  </div>\n</div>\n'),
a.put("/framework/views/widget-actions-flatten-yis.html",['<div ng-if="globals.isMobileMode" class="flatten-items-wrapper">\n  <button class="widget-actions-menu more-vert-googblue"','          title="'+c("Actions menu")+'"','          track="[type, \'openYisModal\', listTitle]"\n          ng-click="genericAction(\'openYisModal\')">\n  </button>\n</div>\n\n<div ng-if="!globals.isMobileMode" class="flatten-items-wrapper">\n  <button class="flatten-item first"\n          ng-class="{\'copy-content-image-small\': ctrl.isSmallTouchDevice,\n                    \'copy-content-image-small-googblue\': !ctrl.isSmallTouchDevice}"\n          ng-click="genericAction(\'copy\')"',
'          title="'+c("Copy")+'"','          track="[type, \'Copy\', listTitle]">\n  </button>\n  <button class="flatten-item"\n          ng-class="{\'embed-image-small\': ctrl.isSmallTouchDevice,\n                    \'embed-image-small-googblue\': !ctrl.isSmallTouchDevice}"\n          ng-click="embed()"\n          ng-if="!ctrl.isSmallTouchDevice"','          title="'+c("Embed")+'"','          track="[type, \'Embed\', listTitle]">\n  </button>\n  <button class="flatten-item"\n          ng-class="{\'share-image-small\': ctrl.isSmallTouchDevice,\n                    \'share-image-small-googblue\': !ctrl.isSmallTouchDevice}"\n          ng-if="isEditor || share" ng-click="share()"',
'          title="'+c("Share")+'"','          track="[type, \'Share\', listTitle]">\n  </button>\n</div>\n<div class="translate-patch">\n  Copied to clipboard.\n</div>\n'].join("\n")),a.put("/framework/views/widget-actions-flatten.html",['<div class="widget-actions-item-flatten"\n     ng-if="showFlattenMenu(helpDialog)">\n  <button class="widget-actions-item export"','          title="'+c("CSV")+'"','          ng-if="isEditor || (export && showActionButton())"\n          ng-click="export()"\n          track="[\'Widget\', type, \'Export\']"\n          ve-tracking\n          jslog="39388; track:generic_click">\n    <i class="material-icons-extended gray">file_download</i>\n  </button>\n  <button class="widget-actions-item"',
'          title="'+c("Embed")+'"','          ng-if="showActionButton()"\n          ng-click="embed()"\n          track="[\'Widget\', type, \'Embed\']"\n          ve-tracking\n          jslog="39389; track:generic_click">\n    <i class="material-icons-extended gray">code</i>\n  </button>\n  <button class="widget-actions-item"','          title="'+c("Share")+'"','          ng-if="isEditor || share"\n          ng-click="share()"\n          track="[\'Widget\', type, \'Share\']"\n          ve-tracking\n          jslog="39390; track:generic_click">\n    <i class="material-icons-extended gray">share</i>\n  </button>\n</div>\n\n<md-menu md-position-mode="target-right target" ng-if="!showFlattenMenu(helpDialog)">\n  <md-button class="widget-action-menu-mobile" ng-click="$mdOpenMenu($event)" md-no-ink>\n    <i md-menu-origin class="material-icons-extended gray">more_vert</i>\n  </md-button>\n  <md-menu-content class="item-menu-content">\n    <md-menu-item>\n      <md-button class="widget-actions-item"\n                 ng-if="isEditor || share"\n                 ng-click="share()"',
'                 title="'+c("Share")+'"','                 track="[\'Widget\', type, \'Share\']"\n                 md-no-ink\n                 ve-tracking\n                 jslog="39390; track:generic_click">\n        <i class="material-icons-extended gray">share</i>\n        <div class="item-menu-text">Share\n        </div>\n      </md-button>\n    </md-menu-item>\n    <md-menu-item>\n      <help-dialog class="widget-actions-item" show-annotation="true" data="helpDialog">\n      </help-dialog>\n    </md-menu-item>\n  </md-menu-content>\n</md-menu>\n'].join("\n")),
a.put("/framework/views/widget-directive.html",'<scroll-to offset="widget.offset"\n           on-trigger="onScrollToBind()"\n           ng-if="!isScrolledInto">\n</scroll-to>\n\n<div class="widget-loader-wrapper fe-atoms-generic-container"\n     ng-if="widget.displayLoader || widget.errorMessage ||\n        (!isPrefetched && !isScrolledInto)">\n  <md-progress-circular class="md-default-theme ng-hide"\n                        md-diameter="30px"\n                        md-mode="indeterminate"\n                        ng-show="widget.displayLoader"\n                        aria-valuemin="0"\n                        aria-valuemax="100">\n  </md-progress-circular>\n\n  <ng-include src="widget.errorTemplateUrl"\n              ng-if="!widget.displayLoader && widget.errorMessage">\n  </ng-include>\n</div>\n\n<div class="widget-template"\n     ng-include="widget.templateUrl"\n     ng-if="(isPrefetched || isScrolledInto) && !(widget.displayLoader ||\n        widget.errorMessage) && template">\n</div>\n'),
a.put("/framework/views/widget-error.html",'\x3c!--TODO(sdimenstein): Organize different error messages in all the widgets.--\x3e\n<div class="widget-error">\n  <p class="widget-error-title">Oops! Something went wrong.</p>\n  <p class="widget-error-desc">Please try again in a bit.</p>\n</div>\n'),a.put("/framework/views/widget_loader_template.html",'<div ng-class="{\'widget-loader\': isQuerying}">\n  <widget\n      type="{{model.type}}"\n      version="{{model.version}}"\n      template="{{model.template}}"\n      fields="model.fields"\n      apis="model.external_apis"\n      on-load="onLoad({\'$scope\': $scope, \'controller\': controller})"\n      is-editor="isEditor"\n      ng-if="model">\n  </widget>\n</div>\n'))}]);var ll=function(a,b,c,e){var f=this;this.scope_=a;this.globals_=e;this.donutChart_=null;this.donutMouseOverEvent_={};this.donutMouseOutEvent_={};this.donutSelectEvent_={};this.previousWidthRange_=null;a.$on("$destroy",function(){return f.destroy_()});a.$watch("chartData",function(){return f.renderTable_()},!0);if(a.updateOnResize){this.previousWidthRange_=this.globals_.getBreakpointRange();var g=c.throttle(function(){return f.checkWindowSize_()},100);angular.element(b).on("resize",g);a.$on("$destroy",
function(){return angular.element(b).off("resize",g)})}};d=ll.prototype;d.drawDonutChart_=function(){var a=this;this.globals_.applyGViz(function(b){var c=b.arrayToDataTable([a.scope_.columns].concat(a.scope_.chartData));a.donutChart_=new b.PieChart(a.scope_.element[0].firstChild);a.donutChart_.draw(c,a.scope_.options)})};
d.renderTable_=function(){var a=this,b=function(){angular.element(a.scope_.element[0].querySelectorAll("svg g path:not(:first-child)")).remove()};this.globals_.applyGViz(function(c){a.destroy_();a.drawDonutChart_();a.scope_.columns&&"tooltip"===a.scope_.columns[2].role&&(a.donutMouseOverEvent_=c.events.addListener(a.donutChart_,"onmouseover",b),a.donutMouseOutEvent_=c.events.addListener(a.donutChart_,"onmouseout",b));a.donutSelectEvent_=c.events.addListener(a.donutChart_,"select",b)})};
d.destroy_=function(){var a=this;this.donutChart_&&(this.donutChart_.clearChart(),this.globals_.applyGViz(function(b){return a.destoryGvizCallback_(b)}));this.donutChart_=null};d.destoryGvizCallback_=function(a){a.events.removeListener(this.donutMouseOverEvent_);a.events.removeListener(this.donutMouseOutEvent_);a.events.removeListener(this.donutSelectEvent_)};d.checkWindowSize_=function(){var a=this.globals_.getBreakpointRange();a!==this.previousWidthRange_&&(this.previousWidthRange_=a,this.renderTable_())};
ll.$inject=["$scope","$window","utilsService","globalsService"];var ml=function(a,b,c,e){this.scope_=a;this.windowElement=angular.element(b);this.utilsService=c;this.globalsService_=e;this.geoChart_=null};d=ml.prototype;d.redraw=function(){this.destroyScope();this.scope_.data&&this.scope_.data.length&&this.globalsService_.applyGViz(this.drawGVizGeoChartCallback_.bind(this))};
d.drawGVizGeoChartCallback_=function(a){var b=new a.DataTable;this.scope_.columns.forEach(function(c){return b.addColumn(c)});b.addRows(this.scope_.data);this.geoChart_=new a.GeoChart(this.scope_.gvizElement);this.scope_.regionClickListener=a.events.addListener(this.geoChart_,"regionClick",this.scope_.onRegionClick);this.verifyResolution_();this.geoChart_.draw(b,this.scope_.options)};
d.verifyResolution_=function(){if(this.scope_.options&&"provinces"===this.scope_.options.resolution){var a=this.scope_.options.region.toLocaleUpperCase();nl.find(function(b){return b===a})&&(this.scope_.options.resolution=void 0)}};d.destroyScope=function(){var a=this;this.geoChart_&&(this.globalsService_.applyGViz(function(b){return b.events.removeListener(a.scope_.regionClickListener)}),this.geoChart_.clearChart());this.geoChart_=null};
d.storeContainerWidth_=function(){this.scope_.containerWidth=this.scope_.element[0].getBoundingClientRect().width;return this.scope_.containerWidth};d.resizeHandler=function(){this.scope_.containerWidth!==this.storeContainerWidth_()&&this.scope_.redrawBind()};ml.$inject=["$scope","$window","utilsService","globalsService"];var nl=["TW"];var ol=function(a,b,c,e){this.scope_=a;this.utilsService_=e;this.globalsService_=b;this.editorialsService_=c;this.graphOptions=this.captionContainer_=this.visualizationContainer_=this.legendsContainer_=null};
ol.prototype.init=function(a,b,c,e,f){var g=this;this.containerElement=a;this.legendsContainer_=b;this.visualizationContainer_=c;this.captionContainer_=e;this.scope_.graphOptions=f;this.scope_.$watch(function(){return g.globalsService_.getBreakpointRange()},function(k,l){return g.setVisualizationDimensionsCallback_(k,l)});this.setVisualizationDimensions_(this.globalsService_.getBreakpointRange())};
ol.prototype.setVisualizationDimensions_=function(a){var b=this.legendsContainer_.getBoundingClientRect().height,c=this.captionContainer_.getBoundingClientRect().height;a=this.getVisualizationGraphHeight_(b,c,a);this.scope_.graphOptions=this.globalsService_.immutableMerge(this.scope_.graphOptions,{height:a,chartArea:{width:"100%",height:a}})};ol.prototype.setVisualizationDimensionsCallback_=function(a,b){a!==b&&this.setVisualizationDimensions_(a)};
ol.prototype.getVisualizationGraphHeight_=function(a,b,c){return this.editorialsService_.getFeaturedHomePageWidgetHeight(this.scope_.isMainEditorialItem)-a-b-(c===this.globalsService_.screenSizes.SMALL?16:24)};ol.$inject=["$scope","globalsService","editorialsService","utilsService"];var pl=function(a,b,c,e){this.scope_=a;this.timeout_=b;this.compile_=c;this.globalsService_=e};d=pl.prototype;d.resizeHandler=function(){var a=this;this.scope_.resizeTimer&&this.timeout_.cancel(this.scope_.resizeTimer);this.scope_.resizeTimer=this.timeout_(function(){return a.startPlacingLegendItems()},100)};
d.setInitialAlgorithmValues=function(){var a=this.globalsService_.isMobileMode?Infinity:3;this.maxNumberOfLines=this.scope_.maxLines||a;this.minItemsInRow=this.globalsService_.isMobileMode?1:2};d.getItemTitle_=function(a){return(a=this.scope_.items[this.scope_.topIndexes?this.scope_.topIndexes[a]:a])?a.value.text||a.value:"-"};
d.prepareItemsElements_=function(){var a=this,b=!this.globalsService_.isMobileMode,c=[];this.scope_.colors.forEach(function(e,f){c.push(a.createSafeLegendTemplate_(a.getItemTitle_(f),b,e))});return c};
d.createSafeLegendTemplate_=function(a,b,c){return"\n        <div class=\"fe-line-chart-legend-item\"'\n             ng-class=\"{'not-mobile-mode' : "+b+'}">\n          <div class="fe-line-chart-legend-circle"\n               ng-style="{\'background-color\': \''+c+'\'}">\n          </div>\n          <div class="fe-line-chart-legend-text" ng-non-bindable>\n            '+a+"\n          </div>\n        </div>"};
d.isDivOverlapping_=function(a,b){a=a[0].getBoundingClientRect();b=b[0].getBoundingClientRect();return a.right+24>b.right};d.adjustContainerHeight_=function(a){this.globalsService_.isMobileMode?a.addClass("auto-height"):a.removeClass("auto-height")};d.clearLegendItems_=function(a){Array.from(a.children()).forEach(function(b){return b.remove()})};d.createNewRow_=function(a){var b=angular.element(this.compile_('<div class="fe-line-chart-legend-row"></div>')(this.scope_));a.append(b);return b};
d.placeItems_=function(){var a=this;if(this.scope_.element.children()[0]){var b=angular.element(this.scope_.element.children()[0]);this.adjustContainerHeight_(b);this.clearLegendItems_(b);var c=0,e=this.createNewRow_(b),f=this.prepareItemsElements_();f.forEach(function(g){g=angular.element(a.compile_(g)(a.scope_));e.append(g);a.isDivOverlapping_(g,e)&&(c<a.maxNumberOfLines-1?e.children().length>a.minItemsInRow&&(g.remove(),e=a.createNewRow_(b),c++,e.append(g)):Math.ceil(f.length/a.minItemsInRow)!==
a.maxNumberOfLines&&(a.minItemsInRow++,a.placeItems_()))})}};d.startPlacingLegendItems=function(){this.setInitialAlgorithmValues();this.placeItems_()};d.destroyScope=function(){this.timeout_.cancel(this.scope_.resizeTimer);this.setInitialAlgorithmValues()};pl.$inject=["$scope","$timeout","$compile","globalsService"];var ql=function(a,b,c,e){this.scope_=a;this.window_=b;this.trackingService_=c;this.isPageRtl=e.isPageRtl()};d=ql.prototype;d.hasPreviousPage=function(){return 0<this.scope_.currentPage};d.hasNextPage=function(){return this.getFirstItemIndex()+this.scope_.maxItemsPerPage<this.scope_.totalNumberOfItems};
d.updateToNextPage=function(){this.hasNextPage()&&(this.scope_.currentPage++,this.trackingService_.trackEvent((this.scope_.paginationText?this.scope_.paginationText:"items")+" navigation","Forward",this.scope_.currentPage.toString()))};d.updateToPreviousPage=function(){this.hasPreviousPage()&&(this.scope_.currentPage--,this.trackingService_.trackEvent((this.scope_.paginationText?this.scope_.paginationText:"items")+" navigation","Backward",this.scope_.currentPage.toString()))};
d.getFirstItemIndex=function(){return this.scope_.carouselBehavior?this.scope_.currentPage:this.scope_.currentPage*this.scope_.maxItemsPerPage};d.getPaginationText=function(){var a=this.getFirstItemIndex(),b=Math.min(a+this.scope_.maxItemsPerPage,this.scope_.totalNumberOfItems);return this.getPaginationMsg_(this.scope_.paginationText,{firstItemNumber:a+1,lastItemNumber:b,totalItemsNumber:this.scope_.totalNumberOfItems},a+1===b)};
d.getPaginationMsg_=function(a,b,c){switch(a){case "queries":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" queries"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" queries"))),c?b:a;case "topics":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" topics"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" topics"))),c?b:a;case "cities":return a="Showing "+(b.firstItemNumber+("-"+
(b.lastItemNumber+(" of "+(b.totalItemsNumber+" cities"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" cities"))),c?b:a;case "regions":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" regions"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" regions"))),c?b:a;case "subregions":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" subregions"))))),b="Showing "+(b.firstItemNumber+(" of "+
(b.totalItemsNumber+" subregions"))),c?b:a;case "metros":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" metros"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" metros"))),c?b:a;case "examples":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" examples"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" examples"))),c?b:a;default:return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+
(" of "+(b.totalItemsNumber+" items"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" items"))),c?b:a}};ql.$inject=["$scope","$window","trackingService","bidiService"];var rl=function(a,b,c,e,f,g,k,l){this.scope_=a;this.document=b;this.window_=c;this.http_=e;this.utilsService_=f;this.globalsService_=g;this.geometry_=k;this.countiesStaticPathPrefix_=c.countiesStaticPathPrefix||"/trends/static";this.colors_=new l.Colors(a.palette);this.isNarrator_=/\/trends\//.test(window.location.pathname)};d=rl.prototype;
d.applyTooltip_=function(a){(this.scope_.tooltipConfig=a)&&a.data&&a.formattedValue&&Array.isArray(a.data.formattedValue)&&a.data.formattedValue.length&&(this.scope_.tooltipConfig.data.formattedValue=a.data.formattedValue[0]);this.scope_.$applyAsync()};
d.bindTooltipEvents=function(){var a=this.globalsService_.isTouchDevice(),b=this.applyTooltip_.bind(this),c=this.utilsService_.debounce(this.onTooltipEvent_.bind(this),10),e=this.onClickEvent_.bind(this),f=a?this.documentElement:this.scope_.containerElement,g=a?["click"]:["mouseover","mousemove","mouseout"];this.scope_.tooltipConfig=null;this.scope_.applyTooltip=this.utilsService_.throttle(b,50,{leading:!1});g.forEach(function(k){return f.bind(k,c)});f.bind("click",e);this.scope_.$on("$destroy",function(){g.forEach(function(k){return f.unbind(k,
c)});f.unbind("click",e)})};
d.fillColors=function(){if(this.scope_.svgContent){var a={},b=this.isFrance?sl:tl,c=this.colors_.getHexValue(this.scope_.defaultColor);this.scope_.isMultiHeatMap||this.scope_.isSvgMultiHeatMap?this.fillMultiHeatMap_(a,!!this.scope_.isSvgMultiHeatMap):this.scope_.data[0].value.values&&1<this.scope_.data[0].value.values.length?this.fillColorMap_(a):this.fillHeatMap_(a);this.scope_.svgContainerElement.innerHTML=this.scope_.svgContent.replace(b,function(e,f){e=a[f];return angular.isUndefined(e)?'class="region-data-less" fill="'+
c+'"':'class="region-'+e.index+'" fill="'+e.color+'"'})}};d.fillColorMap_=function(a){a=this.setDataByHighest_.bind(this,a);this.scope_.data.forEach(a)};d.fillHeatMap_=function(a){var b=this.scope_.legend[0].value.color;b=ul.test(b)?this.colors_.getColorRange(b):this.colors_.getColorRange(this.colors_.getHexValue(b));a=this.setDataByValue_.bind(this,a,b.startColorObj,b.endColorObj);this.scope_.data.forEach(a)};
d.setDataByHighest_=function(a,b,c){var e=this.colors_.getHexValue(this.scope_.legend[b.value.maxValueIndex].value.color);a[b.value.code]={color:e,index:c}};d.setDataByValue_=function(a,b,c,e,f){b=this.colors_.getRgbRatio(b,c,(e.value.values||e.value.value)[0]/100);a[e.value.code]={color:b,index:f}};d.fillMultiHeatMap_=function(a,b){this.fillColorMap_(a);a=this.setDataByValueAndHighest_.bind(this,a,b);this.scope_.data.forEach(a)};
d.setDataByValueAndHighest_=function(a,b,c,e){var f=this.colors_.getColorRange(a[c.value.code].color);b=this.colors_.getRgbRatio(f.startColorObj,f.endColorObj,(b?c.value.values:c.value.value)[c.value.maxValueIndex]/100);a[c.value.code]={color:b,index:e}};d.getStaticMapPath_=function(a){a+=".svg";return this.isNarrator_?this.countiesStaticPathPrefix_+"/"+a:"/static/framework/images/maps/"+a};
d.getTooltipPosition_=function(a){var b=this.geometry_.createRectFromDOM(this.scope_.containerElement[0]),c=this.scope_.centerTooltip?this.geometry_.createRectFromDOM(a.target).getCenterPoint():this.geometry_.createPoint(a.clientX,a.clientY),e;b.divide().some(function(f,g){if(f.isPointInside(c))return e=g,!0});return["top-left","top-right","bottom-left","bottom-right"][3-e]};
d.loadSvg=function(){var a=this;this.http_.get(this.getStaticMapPath_(this.scope_.mapName)).then(function(b){a.scope_.svgContent=b.data;a.fillColors()})};d.getRegionIndex_=function(a){var b=angular.element(a.target).attr("class"),c=/^region-([\d]+)$/;return c.test(b)&&this.scope_.containerElement[0].contains(a.target)?b.match(c)[1]:-1};
d.onTooltipEvent_=function(a){var b=this.getRegionIndex_(a);if(-1===b||"mouseout"===a.type)this.scope_.tooltipConfig&&this.scope_.applyTooltip(null);else{a.target.parentElement.appendChild(a.target);var c=this.scope_.containerElement[0].getBoundingClientRect(),e=this.getTooltipPosition_(a);a={data:this.scope_.data[b].value,position:e,top:a.clientY-c.top-("click"===a.type?this.window_.scrollY:0),left:a.clientX-c.left-("click"===a.type?this.window_.scrollX:0)};this.scope_.isMultiHeatMap&&(a.tooltip=
this.scope_.customTooltips[b]);this.scope_.applyTooltip(a)}};d.onClickEvent_=function(a){if(this.scope_.onRegionClick&&(a=this.getRegionIndex_(a),-1!==a))this.scope_.onRegionClick({region:this.scope_.data[a].value.code})};rl.$inject="$scope $document $window $http utilsService globalsService geometryFactory colorsFactory".split(" ");var tl=/id="(\d+|US-[a-z]{2})"/gi,sl=/id="(FR-\w{2})"/gi,ul=/^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\b$/i;var wl=function(){this.restrict="E";this.template='<div class="bar-chart-content"></div>';this.scope={data:"=?",options:"=?",watchOptions:"=?"};this.link=vl.bind(this.link,this)},vl,xl,yl;wl.prototype.redraw_=function(a){this.scopeDestroy_(a);a.data&&a.data.length&&xl.applyGViz(function(b){var c=google.visualization.arrayToDataTable(a.data);(a.barChart_=new b.ColumnChart(a.gvizElement)).draw(c,a.options)})};wl.prototype.scopeDestroy_=function(a){a.barChart_&&a.barChart_.clearChart();a.barChart_=null};
wl.prototype.link=function(a,b){var c=this,e=vl.debounce(vl.bindKey(this,"redraw_",a),50);a.element=b;a.gvizElement=b[0].firstChild;a.$watch("data",e);a.watchOptions&&a.$watch("options",e);yl.bind("resize",e);a.$on("$destroy",function(){c.scopeDestroy_(a)})};var zl=function(a,b,c,e){yl=angular.element(a);vl=c;xl=e;return new wl};t("$jscomp.scope.directiveInjector",zl,void 0);zl.$inject=["$window","$timeout","lodash","globalsService"];var Al,Bl,Cl=function(){this.restrict="A";this.scope={bidi:"="};this.template='<span ng-bind="bidiText"></span>';this.link=Al.bind(this.link,this)};Cl.prototype.link=function(a,b){b=Al.bind(this.updateDirectionality_,this,a,b);a.$watch("bidi",b)};Cl.prototype.updateDirectionality_=function(a,b){if(Al.isArray(a.bidi))b=Bl.arrayToWrappedTextHelper(a.bidi);else{var c=Bl.isRtlThreshold(a.bidi);b.attr("dir",c?"rtl":"ltr");b=a.bidi}a.bidiText=b};var Dl=function(a,b){Al=a;Bl=b;return new Cl};
t("$jscomp.scope.directiveInjector$jscomp$1",Dl,void 0);Dl.$inject=["lodash","bidiService"];var El,Fl=function(){this.restrict="A"};Fl.prototype.link=function(a,b,c){a.$watch(function(){return a.$eval(c.bindHtmlCompile)},function(e){b.html(e);El(b.contents())(a)})};var Gl=function(a){El=a;return new Fl};Gl.$inject=["$compile"];var Hl,Il,Jl,Kl,Ll,Ml=function(){this.restrict="E";this.templateUrl="/framework/views/carousel-directive.html";this.transclude=!0;this.scope={stepSize:"@",trackingName:"@",hideButtons:"=?",viewableItemsCount:"<"};this.replace=!0;this.isBrowserIE_=/(msie|trident)/gi.test(Hl.navigator.userAgent);this.isTouchDevice_=Il.isTouchDevice();this.currentLastViewableItemIndex_=0;this.link=Jl.bind(this.link,this)};d=Ml.prototype;
d.applyPagination=function(a){a.isMobile_=Il.isMobileMode;a.isTouch=Il.isTouchDevice();a.itemsCount=this.getItemsElements_(a,!1).length;var b=this.sumItemsWidth_(a,0,a.itemsCount);a.maxTransform=Math.max(b-a.element[0].offsetWidth,0);a.viewableItemsCount&&(a.xTransform=0,a.currentItemOffset=0)};d.applyTransform_=function(a,b,c){var e=this.isRtl()?1:-1;this.itemWidth=this.getItemsElements_(a)[0].offsetWidth;a.xTransform+=b*e*(c?this.itemWidth/2:this.itemWidth)};
d.isBelowMaxTransform=function(a){return Math.abs(a.xTransform)<a.maxTransform};
d.link=function(a,b){var c=this,e=angular.element(Hl),f=Jl.bindKey(this,"onResize_",a);Jl.defaults(a,{stepSize:1,currentItemOffset:0,xTransform:0});a.element=b;a.isBrowserIE=this.isBrowserIE_;a.isTouch=this.isTouchDevice_;a.applyPagination=Jl.bindKey(this,"applyPagination",a);a.isBelowMaxTransform=Jl.bindKey(this,"isBelowMaxTransform",a);a.navigate=Jl.bindKey(this,"navigate",a);e.bind("resize",f);a.isRtl=Jl.bindKey(this,"isRtl");a.$on("$destroy",function(){e.unbind("resize",f)});a.$watchGroup(["viewableItemsCount",
"currentItemOffset"],function(){a.viewableItemsCount&&(c.currentLastViewableItemIndex_=Math.ceil(a.viewableItemsCount)+a.currentItemOffset)});f()};d.getItemsElements_=function(a,b){var c=a.itemsElements;c&&!0!==b||(c=a.itemsElements=a.element.find("ng-transclude").children());return c};d.shouldNavigateToLastItem_=function(a,b){return this.currentLastViewableItemIndex_===a.itemsCount&&(!this.itemWidth||0===a.xTransform%this.itemWidth)&&a.viewableItemsCount<a.itemsCount&&1===b};
d.shouldNavigateToFirstItem_=function(a,b){return this.currentLastViewableItemIndex_-1===Math.ceil(a.viewableItemsCount)&&a.viewableItemsCount<a.itemsCount&&-1===b};d.navigate=function(a,b){if(0!=b)if(a.currentItemOffset+=b,Jl.bind(this.shouldNavigateToFirstItem_,this,a,b)())a.xTransform=0;else{var c=Jl.bind(this.shouldNavigateToLastItem_,this,a,b);c=a.viewableItemsCount&&c();this.applyTransform_(a,b,c)}};
d.onResize_=function(a){a.resizeTimeout&&Kl.cancel(a.resizeTimeout);a.resizeTimeout=Kl(a.applyPagination,25)};d.sumItemsWidth_=function(a,b,c){var e=this.getItemsElements_(a);a=Jl.range(b,c,b<c?1:-1);var f=0;Jl.forEach(a,function(g){f+=e[g].offsetWidth});return f};d.isRtl=function(){return"rtl"==angular.element(Ll[0].documentElement).attr("dir")};var Nl=function(a,b,c,e,f){Hl=a;Kl=b;Jl=c;Ll=e;Il=f;return new Ml};t("$jscomp.scope.directiveInjector$jscomp$2",Nl,void 0);
Nl.$inject=["$window","$timeout","lodash","$document","globalsService"];var Ol=function(){return{controller:ml,controllerAs:"ctrl",restrict:"E",template:"<div></div>",scope:{columns:"=",data:"=",options:"=",watchOptions:"=",onRegionClick:"=?"},link:Ol.prototype.link}};
Ol.prototype.link=function(a,b){var c=a.ctrl,e=c.resizeHandler.bind(c);a.element=b;a.gvizElement=b[0].firstChild;a.redrawBind=c.utilsService.debounce(c.redraw.bind(c),50);a.$watch("data",a.redrawBind);a.$watch("options",a.redrawBind,a.watchOptions);c.windowElement.bind("resize",e);a.$on("$destroy",function(){c.destroyScope();c.windowElement.unbind("resize",e)})};var Pl=function(){return{controller:ol,controllerAs:"ctrl",restrict:"A",scope:{graphOptions:"=",isMainEditorialItem:"="},link:function(a,b){return Pl.prototype.link(a,b)}}};
Pl.prototype.link=function(a,b){var c=a.ctrl,e=h(Array.from(b.children())),f=e.next().value,g=e.next().value,k=e.next().value,l=c.init.bind(c);a.$watch(function(){return[f,g,k].map(function(n){return n.getBoundingClientRect().height})},function(n,p){angular.equals(n,p)||l(b,f,g,k,a.graphOptions)},!0);a.$watch("isMainEditorialItem",function(){return l(b,f,g,k,a.graphOptions)})};var Ql,Rl,Sl,Tl=function(){this.restrict="E";this.templateUrl="/framework/views/help_icon.html";this.scope={showAnnotation:"=?",data:"="};this.link=Ql.bind(this.link,this)};Tl.prototype.showDialog_=function(a){Rl._gaq.push(["_trackEvent","Open dialog","Help",a.data.title]);Sl.show({clickOutsideToClose:!0,scope:a,preserveScope:!0,templateUrl:"/framework/views/help_dialog.html"})};Tl.prototype.cancelDialog_=function(){Sl.hide()};
Tl.prototype.link=function(a){a.openDialog=Ql.bindKey(this,"showDialog_",a);a.cancelDialog=Ql.bindKey(this,"cancelDialog_",a)};var Ul=function(a,b,c){Ql=a;Sl=b;Rl=c;return new Tl};t("$jscomp.scope.directiveInjector$jscomp$3",Ul,void 0);Ul.$inject=["lodash","$mdDialog","$window"];var Vl=function(){return{controller:pl,controllerAs:"ctrl",restrict:"E",template:'<div class="fe-line-chart-legend"></div>',scope:{colors:"=",items:"=",topIndexes:"=?",maxLines:"<?"},link:function(a,b){return Vl.prototype.link(a,b)}}};
Vl.prototype.link=function(a,b){var c=a.ctrl,e=c.startPlacingLegendItems.bind(c),f=c.resizeHandler.bind(c);a.element=b;angular.element(b).on("resize",f);e();a.$watchGroup(["items","colors"],e,!0);a.$on("$destroy",function(){c.destroyScope();angular.element(b).off("resize",f)})};var Xl=function(){this.restrict="E";this.templateUrl="/framework/views/line_chart_directive.html";this.draggedTooltipElement=void 0;this.draggedTooltipInitialPosition={x:0,y:0};this.draggedTooltipDroppedPosition={x:0,y:0};this.scope={data:"=",options:"=",xaxisLabelsArray:"=",widgetCsv:"=",watchOptions:"=",tooltipRow:"=",onSelect:"&?"};this.link=Wl.bind(this.link,this)},Wl,Yl,Zl,$l,am=["right","bottom","left","top"];d=Xl.prototype;
d.redraw_=function(a){var b=this;this.scopeDestroy_(a);a.data&&a.data.length&&Yl.applyGViz(function(c){var e=c.arrayToDataTable(a.data);b.replaceChartDataValues_(e,-1,null);b.setCertaintyForMinorChangePoints_(e);c.events.removeListener(a.selectListener_);a.lineChart_=new c.LineChart(a.gvizElement_);c.events.addListener(a.lineChart_,"ready",function(){var f=angular.element(a.gvizElement_).find("path");Wl.each(f,function(g){g.getAttribute("stroke-dasharray")&&(g.style.strokeDasharray=4)})});a.lineChart_.draw(e,
a.options);a.onSelect?(b.setListenerToTVTooltipSelect_(a,c),a.tooltipRow||a.lineChart_.setSelection([])):a.xaxisLabelsArray&&(a.displayLabels=b.getDisplayLabels_(a),b.setAnnotations_(a));c=Wl.bindKey(b,"setSelectListener_",a,c);Zl(c,100)})};d.setAnnotations_=function(a){a.selectionArr=[];Wl.forEach(a.widgetCsv.getValues(),function(b,c){for(var e=1;e<=a.options.colors.length;e++)b["tooltip"+e]&&a.selectionArr.push({column:e+2*(e-1),row:c})})};
d.setSelectListener_=function(a,b){var c=Wl.bind(this.activateSelections_,this,a);a.selectListener_=b.events.addListener(a.lineChart_,"select",c);a.chartRenderWaitTimer_&&Zl.cancel(a.chartRenderWaitTimer_);a.chartRenderWaitTimer_=Zl(c,0)};d.setListenerToTVTooltipSelect_=function(a,b){a.selectListener_=b.events.addListener(a.lineChart_,"select",function(){a.onSelect(a.lineChart_.getSelection()[0])})};
d.scopeDestroy_=function(a){a.chartRenderWaitTimer_&&Zl.cancel(a.chartRenderWaitTimer_);a.lineChart_&&a.lineChart_.clearChart();a.lineChart_=null};
d.drop_=function(a,b){this.draggedTooltipDroppedPosition={x:b.clientX,y:b.clientY};b=this.draggedTooltipDroppedPosition.x-this.draggedTooltipInitialPosition.x;var c=this.draggedTooltipDroppedPosition.y-this.draggedTooltipInitialPosition.y,e=this.draggedTooltipElement.childNodes[1].getAttribute("name").replace("tooltip_","").split("_");a.widgetCsv.items[e[0]].value.draggedPos=[""!==this.draggedTooltipElement.style.left?parseInt(this.draggedTooltipElement.style.left)+b:b,""!==this.draggedTooltipElement.style.top?
parseInt(this.draggedTooltipElement.style.top)+c:c];a.$apply()};d.drag_=function(a,b){this.draggedTooltipElement=b.srcElement;this.draggedTooltipInitialPosition={x:b.clientX,y:b.clientY}};
d.activateSelections_=function(a){a.lineChart_&&(a.tooltipRow?a.lineChart_.setSelection([{column:1,row:a.tooltipRow}]):a.lineChart_.setSelection(a.selectionArr),Wl.forEach(a.displayLabels,function(b){var c=document.createElement("div"),e=a.element[0].querySelector(".tooltip_"+b.index);if(e){var f=e.parentElement;Wl.isUndefined(b.tooltipPos)||("string"!==typeof b.tooltipPos||Wl.isEmpty(b.tooltipPos)||(b.tooltipPos=JSON.parse(b.tooltipPos.replace(";",","))),f.style.left=b.tooltipPos[0]+"px",f.style.top=
b.tooltipPos[1]+"px");b=e.getAttribute("data-position");c.className="triangle "+b;e.appendChild(c)}}))};d.getDisplayLabels_=function(a){var b=a.lineChart_.getChartLayoutInterface(),c=[],e=a.widgetCsv.getValues();Wl.forEach(a.xaxisLabelsArray,function(f,g){if(f){var k;e[g].tooltip1?k="1":e[g].tooltip2?k="2":e[g].tooltip3?k="3":e[g].tooltip4?k="4":e[g].tooltip5&&(k="5");c.push({left:b.getXLocation(g),top:b.getYLocation(e[g]["y"+k]),text:f,index:g+"_"+k,tooltipPos:e[g].draggedPos})}});return c};
d.setNextPosition_=function(a){3===a.position&&(a.position=-1);var b=am[a.position+1];a.position+=1;var c="top"===b||"right"===b?1:-1;b="top"===b||"bottom"===b?93:107;a.left+=b*c;a.right+=b*c};
d.handleTooltipClick_=function(a,b){var c=b.getAttribute("name").replace("tooltip_","").split("_"),e=a.widgetCsv.items[c[0]],f=Wl.indexOf(am,e.value["tooltipPos"+c[1]]),g=angular.element(a.gvizElement_).find("svg")[0].getBoundingClientRect(),k=b.getBoundingClientRect();b=!1;f={left:k.left,right:k.right,position:f};do this.setNextPosition_(f),g.left<f.left&&g.right>f.right&&(b=!0);while(!b);e.value["tooltipPos"+c[1]]=am[f.position];a.$apply()};
d.replaceChartDataValues_=function(a,b,c){for(var e=0;e<a.getNumberOfRows();e++)for(var f=0;f<a.getNumberOfColumns();f++)a.getValue(e,f)===b&&a.setValue(e,f,c)};d.setCertaintyForMinorChangePoints_=function(a){var b=a.getNumberOfColumns(),c=7;if(!(c>=b||"certainty"!==a.getColumnProperties(c).role)){b=(b-4)/4;for(var e=4,f=a.getNumberOfRows()-1,g=0;g<b;g++)a.getValue(f,c)||18>Math.abs(a.getValue(f,e)-a.getValue(f-1,e))&&a.setValue(f,c,!0),c+=4,e+=4}};
d.link=function(a,b){var c=this;this.scope_=a;a.element=b;a.gvizElement_=b[0].firstChild;a.chartRenderWaitTimer_=null;a.selectionArr=null;a.redrawBind=Wl.debounce(Wl.bindKey(this,"redraw_",a),50);a.$watch("data",a.redrawBind);a.watchOptions&&a.$watch("options",a.redrawBind);var e=function(){return a.redrawBind(a)};$l.on("resize",e);var f=function(){return c.scopeDestroy_(a)};a.$on("$destroy",f);a.handleTooltipClick=Wl.bind(this.handleTooltipClick_,this,a);a.drop=function(){return c.drop_(a)};a.drag=
function(){return c.drag_(a)};a.allowDrop=function(g){return g.preventDefault()};a.$on("$destroy",function(){f();$l.off("resize",e)})};var bm=function(a,b,c,e){$l=angular.element(a);Zl=b;Wl=c;Yl=e;return new Xl};t("$jscomp.scope.directiveInjector$jscomp$4",bm,void 0);bm.$inject=["$window","$timeout","lodash","globalsService"];var cm,dm,em,fm,gm,hm=function(){this.restrict="E";this.scope={item:"=",listItemsV2:"=",listTitle:"<?"};this.templateUrl="/framework/views/list-item-actions.html";this.link=this.link_.bind(this)};hm.prototype.createSearchLink_=function(a){var b=a.listItemsV2.getValues().find(function(c){return c.title===a.item});return encodeURI("https://www.google."+this.domainSuffix+"/search?q="+cm.getItemExploreQuery(b,a.item))};
hm.prototype.link_=function(a){this.domainSuffix=dm.getDomainSuffix(em.host());a.listActions={};a.globals=dm;a.menuPosition=fm.isPageRtl()?"target-left":"target-right";var b=a.listItemsV2.getValues().find(function(c){return c.title===a.item});a.exploreLink=gm.createExploreLink(cm.getItemExploreQuery(b,a.item));a.searchLink=this.createSearchLink_(a);a.isExploreLinkAvailable=cm.shouldDisplayListsExploreLinks()};var im=function(a,b,c,e,f){dm=a;em=b;gm=c;fm=e;cm=f;return new hm};
t("$jscomp.scope.directiveInjector$jscomp$5",im,void 0);im.$inject=["globalsService","$location","tpYisService","bidiService","yisService"];var jm,km,lm,mm,nm=function(){this.restrict="E";this.templateUrl="/framework/views/low-search-volume-filter-directive.html";this.scope={filterToggleHandler:"&",isFilterVolumeChecked:"=",shouldDisplayLowFilterCheckbox:"="};this.link=jm.bind(this.link,this)};
nm.prototype.link=function(a){a.getHeaderDirection=function(){return km.htmlDir_};a.onVolumeFilterChange=function(b){a.filterToggleHandler()(b);lm._gaq.push(["Low Search Volume Filter","Checkbox",b])};a.globalsService=mm;a.$watch("globalsService.isMobileMode",function(b){a.isMobileMode=b},!0)};var om=function(a,b,c,e){jm=a;km=b;mm=c;lm=e;return new nm};t("$jscomp.scope.directiveInjector$jscomp$6",om,void 0);om.$inject=["lodash","bidiService","globalsService","$window"];var pm,qm,rm=function(){this.restrict="E";this.scope={colors:"=",legend:"=",isSvgMap:"=",tooltipTextLabel:"@",defaultColor:"@",enableTooltip:"=?",centerTooltip:"=?",isEditor:"=",isColorChart:"=",showLegend:"=",isMultiHeatMap:"=?",columns:"=",data:"=",chartRows:"=",options:"=",onRegionClick:"&?",shouldDisplayLowFilterCheckbox:"=",isSideBySide:"=?",customTooltips:"=?",watchOptions:"=?"};this.template='<ng-include src="dynamicTemplateUrl"></ng-include>';this.link=pm.bind(this.link,this)};
rm.prototype.link=function(a){this.formatDataForSVG(a);var b=pm.bind(this.getTemplate,this,a);a.$watch("isSvgMap",b);a.globalsService=qm;a.$watch("globalsService.isMobileMode",function(c){a.isMobileMode=c},!0)};rm.prototype.getTemplate=function(a){a.dynamicTemplateUrl="/framework/views/"+(a.isSvgMap?"svg_map_template.html":"geo_chart_template.html")};rm.prototype.formatDataForSVG=function(a){pm.forEach(a.data,function(b){b.value.values=[b.value.value];b.value.code=b.value.geoCode})};
var sm=function(a,b){pm=a;qm=b;return new rm};t("$jscomp.scope.directiveInjector$jscomp$7",sm,void 0);sm.$inject=["lodash","globalsService"];var tm,um,vm,wm=function(){var a=this,b=this.controller;this.restrict="E";this.template="<ng-transclude></ng-transclude>";this.transclude=!0;this.scope={offset:"=?",onTrigger:"&"};this.controller=function(c){return b.call(a,c)};this.controller.$inject=["$scope"];this.link=tm.bind(this.link,this)};wm.prototype.calcScrollOffset_=function(a){var b=this.getWindowProperties_("innerHeight"),c=a.element[0].getBoundingClientRect();return Math.max(c.top-b.innerHeight+a.offset,0)};
wm.prototype.controller=function(a){tm.defaults(a,{offset:0})};wm.prototype.controller.$inject=["$scope"];wm.prototype.getWindowProperties_=function(a){return tm.pick.apply(tm,[um].concat(arguments))};wm.prototype.link=function(a,b){a.element=b;a.onScrollBind=tm.throttle(tm.bindKey(this,"onScroll_",a),25);vm.bind("scroll",a.onScrollBind);a.onScrollBind();a.$on("$destroy",function(){vm.unbind("scroll",a.onScrollBind)})};
wm.prototype.onScroll_=function(a){if(0===this.calcScrollOffset_(a)){var b=a.onTrigger();a.$applyAsync();b&&b["finally"]&&b["finally"](a.onScrollBind)}};var xm=function(a,b,c){vm=a;um=b;tm=c;return new wm};t("$jscomp.scope.directiveInjector$jscomp$8",xm,void 0);xm.$inject=["$document","$window","lodash"];var ym,zm=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/framework/views/sparkline-directive.html";this.transclude=!0;this.scope={color:"@?",drawArea:"=",height:"@?",serviceBind:"&?",thickness:"@?",ticks:"=?",width:"@?"};this.controller=function(c){return b.call(a,c)};this.controller.$inject=["$scope"]};
zm.prototype.controller=function(a){var b=a.serviceBind&&a.serviceBind(),c=ym.bindKey(this,"generate_",a);ym.defaults(a,{color:"#4284f3",height:22,thickness:2,width:100});b&&(b.then(c),a.$on("$destroy",b.cancel));a.$watch("ticks",c)};zm.prototype.controller.$inject=["$scope"];zm.prototype.createSVGPath_=function(a){var b=parseInt(a[0].time),c=parseInt(a[a.length-1].time);return ym.map(a,function(e){var f=(parseInt(e.time)-b)/(c-b);return[f?200*f:0,",",100-e.value].join("")}).join("L")};
zm.prototype.generate_=function(a,b){a.svgPath=ym.isEmpty(b)?"":this.createSVGPath_(b)};var Am=function(a){ym=a;return new zm};t("$jscomp.scope.directiveInjector$jscomp$9",Am,void 0);Am.$inject=["lodash"];var Bm=function(){return{controller:rl,controllerAs:"ctrl",restrict:"E",templateUrl:"/framework/views/svg_map_directive.html",scope:{mapName:"@",colors:"=",legend:"=",tooltipText:"@",data:"=",defaultColor:"@",enableTooltip:"=?",centerTooltip:"=?",isEditor:"=",onRegionClick:"&?",isMultiHeatMap:"=?",isSvgMultiHeatMap:"=?",customTooltips:"=?",options:"=?"},link:Bm.prototype.link}};
Bm.prototype.link=function(a,b){var c=a.ctrl;c.isFrance="france"===a.mapName;c.documentElement=angular.element(c.document);a.tooltipTemplate=a.isMultiHeatMap?"/framework/views/svg_multi_heat_map_tooltip.html":"/framework/views/"+(c.isFrance?"region_tooltip_geo_chart.html":"region_tooltip.html");a.containerElement=b;a.svgContainerElement=b[0].querySelector(".region-svg-container");a.$watch("mapName",c.loadSvg.bind(c));a.enableTooltip&&c.bindTooltipEvents();a.isEditor&&(b=c.fillColors.bind(c),a.$watchGroup(["data",
"legend","isMultiHeatMap","isSvgMultiHeatMap"],b,!0))};var Cm,Dm,Em=function(){this.restrict="A";this.priority=1;this.scope={track:"=?",trackType:"@?"};this.link=Cm.bind(this.link,this)};Em.prototype.link=function(a,b){var c=a.track||[];if("load"==a.trackType)a.$applyAsync(function(){Dm.trackEvent.apply(Dm,a.track)});else{for(var e=Cm.bindKey(this,"onClick_",c,a),f=c.length;4>f;f++)c[f]=void 0;b.bind("click",e)}};
Em.prototype.onClick_=function(a,b,c){var e=c.currentTarget||c.target,f=!!e.href,g=f?"trackEventAndRedirect":"trackEvent",k=a.concat(c);/A/i.test(e.tagName)&&!f&&console.warn("Due to conflict with htmlAnchorDirective anchor links can't have a track attribute without href attribute.");b.$apply(function(){c.defaultPrevented||Dm[g].apply(Dm,k)})};var Fm=function(a,b){Cm=a;Dm=b;return new Em};t("$jscomp.scope.directiveInjector$jscomp$10",Fm,void 0);Fm.$inject=["lodash","trackingService"];var Gm,Hm=function(){this.restrict="E";this.templateUrl="/framework/views/tv-broadcast-directive.html";this.transclude=!0;this.scope={mainTitle:"@",subTitle:"@"};this.link=Gm.bind(this.link,this)};Hm.prototype.markBold=function(a){return a.replace(/#([^#]+)#/g,"<b>$1</b>")};Hm.prototype.link=function(a){a.markBold=Gm.bindKey(this,"markBold")};var Im=function(a){Gm=a;return new Hm};t("$jscomp.scope.directiveInjector$jscomp$11",Im,void 0);Im.$inject=["lodash"];var Jm,Km,Lm=function(){this.restrict="E";this.scope={font:"=",text:"@",displayedText:"="};this.template="<div>{{displayedText}}</div>";this.canvasElement_=null;this.link=Jm.bind(this.link,this)};d=Lm.prototype;d.link=function(a,b){var c=angular.element(Km);this.scope.displayedText=a.text;this.scope.text=a.text;this.scope.font=a.font;this.canvasElement_=this.createCanvas_();b=Jm.bindKey(this,"setTitleWithEllipsis_",a,b);a.$watchGroup(["text","font"],b,!0);c.bind("resize",b)};
d.setTitleWithEllipsis_=function(a,b){a.displayedText=this.getTitleWithEllipsis_(a,b)};d.createCanvas_=function(){var a=document.createElement("canvas");document.body.appendChild(a);var b=a.getContext("2d");b.font=this.scope.font;document.body.removeChild(a);return b};d.getTextWidth_=function(a,b){this.canvasElement_.font=b.font;return this.canvasElement_.measureText(a).width};
d.getTitleWithEllipsis_=function(a,b){var c=a.text,e=b[0].clientWidth,f=2*e,g=this.getTextWidth_("...",a);b=this.getTextWidth_(c,a);if(b<=e)return c;e=this.calculateFirstLineBreakDelta_(c,e,a);if(b+e<=f)return c;var k=c.length;for(f=f-g-50;b+e>=f&&0<k;)k--,c=c.substring(0,k),b=this.getTextWidth_(c,a);return c+"..."};d.calculateFirstLineBreakDelta_=function(a,b,c){var e=this,f=0,g="";Jm.forEach(a.split(" "),function(k){if(e.getTextWidth_(g+" "+k,c)>b)return f=b-e.getTextWidth_(g,c),!1;g+=k+" "});return f};
var Mm=function(a,b){Km=b;Jm=a;return new Lm};t("$jscomp.scope.directiveInjector$jscomp$12",Mm,void 0);Mm.$inject=["lodash","$window"];var Nm,Om,Pm,Qm,Rm,Sm=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/framework/views/widget-directive.html";this.scope={id:"=?",template:"@",type:"@",version:"@",fields:"=",apis:"=",isEditor:"=",onLoad:"&?",onEvent:"&?",isScrolledInto:"=?",storyId:"=?",yisYear:"=?",isExpandedList:"<?",isPrefetched:"@?",storyTitle:"=?",storyTitleArray:"=?",storyCountry:"=?",geo:"=?",storyTimeRange:"=?",storyNumberOfItems:"=?",showModePicker:"=?",widgetIsCurated:"=?",timeRange:"=?",embed:"=",
share:"=","export":"=",genericAction:"=",palette:"=",forcedColor:"@",helpDialog:"=?",exploreQuery:"=?",exploreUrl:"@",paginationResolutionText:"=?",isFranceMetro:"=?",isSideBySide:"=?",widgetName:"=?",isMultiHeatMap:"=?",showMultiHeatMapMessage:"=?",isMainEditorialItem:"=?"};this.controller=function(c,e){return b.call(a,c,e)};this.controller.$inject=["$scope","$attrs"];this.link=this.link_.bind(this)};
Sm.prototype.activateApis_=function(a){return Nm.forIn(a.apis,function(b){return a.ctrl.widget.activateAPI(b.name,b.url,b.params,b.autoRefreshTimeout||b.auto_refresh_timeout)})};Sm.prototype.link_=function(a,b){window.embedWidgetGlobals=window.embedWidgetGlobals||{};a.exploreUrl=window.embedWidgetGlobals.exploreUrl;a.widgetDirectiveElement=b;this.onScrollTo(a)};
Sm.prototype.controller=function(a,b){"timeline_chart"===a.type?a.type="horserace_chart":"county_chart"===a.type&&(a.type="svg_map");var c=this.getWidgetController_(a);a.ctrl=c;a.widget=c.widget;(a.isPrefetched||a.isScrolledInto)&&this.activateApis_(a);Nm.defaults(a,{isScrolledInto:!1});angular.isUndefined(a.storyNumberOfItems)&&(a.storyNumberOfItems=Infinity);a.getHeaderDirection=this.getHeaderDirection_.bind(this,a);a.getEmbedHeaderText=this.getEmbedHeaderText.bind(this,a);a.getEmbedLogoLink=this.getEmbedLogoLink.bind(this,
a);a.getWidgetTemplate=this.getWidgetTemplate_.bind(this,a);a.onScrollToBind=this.onScrollTo.bind(this,a);a.triggerEvent=this.triggerEvent.bind(this,a);if(b.onLoad)a.onLoad({$scope:a,controller:c});return c};Sm.prototype.controller.$inject=["$scope","$attrs"];d=Sm.prototype;d.getHeaderDirection_=function(a){if(!a.widget.fields.topic)return"auto";var b=Om.isRtlThreshold(a.widget.fields.topic.value||"");return a.widgetIsCurated?b?"rtl":"ltr":"auto"};
d.getEmbedHeaderText=function(a,b){var c=[];a.widget.fields.topic&&a.widget.fields.topic.value!==a.storyTitle&&c.push(a.widget.fields.topic.value);b&&(a.storyCountry&&c.push(a.storyCountry),a.storyTimeRange&&c.push(a.storyTimeRange));a.exploreUrl&&(a=(a=a.exploreUrl.match(/gprop=(.*)&q=/))?a[1]:"",c.push(this.getProperty(a)));return c.join(". ")+"."};
d.getProperty=function(a){switch(a){case "images":return"Image Search";case "news":return"News Search";case "froogle":return"Google Shopping";case "youtube":return"YouTube Search";default:return"Web Search"}};d.getEmbedLogoLink=function(a){if(a.yisYear){var b="yis/"+a.yisYear;a.geo&&(b+="/"+a.geo);a.id&&(b+="#"+a.id);return b}return a.storyId?"story/"+a.storyId:a.exploreUrl?"explore?"+a.exploreUrl:""};d.createControllerByName_=function(a,b){return Pm(a,{$scope:b})};
d.getWidgetController_=function(a){var b=Qm.titleizeString(Qm.camelizeString(a.type));b=this.createControllerByName_(b+"V"+(parseInt(a.version)||1)+"Ctrl",a);a.fields&&b.widget.resetFields(a.fields);b.widget.templateUrl=this.getWidgetTemplate_(a);return b};d.getWidgetTemplate_=function(a){var b=a.type.replace(/[^-_a-z0-9]/ig,""),c=parseInt(a.version,10)||1;a=a.template.replace(/[^-_a-z0-9]/ig,"");return Qm.underscoreString("/widgets_library/"+b+"_v"+c+"/views/"+a+".html")};
d.loadingContent_=function(){this.scope.isPrefetched?(this.scope.isScrolledInto=!0,this.that.activateApis_(this.scope)):this.that.isWidgetInViewPort_(this.element[0])&&!this.scope.isScrolledInto&&(this.scope.isScrolledInto=!0,this.that.activateApis_(this.scope))};d.onScrollTo=function(a){this.onAfterRendering_(this.loadingContent_.bind({that:this,scope:a,element:a.widgetDirectiveElement}))};d.onAfterRendering_=function(a){"function"===typeof a&&requestAnimationFrame(a)};
d.isWidgetInViewPort_=function(a){var b=a.parentNode.parentNode.getAttribute("template");return!b||/featured/.test(b)||/explore/.test(b)?!0:Rm.isInView(a)};d.triggerEvent=function(a,b,c,e){a.onEvent&&(b=Nm.defaults({name:b,widget:Nm.pick(a,"type","version","template"),ctrlKey:e&&e.ctrlKey},c),!1===a.onEvent({event:b})&&e&&e.preventDefault&&e.preventDefault())};var Tm=function(a,b,c,e,f){Pm=a;Nm=b;Qm=c;Om=e;Rm=f;return new Sm};t("$jscomp.scope.directiveInjector$jscomp$13",Tm,void 0);
Tm.$inject=["$controller","lodash","helpersFactory","bidiService","globalsService"];var Um,Vm,Wm,Xm,Ym=function(){this.restrict="E";this.MIN_SCREEN_WIDTH_=1024;this.templateUrl=function(a,b){return"/framework/views/"+("false"===b.isActionMenu?"widget-actions-flatten-yis.html":"widget-actions-flatten.html")};this.isTouchDevice=Um.isTouchDevice();this.link=Vm.bind(this.link,this)};d=Ym.prototype;d.showActionButton_=function(){return Um.isDesktopMode&&Wm.screen.width>=this.MIN_SCREEN_WIDTH_};d.showFlattenMenu_=function(a){return!a||Um.isDesktopMode};
d.setupClickOutside_=function(a){a.widgetActions.menuOpen?this.closeActionsMenu_(a):a.widgetActions.menuSetup||(a.widgetActions.menuOpen=!0,a.widgetActions.menuSetup=!0,Xm.bind("click",a.clickOutsideHandler))};d.clickOutsideHandler_=function(a){a.widgetActions.menuSetup?a.widgetActions.menuSetup=!1:(this.closeActionsMenu_(a),a.$digest())};d.closeActionsMenu_=function(a){a.widgetActions.menuOpen=!1;Xm.unbind("click",a.clickOutsideHandler)};d.scopeDestroy_=function(a){Xm.unbind("click",a.clickOutsideHandler)};
d.link=function(a){a.widgetActions={};a.globals=Um;a.listTitle=a.fields.topic.value;a.setupClickOutside=Vm.bindKey(this,"setupClickOutside_",a);a.clickOutsideHandler=Vm.bindKey(this,"clickOutsideHandler_",a);a.showActionButton=Vm.bindKey(this,"showActionButton_",a);a.showFlattenMenu=Vm.bindKey(this,"showFlattenMenu_");a.$on("$destroy",Vm.bindKey(this,"scopeDestroy_",a))};var Zm=function(a,b,c,e,f,g,k){Xm=a;Vm=b;Um=k.getYisYear()?c:e;Wm=g;return new Ym};
t("$jscomp.scope.directiveInjector$jscomp$14",Zm,void 0);Zm.$inject="$document lodash globalsYisService globalsService $timeout $window tpYisService".split(" ");var $m,an=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/framework/views/widget_loader_template.html";this.scope={templateUrl:"=",identifier:"=",baseURL:"=baseUrl",isEditor:"=",onLoad:"&?",onSuccess:"&?"};this.controller=function(c,e){return b.call(a,c,e)};this.controller.$inject=["$scope","$attrs"]};
an.prototype.controller=function(a){var b=$m.get(a.identifier,{baseURL:a.baseURL});a.isQuerying=!0;b.then(function(c){c=c.data;a.model=c;if(a.onSuccess)a.onSuccess({model:c})})["finally"](function(){return a.isQuerying=!1})};an.prototype.controller.$inject=["$scope"];var bn=function(a,b,c){$m=c;return new an};t("$jscomp.scope.directiveInjector$jscomp$15",bn,void 0);bn.$inject=["$controller","lodash","widgetService"];var dn=function(a){this.palette_=a||cn;this.hexValues_=this.paletteDict_=null};t("$jscomp.scope.Colors",dn,void 0);dn.$inject=["palette"];
dn.SOCIAL_PALETTE=[{name:"Blue",hexvalue:"#4285F4"},{name:"Red",hexvalue:"#DB4437"},{name:"Yellow",hexvalue:"#F4B400"},{name:"Green",hexvalue:"#0F9D58"},{name:"Purple",hexvalue:"#AB47BC"},{name:"Teal",hexvalue:"#00ACC1"},{name:"Orange",hexvalue:"#FF7043"},{name:"Olive",hexvalue:"#9E9D24"},{name:"Dark Blue",hexvalue:"#5C6BC0"},{name:"Pink",hexvalue:"#F06292"},{name:"Dark Green",hexvalue:"#00796B"},{name:"Cherry",hexvalue:"#C2185B"},{name:"Grey 1",hexvalue:"#424242"},{name:"Grey 2",hexvalue:"#616161"},
{name:"Grey 3",hexvalue:"#757575"}];dn.SOCIAL_PALETTE_12=[{name:"Blue",hexvalue:"#4285F4"},{name:"Red",hexvalue:"#DB4437"},{name:"Yellow",hexvalue:"#F4B400"},{name:"Green",hexvalue:"#0F9D58"},{name:"Purple",hexvalue:"#AB47BC"},{name:"Dark Blue",hexvalue:"#3D4EB8"},{name:"Olive",hexvalue:"#199788"},{name:"Orange",hexvalue:"#FC5608"},{name:"Dark Purple",hexvalue:"#6734BA"},{name:"Light Blue",hexvalue:"#20BCD6"},{name:"Grey",hexvalue:"#898989"},{name:"Black",hexvalue:"#1D1D1D"}];
var cn=[{name:"PALETTE_COLOR_1",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_2",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_3",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#E0E0E0"},{name:"PALETTE_COLOR_7",caption:"Blue Grey",hexvalue:"#607D8B"},{name:"PALETTE_COLOR_8",caption:"Deep Orange",hexvalue:"#FF5722"}];
dn.DEFAULT_PALETTE=cn;
var en=[{name:"PALETTE_COLOR_1",caption:"Blue",hexvalue:"#2196F3"},{name:"PALETTE_COLOR_2",caption:"Red",hexvalue:"#F44336"},{name:"PALETTE_COLOR_3",caption:"Yellow",hexvalue:"#FFCA28"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#43A047"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#9C27B0"},{name:"PALETTE_COLOR_6",caption:"Indigo",hexvalue:"#303F9F"},{name:"PALETTE_COLOR_7",caption:"Light Blue",hexvalue:"#20BCD6"},{name:"PALETTE_COLOR_8",caption:"Light green",hexvalue:"#8BC34A"},{name:"PALETTE_COLOR_9",
caption:"Orange",hexvalue:"#FB8C00"},{name:"PALETTE_COLOR_10",caption:"Pink",hexvalue:"#FF80AB"},{name:"PALETTE_COLOR_11",caption:"Blue Grey",hexvalue:"#607D8B"},{name:"PALETTE_COLOR_12",caption:"Black",hexvalue:"#000000"},{name:"NO_DATA",caption:"Grey",hexvalue:"#E0E0E0"}];dn.DEFAULT_PALETTE_12=en;dn.OLYMPICS_PALETTE=[{name:"White",hexvalue:"#FFFFFF"},{name:"Blue",hexvalue:"#4285F4"},{name:"Red",hexvalue:"#EA4335"},{name:"Yellow",hexvalue:"#FABB05"},{name:"Green",hexvalue:"#34A853"}];
dn.TV_PALETTE=en;dn.WIDGET_BACKGROUND_COLOR="#FDFDFD";dn.GEO_MAP_DEFAULT_COLOR="#CFCFCF";
var fn={Blue:"PALETTE_COLOR_1",Red:"PALETTE_COLOR_2",Green:"PALETTE_COLOR_3",Yellow:"PALETTE_COLOR_4",Purple:"PALETTE_COLOR_5",Grey:"PALETTE_COLOR_6","Blue Grey":"PALETTE_COLOR_7"},gn={"#4285F4":["#B2CDF9","#0058EB"],"#DB4437":["#F0C4C0","#C11203"],"#F4B400":["#EFD8A6","#CF8D00"],"#0F9D58":["#81C784","#2E7D32"],"#AB47BC":["#DDC4E1","#751086"],"#3F51B5":["#C5CAE9","#303F9F"],"#FF5722":["#FFCCBC","#E64A19"],"#009688":["#B2DFDB","#00796B"],"#673AB7":["#D1C4E9","#512DA8"],"#00BCD4":["#B2EBF2","#0097A7"],
"#607D8B":["#8FA4AF","#364750"]};dn.COLOR_RANGES=gn;d=dn.prototype;d.getPaletteDict_=function(){var a=this;this.paletteDict_||(this.paletteDict_={},this.palette_.forEach(function(b){return a.paletteDict_[b.name]=b}));return this.paletteDict_};d.getConfigByName=function(a){var b=this.getPaletteDict_(),c=fn[a];c&&b[c]&&(a=c);return b[a]};d.getHexValue=function(a){return(a=this.getConfigByName(a))&&a.hexvalue};
d.getHexValues=function(a){if(arguments.length)var b=Array.from(arguments).map(this.getHexValue,this);else this.hexValues_||(this.hexValues_=this.palette_.map(function(c){return c.hexvalue})),b=this.hexValues_;return b};d.buildRgbColor_=function(a){a=a.replace("#","");a=parseInt(a,16);return{r:a>>16&255,g:a>>8&255,b:a&255}};d.getColorRange=function(a){a=gn[a];return{startColorObj:this.buildRgbColor_(a[0]),endColorObj:this.buildRgbColor_(a[1])}};
d.getRgbRatio=function(a,b,c){var e=1-c,f=function(k){return Math.round(b[k]-(b[k]-a[k])*e)};c=f("r");var g=f("g");f=f("b");return"rgb("+c+","+g+","+f+")"};var hn=function(){return{Colors:dn}};t("$jscomp.scope.factoryInjector",hn,void 0);var jn={},kn=function(a,b){this.x=a;this.y=b},ln=function(a,b,c,e){this.left=a;this.top=b;this.width=c;this.height=e;this.right=a+c;this.bottom=b+e};ln.prototype.divide=function(){var a=this.getCenterPoint();return[jn.createRectFromCoordinates(this.top,a.x,a.y,this.left),jn.createRectFromCoordinates(this.top,this.right,a.y,a.x),jn.createRectFromCoordinates(a.y,a.x,this.bottom,this.left),jn.createRectFromCoordinates(a.y,this.right,this.bottom,a.x)]};
ln.prototype.getCenterPoint=function(){return jn.createPoint(this.left+this.width/2,this.top+this.height/2)};ln.prototype.isPointInside=function(a){return a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};jn.Point=kn;jn.Rect=ln;jn.createPoint=function(a,b){return new kn(a,b)};jn.createRect=function(a,b,c,e){return new ln(a,b,c,e)};t("$jscomp.scope.GeometryFactory.createRect",jn.createRect,void 0);
jn.createRectFromDOM=function(a){a=a.getBoundingClientRect();return jn.createRect(a.left,a.top,a.width,a.height)};t("$jscomp.scope.GeometryFactory.createRectFromDOM",jn.createRectFromDOM,void 0);jn.createRectFromCoordinates=function(a,b,c,e){return jn.createRect(e,a,b-e,c-a)};t("$jscomp.scope.GeometryFactory.createRectFromCoordinates",jn.createRectFromCoordinates,void 0);var mn=function(){return jn};t("$jscomp.scope.factoryInjector$jscomp$1",mn,void 0);var nn,on,pn,R={ESCAPE_CHARS_:{"<":"lt",">":"gt","&":"amp",'"':"quot","'":"apos"},imagesRegexCreator:function(a){return new RegExp("\\.("+a.join("|")+")$")},IMAGE_FORMATS:["png","jpg","jpeg","gif"],QUERY_STRINGS_RE_:/[?&]{0,1}([^=&]+)=?([^=&]*)/g,TIME_ZONES:[{name:"GMT-12",value:"720"},{name:"GMT-11",value:"660"},{name:"GMT-10",value:"600"},{name:"GMT-9",value:"540"},{name:"GMT-8",value:"480"},{name:"GMT-7",value:"420"},{name:"GMT-6",value:"360"},{name:"GMT-5",value:"300"},{name:"GMT-4",value:"240"},
{name:"GMT-3",value:"180"},{name:"GMT-2",value:"120"},{name:"GMT-1",value:"60"},{name:"GMT-0",value:"0"},{name:"GMT+1",value:"-60"},{name:"GMT+2",value:"-120"},{name:"GMT+3",value:"-180"},{name:"GMT+4",value:"-240"},{name:"GMT+5",value:"-300"},{name:"GMT+6",value:"-360"},{name:"GMT+7",value:"-420"},{name:"GMT+8",value:"-480"},{name:"GMT+9",value:"-540"},{name:"GMT+10",value:"-600"},{name:"GMT+11",value:"-660"},{name:"GMT+12",value:"-720"},{name:"GMT+13",value:"-780"},{name:"GMT+14",value:"-840"}]};
R.FIELD_VALIDATION={isHttps:{pattern:/^(https:\/\/)/,message:"Enter only secured link, please use https:// only."},isGstatic:{pattern:/(gstatic\.com)/,message:"Please use images which were uploaded to gstatic.com only."},isImageFormat:{pattern:R.imagesRegexCreator(R.IMAGE_FORMATS),message:"Insert only allowed image files:"+R.IMAGE_FORMATS.join(", ")}};R.camelizeString=function(a){return a=String(a).replace(/[-_\s]+(.)?/g,function(b,c){return c?c.toUpperCase():""})};
R.domDebounce=function(a,b,c){var e,f=nn.debounce(function(){e=!1;a.apply(this,arguments)},b,c);on.bind("keydown keypress keyup",function(g){g=g.target.tagName;!e||"INPUT"!=g&&"TEXTAREA"!=g||f()});return function(){e=!0;return f()}};R.escapeChar=function(a){var b=a||"";a in R.ESCAPE_CHARS_&&(b="&"+R.ESCAPE_CHARS_[a]+";");return b};R.escapeHTML=function(a){nn.isNull(a)||nn.isUndefined(a)||""===a||(a=String(a).replace(/[&<>"']/g,R.escapeChar));return a||""};
R.openWindow=function(a,b,c){c||(c={});var e=c.width,f=c.height;c=nn.extend({height:f,left:e?window.screen.width/2-e/2:void 0,location:"no",menubar:"no",status:"no",toolbar:"no",top:f?window.screen.height/2-f/2:void 0,width:e},c);c=nn.map(c,function(k,l){return l+"="+k}).join(",");var g=window.open(a,b,c);g.onLoad=function(k){g.addEventListener?g.addEventListener("load",k,!1):g.attachEvent("load",k)};return g};
R.parseQueryStrings=function(a){for(var b=R.QUERY_STRINGS_RE_,c={},e;null!==(e=b.exec(a));)c[e[1]]=e[2];return c};R.slugifyString=function(a){return a=String(a).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()};R.titleizeString=function(a){return a=String(a).replace(/(?:^|\s|-)\S/g,function(b){return b.toUpperCase()})};R.underscoreString=function(a){return a=String(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()};
R.isBreakLineTitle=function(a,b){var c=document.createElement("canvas");document.body.appendChild(c);var e=c.getContext("2d");e.font="38px Roboto Condensed";b&&(b=(b=b.replace(/#/g,""))?b.toUpperCase():"");e.fillText(b,0,0);a=e.measureText(b).width>a;document.body.removeChild(c);return a};R.isRTL=function(a){return pn.isRtlThreshold(a)};t("$jscomp.scope.helpersFactory.isRTL",R.isRTL,void 0);var qn=function(a,b,c){on=a;nn=b;pn=c;return R};t("$jscomp.scope.factoryInjector$jscomp$2",qn,void 0);
qn.$inject=["$document","lodash","bidiService"];var rn=window._.noConflict(),sn=function(){return rn};t("$jscomp.scope.factoryInjector$jscomp$3",sn,void 0);var tn,un,vn,wn=function(a){this.q_=tn.defer();this.data=a;this.isActive=!0;this.promise=this.q_.promise;this.promise.cancel=un.bindKey(this,"cancel")};wn.prototype.cancel=function(){this.isActive=!1;return this};wn.prototype.reject=function(){this.isActive&&this.q_.reject.apply(this,arguments);return this};wn.prototype.resolve=function(){this.isActive&&this.q_.resolve.apply(this,arguments);return this};
var xn=function(a,b){b=un.defaults(b||{},{batchSize:1,delayTime:0,isActive:!0,parallelBatches:1});this.batchSize_=Math.max(b.batchSize,1);this.delayPromise_=void 0;this.delayTime_=Math.max(b.delayTime,0);this.isActive=!!b.isActive;this.items_=[];this.iterationCallback_=un.isFunction(a)?a:un.noop;this.parallelBatches_=Math.max(b.parallelBatches,1);this.pendingBatches_={};this.pendingCount_=0;this.processItemsBind_=un.bindKey(this,"processItems_")};d=xn.prototype;
d.cycle_=function(){this.delayPromise_&&vn.cancel(this.delayPromise_);this.isActive&&(this.delayPromise_=vn(this.processItemsBind_,this.delayTime_))};d.next_=function(a){a in this.pendingBatches_&&(delete this.pendingBatches_[a],this.pendingCount_--);this.cycle_()};
d.processItems_=function(){if(this.isActive&&this.pendingCount_<this.parallelBatches_){var a=this.takeBatch_();if(a&&a.length){var b=un.uniqueId(),c=un.bindKey(this,"next_",b);this.pendingBatches_[b]=a;this.pendingCount_++;this.iterationCallback_(a,c);this.processItems_()}}};d.push=function(a){a=new wn(a);this.items_.push(a);this.cycle_();return a};d.start=function(){this.isActive=!0;this.cycle_();return this};d.stop=function(){this.isActive=!1;return this};
d.takeBatch_=function(){for(var a=[];this.items_.length&&a.length<this.batchSize_;){var b=this.items_.shift();b.isActive&&a.push(b)}return a};var yn=function(a,b,c){tn=a;vn=b;un=c;return{Queue:xn,QueueItem:wn}};t("$jscomp.scope.factoryInjector$jscomp$4",yn,void 0);yn.$inject=["$q","$timeout","lodash"];var zn,An,Bn,Cn,Dn=function(a,b){this.isEditor=!!b;this.apis={};this.fields={};this.fieldsList=[];this.isShowLoader=this.isRender=this.displayLoader=this.isQuerying=!1;this.templateUrl="";this.errorTemplateUrl="/framework/views/widget-error.html";this.errorMessage=null;this.isShowErrorMsg=!1;this.offset=zn.isDesktopMode?-184:-110;An.forEach(a,this.addFieldData.bind(this))};d=Dn.prototype;
d.addFieldData=function(a){var b=["color","csv"];!this.isEditor&&0>b.indexOf(a.name)&&(An.isString(a.value)?a.value="":An.isArray(a.values)&&(a.values=[]));this.addField(a)};d.activateAPI=function(a,b,c,e){if(a=this.apis[a])b&&(a.url=b),c&&(a.isActive=!1,a.setParams(c)),a.isActive=!0,e&&a.setAutoRefreshTimeout(e),a.dispatch(),a.dispatchToggles(!0);return a};d.addField=function(a){a=An.isPlainObject(a)?Bn.create(a):a;this.fields[a.name]=a;this.fieldsList.push(a);return a};
d.reduce=function(a){var b=An.chain(this.apis).filter("isActive",!0).invokeMap("reduce").value(),c=a?An.filter(this.fieldsList,function(e){return e.isTemplateSupported(a)}):this.fieldsList;return{apis:b,fields:An.invokeMap(c,"reduce")}};d.registerAPI=function(a,b,c,e,f,g,k){b=new Cn(this,a,b,c,e,f,g,k);return this.apis[a]=b};d.resetFields=function(a){var b=this;An.forEach(a,function(c){var e=c.name,f=b.fields[e];f&&(An.extend(f.config,c.config),b.setFieldValue(e,c.value||c.values))})};
d.serialize=function(){return JSON.stringify(this.reduce())};d.setFieldValue=function(a,b){(a=this.fields[a])&&a["list"==a.type?"setValues":"setValue"].call(a,b);return a};var En=function(a,b,c,e){An=a;Bn=b;Cn=c;zn=e;return Dn};t("$jscomp.scope.factoryInjector$jscomp$5",En,void 0);En.$inject=["lodash","widgetFieldFactory","widgetAPIFactory","globalsService"];var Fn,Gn,Hn,In=function(a,b,c,e,f,g,k,l,n,p){this.widget=a;this.name=b;this.url=c;this.params={};this.paramsSettings=Fn.map(f,function(q){q.path=q.path.split(".");return q});this.paramsSerialized_="";this.isActive=!!g;this.service_=k;this.middlewares_=[];this.runInBackground_=!!n;this.toggles_=[];this.showInEditor=!0;this.autoRefreshTimeout=p;this.dataRefreshTimeoutPromise_=void 0;this.setParams(e);Fn.forIn(l,Fn.bindKey(this,"middleware"));this.paramsGetterSetter=Fn.bind(this.paramsGetterSetter,
this)};d=In.prototype;
d.dispatch=function(a){if(this.isActive){a=!0===a;var b=this,c=Fn.clone(this.params);var e=this.service_?this.service_(this.url,c):Gn.get(this.url,{params:c});this.widget.errorMessage=null;this.widget.isQuerying=!0;this.runInBackground_||(this.widget.displayLoader=!0,e.then(null,function(){b.widget.errorMessage="Server error"}));e["finally"](function(){b.widget.isQuerying=!1;b.widget.displayLoader=!1});e.then(Fn.bindKey(this,"onSuccess_",c,a),null);Hn.cancel(this.dataRefreshTimeoutPromise_);Fn.isNumber(this.autoRefreshTimeout)&&
1<=this.autoRefreshTimeout&&(this.dataRefreshTimeoutPromise_=Hn(Fn.bindKey(this,"dispatch",!0),6E4*this.autoRefreshTimeout));return e}};d.setCtrl=function(a){this.ctrl=a;return this};d.initialDispatch=function(a){a&&(this.isActive=!0,this.dispatch(),this.isActive=!1);return this};d.dispatchToggles=function(a){Fn.invoke(this.toggles_,Fn.call,this,a)};d.middleware=function(a){Fn.isFunction(a)&&this.middlewares_.push(a);return this};d.toggle=function(a){Fn.isFunction(a)&&this.toggles_.push(a);return this};
d.setAutoRefreshTimeout=function(a){this.autoRefreshTimeout=a;return this};d.setShowInEditor=function(a){this.showInEditor=a;return this};d.onSuccess_=function(a,b,c){var e=this.widget;c&&c.data&&(c=c.data);Fn.forIn(this.middlewares_,function(f){c=f(c,a,b)});Fn.forIn(c,function(f,g){e.setFieldValue(g,f)})};d.paramsGetterSetter=function(a){if(!Fn.isUndefined(a)){try{var b=JSON.parse(a)}catch(c){}this.setParams(b);this.paramsSerialized_=a}return this.paramsSerialized_};
d.reduce=function(){return{name:this.name,url:this.url,params:this.params,autoRefreshTimeout:this.autoRefreshTimeout}};d.runInBackground=function(){this.runInBackground_=!0;return this};d.setService=function(a){this.service_=a;return this};d.setParams=function(a){a&&!Fn.isEqual(a,this.params)&&(this.params=a,this.paramsSerialized_=JSON.stringify(a),this.isActive&&this.dispatch());return this};d.onChange=function(){this.dispatch();this.dispatchToggles(this.isActive)};
var Jn=function(a,b,c){Gn=a;Hn=b;Fn=c;return In};t("$jscomp.scope.factoryInjector$jscomp$6",Jn,void 0);Jn.$inject=["$http","$timeout","lodash"];var S,Kn={},Ln=function(a,b,c,e){var f=this;this.name=a;this.type=b||"string";this.value=c;this.config=e||{};this.templatesByKey_={};S.forEach(this.config.templates,function(g){f.templatesByKey_[g]=!0});this.setValue=S.bind(this.setValue,this)};Ln.prototype.isEmpty=function(){return S.isEmpty(this.value)};Ln.prototype.isTemplateSupported=function(a){return this.config.templates?!!this.templatesByKey_[a]:!0};Ln.prototype.reduce=function(){return S.pick(this,"name","type","value","config")};
Ln.prototype.setValue=function(a){""===a&&(a=void 0);S.isFunction(this.castValue_)&&(a=this.castValue_(a));return this.value=a};var Mn=function(a,b,c){Ln.call(this,a,"integer",b,c)};y(Mn,Ln);Mn.prototype.castValue_=function(a){a=parseInt(a);var b=void 0;S.isNaN(a)||(b=a);return b};var Nn=function(a,b,c){Ln.call(this,a,"boolean",b,c)};y(Nn,Ln);Nn.prototype.castValue_=function(a){return S.isString(a)?"true"==a.toLowerCase():!!a};var On=function(a,b,c){Ln.call(this,a,"map",b||{},c)};y(On,Ln);
On.prototype.isEmpty=function(){var a=S.without(this.config.keys,"index");a=this.config.keys?S.pick(this.value,a):this.value;return!S.values(a).join("")};On.prototype.getKeyConfig=function(a){var b=this.config,c=S.clone(b);S.has(b.keysConfig,a)&&S.extend(c,b.keysConfig[a]);return c};On.prototype.focus=function(a,b){a.field.config.isFocused=!0;b.target.onblur=function(){a.field.config.isFocused=!1;a.$apply()};b.target.onchange=function(){a.field.config.isFocused=!0;a.$apply()}};
On.prototype.setValue=function(a){if(S.isPlainObject(a))this.value=a;else try{this.value=JSON.parse(a)}catch(b){this.value={text:a}}return this.value};var Pn=function(a,b,c,e,f){Ln.call(this,a,"list",void 0,f);this.subtype=b||"string";this.maxLimit=e;this.items=[];this.setValues(c)};y(Pn,Ln);d=Pn.prototype;
d.exportAsCSV=function(){var a=this.reduce();"map"!==this.subtype&&(a.values=S.map(a.values,function(b){return{value:b}}),a.config.keys=["value"]);S.isFunction(this.config.csvSetter)&&(a=this.config.csvSetter(a));return a};d.getItem=function(a){if(0<=a&&(!this.maxLimit||a<this.maxLimit)){var b=this.items[a];b||(b=this.items[a]=Kn.create(S.extend({name:this.name,type:this.subtype},this.config)),b.value&&(b.value.index=a+1))}return b};d.getValue=function(a){return(a=this.getItem(a))&&a.value};
d.getValues=function(){var a=[];S.forEachRight(this.items,function(b){!a.length&&b.isEmpty()||a.unshift(b.value)});return a};d.importAsCSV=function(a){"map"!==this.subtype&&(a=S.map(a,function(b){return b.value}));S.isFunction(this.config.csvGetter)&&(a=this.config.csvGetter(a));this.setValues(a)};d.reduce=function(){var a=S.pick(this,"name","type","subtype","maxLimit","config");a.values=this.getValues();return a};d.setValue=function(a,b){a=this.getItem(a);var c;a&&(c=a.setValue(b));return c};
d.setValues=function(a){var b=this;this.items=[];S.forEach(a,function(c,e){b.setValue(e,c)})};Kn.Base=Ln;Kn.Integer=Mn;Kn.Map=On;Kn.List=Pn;Kn.Boolean=Nn;
Kn.create=function(a){a||(a={});var b=S.pick(a,"csvGetter csvKeys csvSetter editable gridSpan keys keysConfig options placeholder textarea visible notification translation validation colorPalette templates imageUpload maxLength".split(" ")),c=a.name;switch(a.type){case "integer":a=new Kn.Integer(c,a.value,b);break;case "map":a=new Kn.Map(c,a.value,b);break;case "list":a=new Kn.List(c,a.subtype,a.values,a.maxLimit,b);break;case "boolean":a=new Kn.Boolean(c,a.value,b);break;default:a=new Kn.Base(c,
"string",a.value,b)}return a};var Qn=function(a){S=a;return Kn};t("$jscomp.scope.factoryInjector$jscomp$7",Qn,void 0);Qn.$inject=["lodash"];var Rn=function(a,b){return"M"+a.map(function(c,e){return e*b+","+c}).join(" L")},Sn=function(){return Rn};t("$jscomp.scope.filterInjector",Sn,void 0);Sn.$inject=["lodash"];var Un=function(a,b,c,e){b=Tn.range(b,c,e);a.push.apply(a,b);return a},Tn,Vn=function(a){Tn=a;return Un};t("$jscomp.scope.filterInjector$jscomp$1",Vn,void 0);Vn.$inject=["lodash"];var Xn=function(a){return Wn.titleizeString(a)},Wn,Yn=function(a){Wn=a;return Xn};t("$jscomp.scope.filterInjector$jscomp$2",Yn,void 0);Yn.$inject=["helpersFactory"];var Zn=function(a){return a?a.replace(/\s([^\s]+)$/,"\u00a0$1"):a},$n=function(){return Zn};t("$jscomp.scope.filterInjector$jscomp$3",$n,void 0);var ao=function(a){this.htmlDir_=a[0].documentElement.getAttribute("dir")};d=ao.prototype;d.arrayToWrappedTextHelper=function(a,b){var c=this;a=Array.from(a,function(e){return c.wrapTextUnicode_(e)}).join(b||", ");return this.wrapTextUnicodeByPageDirection(a)};d.wrapTextUnicode_=function(a){return this.isRtlThreshold(a)?this.wrapRtlUnicode_(a)+(this.isPageRtl()?"":"\u200e"):this.wrapLtrUnicode_(a)+(this.isPageRtl()?"\u200f":"")};d.wrapRtlUnicode_=function(a){return"\u202b"+a+"\u202c"};
d.wrapLtrUnicode_=function(a){return"\u202a"+a+"\u202c"};d.wrapTextUnicodeByPageDirection=function(a){return this.isPageRtl()?this.wrapRtlUnicode_(a):this.wrapLtrUnicode_(a)};d.isTextRtl=function(a){return bo.test(a)};d.isTextInOppositeTextDirectionContext=function(a){return this.isTextRtl(a)&&!this.isPageRtl()||!this.isTextRtl(a)&&this.isPageRtl()};d.isNeutralText_=function(a){return co.test(a)};d.isPageRtl=function(){return"rtl"===this.htmlDir_};
d.rtlWordRatio_=function(a){var b=this,c=0,e=0;a.split(" ").forEach(function(f){b.isTextRtl(f)?(c++,e++):b.isNeutralText_(f)||e++});return 0==e?0:c/e};d.isRtlThreshold=function(a){return.4<this.rtlWordRatio_(a||"")};d.hasAnyRtl=function(a,b){return Kb.test(Jb(a,b))};ao.$inject=["$document"];var bo=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/,co=/^[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*$|^http:\/\//;var eo=function(){this.json_={max_bucket:897,stories:[{subtitle:"Remembering the ones we lost in 2015",name:"Farewell",color:"#3F51B5",bucket:123,date:"Jan 04 2015",peak_index:2,data:[5.1621354555679995,29.114195047392,1.1346299910816,.6389360483791999,.5078963894576,.5730408603296,.4674564404432,1.4338401756432,25.543678786912,7.457387373695999,1.4137848320959998,.8148606922352,.6775946904064,.5669429295712,.6116106016384,.4959408891424,.525353856456,1.008002441888,4.093976860895999,1.3055926578032,
.730253549272,.6363743906416,8.543655373968,2.128052715152,.6075475095455999,.561836077192,.5472234331824,.5592579563584,.8269511899376,.6004617930271999,.5854573273328,.6048903658512,14.574910593568,4.282841498208,.917208467448,13.831865218704,1.5895744785648,1.0810426136015998,8.419260220592,1.3831404252016,.8352584681792,.7112419660112,.9197075654208,1.6210947221663998,1.2333558851744,.60765287336,.5332396794400001,1.1203531942304,.6628602194864,.7124404794],max_volume:8.84226,link:"/trends/story/US_cu_ZQp2IVEBAABCqM_en"},
{subtitle:"The world doubts its eyes",name:"The Dress",color:"#009688",bucket:73,date:"Feb 28 2015",peak_index:9,data:[.306058178136,.32204907036,.320037006312,.326324046336,.328111667544,.307436521224,.335050912056,.349370365248,44.8719328248,16.382267726880002,3.70861427304,1.714051485552,1.071189100704,1.002541277712,.943853435808,.7817713787760001,.709469098248,.6880308462720001,.646173576864,.665821567128,.624568973136,.586286946144,.569018049984,.56832887844,.601512092208,.519820179456,.519233987568,
.522592708656,.5004916901759999,.49160111320800004,.485200531512,.4882291896,.479481199848,.48296666512799996,.481556635992,.490439291448,.474720371136,.47436918410400003,.512566714968,.50976249972,.48881010048,.534488179176,.526339583832,.52408723392,.5031982067759999,.584536291992,.57059971188,.63894915792,.6631520175839999,.670698578016],max_volume:16.9937,link:"/trends/story/US_cu_9wXO1FABAABpUM_en"},{subtitle:"Hollywood honors the cinematic achievements of the past year in film",name:"Oscars 2015",
color:"#FF5722",bucket:406,date:"Feb 22 2015",peak_index:8,data:[2.2458869999999997,2.041893,7.156683,4.356333,3.3620310000000004,3.225105,3.789927,7.161435000000001,47.33055,4.424841,2.7147959999999998,2.117772,1.919691,1.8066239999999998,1.754298,1.549062,1.540116,1.4548230000000002,1.413504,1.3795469999999999,1.392678,1.386819,1.3445909999999999,1.328859,1.340874,1.329723,1.265481,1.239012,1.286469,1.256634,1.198611,1.209402,1.238625,1.248993,1.2678660000000002,1.252593,1.2761280000000002,1.384452,
1.4114790000000002,1.250559,1.274337,1.291617,1.304181,1.263069,1.253232,1.354932,1.26108,1.3523580000000002,1.419642,1.501956],max_volume:52.5895,link:"/trends/story/US_cu__pK4HFEBAAAXDM_en"},{subtitle:"The 11th Cricket World Cup: jointly hosted by Australia and New Zealand",name:"Cricket World Cup",color:"#9C27B0",bucket:323,date:"Mar 15 2015",peak_index:11,data:[2.33668327572,5.4882913671999995,4.6196622604,4.1351325088,4.1918608615999995,7.7736607748,26.157182405999997,39.669870604,36.77008908,
34.564318852,43.050456192,43.529356619999994,33.06751706,12.4740915912,1.78780518836,1.44797080912,1.27177298044,1.13349014192,1.12943539724,1.15819117876,1.1505847932,1.150000105,1.2956826486,2.210801266,1.74062221036,1.9177256258799997,1.89171923864,2.2851246544,1.01931821308,.8480562406,.66908454232,.58872934728,.59950120756,.5631526378799999,.66735767252,.72263110352,.72625888984,1.0343406205999999,1.04534907564,.92218654592,.9056194737599998,.90971229116,.91320954244,.94062462032,.71296063264,
.5975703767599999,.5104028843199999,.5693095405999999,.52519413604,.6843462640799999],max_volume:16.0065,link:"/trends/story/US_cu_Lh5L2lABAAA1RM_en"},{subtitle:"How the world wanted to help",name:"Nepal earthquake",color:"#0F9D58",bucket:85,date:"Apr 26 2015",peak_index:17,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8.900909782400001,41.802637539200006,6.991954325280001,11.55974679856,3.4215312996800007,2.5780297478880003,1.9120040988000004,1.755051033728,1.5266108335200002,1.3242006946240001,1.1419256398560003,
.79894080672,.6197031544,.72686923152,.50818187488,.49912024408,.5925660287360001,.45183398524800006,.394800502464,.37163925512,.33723034635200005,.37376066016000004,.30284672585600003,.23397215019840004,.24034676160800003,.19501388129760003,.2008959333648,.430218132304,.19664413189920002,.17831715921920002,.2569552557152,.19407175267520002,.1939897062816,.21593852147360001],max_volume:14.8774,link:"/trends/story/US_cu_nmOD1lABAABNNM_en"},{subtitle:"World football's governing body rocked by scandal",
name:"FIFA in crisis",color:"#F4B400",bucket:42,date:"May 31 2015",peak_index:22,data:[.32181510128800006,.3921462382848,.6004213326528,.36403445228864,.5362742275648,.37311248564160004,.36096107516512005,.3903081912,.3854325683104,.36121463708224,.3752458013344,.4016280514592,.444859066528,.37591384656,.4367613249536,.488282006192,.5179380470080001,.5391309513472,.6310296147296001,.7104421068512,.7554521152832,11.989529462144,14.262507206528001,2.4853681449760003,1.2494623324704002,.9385850876800002,
.8655836152096,.8748735037888,.6673365809408001,2.5515636760320004,.8146608529024001,.6587553370208,.607256800928,.5189050516992,.5200676718432,.5190157774272001,.49489602301120006,.6071054757664001,1.0416633587328,.9982182739232001,1.3395377121984,.7906333699264,.7439071127104001,.8304171239968,.6847574288128,.6564116424448001,.4872005849152001,.5362963727104,.4759988320992,.47482883024],max_volume:3.86428,link:"/trends/story/US_cu_jHQFBVEBAADY8M_en"},{subtitle:"The world's best fight it out in Canada",
name:"Women's World Cup",color:"#673AB7",bucket:113,date:"Jun 07 2015",peak_index:23,data:[.8466001544671999,.8670017381088,1.0416678673408,.8725990602784001,.7873382471808,.7953373796032001,.9137197082272,.8970071118848,.9697515948288,1.0700961904192,1.1265594366208,.9676707161184,1.0125804267936,1.0811804067008,1.1578623400736001,1.0132878565376,1.030949444,1.2079138571808,1.0976824995584,1.3534718406047999,1.3637243955776,2.269520890672,6.794120752608,23.686956390272,15.823408917344,19.150606292832,
18.335440175136,14.9276303176,1.6150759090592002,1.5642479446720001,1.320702314512,1.273735881264,1.1186983392704002,1.2229251712608,1.4043274120064,1.438463485312,1.3756299205376,1.3289568118176,1.3216064442336,1.1805829129248,1.1887683926944,1.178112085136,1.2277184391359999,1.1800790849120002,1.0488871016064,1.1169970570080001,.9830616266464,.9533495773984,.94459125208,1.2652156664448],max_volume:6.86404,link:"/trends/story/US_cu_J7446VABAABP1M_en"},{subtitle:"An economy nears collapse",name:"Greece on the brink",
color:"#4285F4",bucket:35,date:"Jun 28 2015",peak_index:26,data:[.17761747697936,.505316877052,.32955363711288,.35846237417312,.7187395986232,.5964264908296,.6855438226976,1.0014600798216,.5054239478648,.38184855166744,.4968238672224,.4949845436168,.4251781976288,.36706245481551997,.4515635050688,.5208689126111999,.6316298444952,.5097106043344,.50294602334,.5345472089464,.4425810286664,.5930805279296001,.7541456220416,.8562758816224,2.4131925705471997,2.7246003816608,8.414733417528,8.106063560056,
4.33617672052,1.1864707964248,.7014438383984001,.5700450073472,.5050759677232,.5263715875975999,.5463211743968,.9452173114408,.939775819776,.872875681564,.6966753632711999,.5290407100023999,.4684998132792,.4392809532576,.4486572972928,.4654980065632,.4332391002496,.4547297419616,.4345315979184,.35129015929856,.35119532515008,.30116687026504],max_volume:2.20053,link:"/trends/story/US_cu_jEuM21ABAABQEM_en"},{subtitle:"An agreement reached",name:"Iran Nuclear deal",color:"#00BCD4",bucket:20,date:"Jul 12 2015",
peak_index:28,data:[0,.06909669359712,.091345627248,.11190132488160001,.11807702411360001,.11200842245056,.11481211172847999,.13491987573424002,.22394570709984002,.5970142255663999,.4254470470288,.3463980968592,.38980818118864,2.1755815793216,1.1414724689344,.5075447601104,.29887413693376,.23839058943008,.25070915506272,.22235956865152,.18287222593552002,.15083402726784,.14689995051024002,.14092554780384,.12847291477648,.23504046803024,.38767170194800005,.8039783232464001,4.462216302048001,1.71268165252,
1.1422151163104,1.3517393931024,1.0709874156112,.9613140328576,.7865065665584,1.4779738123408,2.2939517537152,1.2198100410912,.5182740603584,.433061136968,.30736572337775997,.36074448069536,.27451882080432,.21746982198112,.19505750590752,.18818762681248,.21452932923919998,.15419157514144,.16961753374208002,0],max_volume:1.14162,link:"/trends/story/US_cu_owaCAlEBAABwhM_en"},{subtitle:"Death of an icon",name:"Cecil the Lion",color:"#009688",bucket:32,date:"Jul 26 2015",peak_index:30,data:[.11080501903072,
.097776906848,.10197380324079999,.09742154412112,.09239813383223999,.09094330247288,.09882630480272,.09345761546512,.0890249696312,.09154797544944,.10284204270168,.09459046454944,.10482192075143999,.10188305013736,.09711764292416,.10010971363336,.09770666881392001,.10181350752936,.08944987496608,.09883847475912,.09305913632128,.08488822759431999,.7236986272824001,.28777530930392,.13611713749056,.10826775697784001,.10590122202760001,.1133388039532,.11321049784144001,.155636356704,22.726072267448,6.391452473456001,
1.8849836840135998,.9861732926568001,.6921123747288,.495612781564,.9163525142248001,.4148355652416,.3705438782064,.3541213913272,.505192275816,.5456869364544,.34975063841439996,.39821835906,.28715568466664,.22791164148536003,.20770429816576,.20080880086952,.22107490769288002,0],max_volume:6.53587,link:"/trends/story/US_cu_yfLOAlEBAABWcM_en"},{subtitle:"The Shanghai stock market falls 30%",name:"China crisis",color:"#DB4437",bucket:12,date:"Jul 12 2015",peak_index:27,data:[0,.053659819195359997,.07478658954424,
.09591296684424,0,0,0,0,0,0,0,0,0,0,.058572537146479996,.08745298275112,.0803568782716,.04866456097944,.07441869579256001,.066022385618,.05748968748208,.11610663915200001,.08554276519432,.0773362976288,.11317331536056,.24016937373296,.5916918534632001,2.9654398154248,.7994771438752,.34348541623199996,1.277428512444,.5272357676320001,.4493295491272,.6559710672984,3.415162413432,1.1049822468328,.8717942073064,.6136554248775999,.4154801795816,.3596240032448,.28379347587528003,.24747182887447997,.22610176126888,
.17916504316592002,.15084783660632,.15881611655056002,.13934329588872,.14196886240712,.16406882178288,0],max_volume:.86889,link:"/trends/story/US_cu_N83g21ABAACHlM_en"},{subtitle:"A human tragedy",name:"Migrant crisis",color:"#FF5722",bucket:23,date:"Sep 01 2015",peak_index:35,data:[.11485488389040001,.14650412473896,.16112433389232,.13954482526656,.13044818056920002,.13711053948432,.14907904595664,.1619912592924,.13788893115623999,.13778746993680002,.14709996456432,.13850279112096,.14353354393968,
.11539470458688,.131223830046,.17567011203528002,.40985631747839996,.25039414557096,.23167905561912,.2632252682796,.2668371309948,.24639249940656,.22274811785544,.23594238554639999,.27472172544912,.25211311016904,.18441771446808,.16531597500432,.15742237048031998,.1796568719976,.2549242519092,.29783686334208,.28357039735920003,.4328476648488,.7612764569496,3.409175321616,4.043680098168,3.5448826406831997,2.3959969035216,1.5591416316432,1.1960710803336,1.0954834459104,1.2834570039648,1.2981199130136,
1.1666708312256,1.3353980969591999,1.6648571709408,.9301839240768,.902730633504,.7029264622176],max_volume:1.03223,link:"/trends/story/US_cu_iQ-fCFEBAABHhM_en"},{subtitle:"Elizabeth II reaches a special milestone",name:"The longest reigning Queen",color:"#9C27B0",bucket:100,date:"Sep 06 2015",peak_index:36,data:[2.703510438464,2.4986764845328002,2.4073175711024,2.5602562765823995,2.5800334522336,2.4333823318288,2.3681373008831996,2.2814638474848,2.3471585314495997,2.5637779288,2.5406264662063998,
2.458846295664,2.5356500542208,2.3443963771888,2.4718786760272,2.3858173553104,3.7093955782048,3.8720037128960003,5.70813725592,3.1399119186864,2.759055811424,3.1326570128304,3.5097685306639996,3.5596460084239996,3.0263008487008,4.144893973792,2.5731677418479997,2.8754970504128,2.9119416165488,3.0451824969104,2.3288852373248,2.4388121754304,2.8782289758992,2.5196968185312,2.3685340535472,2.9941978902879995,10.457417787872,3.5220262986832,2.8774127989904,2.4562315066784,2.4618276085392,2.4549959055248,
2.6285959783072,2.4457270075744,2.5591831550912,3.1459198875984002,2.559073575784,2.6861137787967997,2.5356160468496,2.3145643554528],max_volume:2.76754,link:"/trends/story/US_cu_oBs23FABAADGRM_en"},{subtitle:"The popular auto brand under fire",name:"Volkswagen emissions scandal",color:"#3F51B5",bucket:13,date:"Sep 20 2015",peak_index:38,data:[.15687901121759998,.0618353952048,.051129988398719996,.07309533952224,.056628796331519994,.055496437718399995,.0488101666752,.045569090891519996,.05481306434015999,
.052465302308159996,.05173070503104,.05451231796416,.04990915214208,.04754703189599999,.054662109062399995,.04997124171648,.05869870751807999,.04360085138304,.04629088219392,.041775805955519996,.07693790805792,.053151004045439994,.049897898406719994,.04564437450048,.050588256862079996,.04959754009055999,.04090693997375999,.047168673551999996,.050599510597439994,.05437028806272,.053062914461759994,.054766497159359995,.12401267112864,.10408114162656,.06100494714719999,.04568395660416,.05049162996192,
.37180750584096,5.791870723968,2.899117452672,2.05662013704,1.2962983731264,.6839515874015999,.562279305168,.9061468905887999,.6100145460863999,.4491132946272,.4329079157088,.3922470056736,.2987148827376],max_volume:1.49252,link:"/trends/story/US_cu_dJrG-FABAADi4M_en"},{subtitle:"20 teams slug it out for victory",name:"Rugby World Cup",color:"#0F9D58",bucket:246,date:"Sep 18 2015",peak_index:37,data:[.685017118968,.655417201296,.690456507,.737519417232,.732117802728,1.421644499808,1.1804198443440002,
.99842698644,.9612520235759999,1.203758073336,1.127356754472,1.5781111697519998,1.399613816016,1.3056913914719999,.6750623415120001,.620348839032,.6948353305920001,.88241867064,.7271462253119999,.7701354058319999,.956998143192,1.203848148672,1.304180450352,1.640701905648,1.54620125556,1.50581263716,1.1885091906479999,1.3410328854,1.41021655476,1.617924468264,1.981517920512,2.104677055728,2.82083990136,3.08592289824,3.3954043188,4.587304410000001,5.895314514960001,28.907964752159998,39.7473401208,
30.364105199999997,26.041128316320002,22.162339065359998,20.77026833232,24.635575339440003,5.13042962952,1.0642546231199999,.8890726228799999,.644657557128,.579381995088,.602717318424],max_volume:13.6793,link:"/trends/story/US_cu_ggT_ElEBAAAslM_en"},{subtitle:"Life on the Red Planet?",name:"Water on Mars",color:"#F4B400",bucket:10,date:"Sep 27 2015",peak_index:39,data:[0,.05981480315616,.061591419847680004,.05783955138,.05995756016304,.05184069527856,.05887941944352,.08794635349584,.08608936422671999,
.0991223517744,.08861229771024,.07280454260256,.07463665464527999,.060676320642719994,.065274014808,.21250394699472,.0885763214136,.07291515057839999,.06545159993184,.06785435727552,.06851264695872,.05830992232224,.04671522118704,.05117015834544,.043949256337920004,.0548332342512,.04473346305936,.15340713886512,.07058893854672,.06324058859472,.04540361726592,.05924875057392,.06177704222928,.060111416240160004,.06422840584608,.05391009778848,.05085593983968,.05775573426336,.08388677287391999,8.263755338208,
1.131186620736,.5057884581024,.31769863837008,.24228007336272003,.20935372467936,.16996542075696,.15815371366224001,.11084947629936,.11730454246032,0],max_volume:2.15918,link:"/trends/story/US_cu_smvIDlEBAAAr5M_en"},{subtitle:"The epic saga continues with Episode VII: The Force Awakens in December",name:"Star Wars",color:"#DB4437",bucket:155,date:"Oct 18 2015",peak_index:42,data:[3.153382572424,2.388438578184,2.12830606308,2.0363750721439997,1.925903890216,2.092718122376,2.02470011104,2.210614199672,
1.9134589650879998,2.043138544672,2.324796133328,1.944983395216,1.966671280544,2.0009499432160003,2.145821896648,11.15874601672,5.68623519592,3.1346286909759997,4.05594661224,2.429867391352,2.138149391704,2.1040776356640003,1.9766842047679998,1.992361622032,2.125324572432,2.094814323992,1.957991377736,2.709808672536,2.984655301896,2.228157168536,2.070402733328,2.150475599912,3.59990404384,3.6745600269599996,3.8092867716000005,5.24827151848,4.883132191680001,3.84340940632,3.7140758017600004,3.63490857568,
3.87827826168,4.29599222448,25.7822623032,7.98425557592,8.02641704208,8.553011380080001,7.72318010928,10.04545266008,11.90818897312,15.7187985904],max_volume:7.6011,link:"/trends/story/US_cu_mahWFlEBAACePM_en"},{subtitle:"Terror in the heart of Europe",name:"Paris under attack",color:"#4285F4",bucket:897,date:"Nov 08 2015",peak_index:45,data:[.04684608,62.56548,40.59792,9.9864,1.485036,.8767107,.6298704,.6552027,.7423704000000001,.5158250999999999,.4447962,.4364289,.3930741,.3652587,.3503493,.3509559,
.34877430000000004,.3071646,.30344760000000004,.249372,.2899737,.2192598,.18459720000000002,.1834308,.238221,.48332159999999996,.2763,.1524024,.1494549,.1462428,.12381750000000001,.1174581,.1286361,.1740978,.283644,.1536606,.29288430000000004,.5895549,.22527450000000002,.2183418,.24130260000000003,.1844316,.1869372,.2006505,.4359888,90,66.33261,10.34667,1.310526,.9755370000000001],max_volume:100,link:"/trends/story/US_cu_j1EhJ1EBAAD_9M_en"}],max_volume:100}};t("$jscomp.scope.BubbleService",eo,void 0);
eo.prototype.getBubbleData=function(){return this.json_};var fo=function(a,b){this.http_=a;this.lodash_=b};t("$jscomp.scope.DriveService",fo,void 0);fo.$inject=["$http","lodash"];fo.prototype.getSpreadsheet=function(a,b){b=this.lodash_.template("<%= basePath %>sheets/<%= fileID %>/")({basePath:"/api/v1/drive/",fileID:b});return this.http_.get(b,{params:{access_token:a}})};
fo.prototype.updateSpreadsheet=function(a,b,c,e){b=this.lodash_.template("<%= basePath %>sheets/<%= fileID %>/")({basePath:"/api/v1/drive/",fileID:b});return this.http_.put(b,{access_token:a,keys:e,rows:c})};var go=function(a){this.globalsService_=a};go.prototype.getFeaturedHomePageWidgetHeight=function(a){return ho[""+this.globalsService_.getBreakpointRange().toUpperCase()+(a?"_MAIN":"")]};go.$inject=["globalsService"];var ho={SMALL:182,MEDIUM:230,LARGE:192,SMALL_MAIN:173,MEDIUM_MAIN:252,LARGE_MAIN:301};var oo=function(a,b,c,e){var f=this;this.rootScope_=c;c=e.throttle(function(){return f.onResize_()},50);this.window_=a;this.document_=b;this.utilsService_=e;this.mobileWidth=640;this.tabletWidth=960;this.testStoryID="US_lnk_e95d0c16_e75c_41e8_8b40_a48ad76863bc";this.responsiveMode="desktop";this.isDesktopMode=!0;this.isMobileMode=!1;this.isIOSDevice=/iPad|iPhone|iPod/.test(navigator.userAgent||navigator.vendor||window.opera);this.isIOS=this.testUserAgent_(io);this.isAndroid=this.testUserAgent_(jo);
this.isWindowsPhone=this.testUserAgent_(ko);this.isIE10=this.testUserAgent_(lo)&&10===document.documentMode;this.viewportMinimalDimensionSize_=this.getViewportMinimalDimensionSize_(a);this.isGvizLoading_=!1;this.gvizOnReadyCallbackArr_=[];this.windowInnerWidth=0;this.screenSizes=mo;this.isSmallDisplayWidth="small"===this.getBreakpointRange();this.isLargeDisplayWidth="large"===this.getBreakpointRange();this.geoPickerOptions=no;angular.element(a).on("resize",c);this.onResize_()};d=oo.prototype;
d.getGeoPicker=function(a){switch(a){case "allCountries":return this.window_.allCountriesGeoPicker;default:return this.window_.geoPicker}};d.isYisPage=function(a){return/(\/yis\/)\d{4}\/.*/.test(a)};d.getViewportMinimalDimensionSize_=function(a){return Math.min(a.innerWidth,a.innerHeight)};
d.getResponsiveMode=function(){return/forceMobileMode=true/.test(window.location.search)?"mobile":/forceMobileMode=false/.test(window.location.search)?"desktop":this.isMobileOS()?this.getViewportMinimalDimensionSize_(this.window_):this.window_.innerWidth>this.mobileWidth?"desktop":"mobile"};d.getIECssClass=function(){return 0<navigator.userAgent.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE")?"ie-class":""};
d.isTabletMode_=function(){return this.window_.innerWidth>this.mobileWidth&&this.window_.innerWidth<=this.tabletWidth};d.isValidColor_=function(a){var b=document.getElementById("divValidColor");b||(b=document.createElement("div"),b.id="divValidColor");b.style.borderColor=a;a=b.style.borderColor;b.remove();return 0!==a.length};d.testUserAgent_=function(a){return a.test((navigator.userAgent||navigator.vendor||window.opera).toLowerCase())};
d.applyGViz=function(a){var b=this,c=function(){b.gvizOnReadyCallbackArr_.forEach(function(e){e(google.visualization)});b.gvizOnReadyCallbackArr_=[]};google.visualization&&google.visualization.DataTable?a(google.visualization):(this.gvizOnReadyCallbackArr_.push(a),this.isGvizLoading_||(this.isGvizLoading_=!0,google.charts.load("44",{callback:c,packages:["corechart"]})))};
d.isTouchDevice=function(){return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch)};d.isSmallTouchDevice_=function(){return this.isMobileOS()?!0:this.isTouchDevice()&&this.viewportMinimalDimensionSize_<=this.tabletWidth};d.isMobileOS=function(){return this.isIOS||this.isAndroid||this.isWindowsPhone};d.getDomainSuffix=function(a){a=a.split(".");a.splice(0,a.indexOf("google")+1);return a.join(".")};
d.getCurrentDateString=function(){var a=new Date;return a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()};d.onResize_=function(){var a=this.getResponsiveMode();this.responsiveMode=a;this.isDesktopMode="desktop"===a;this.isMobileMode="mobile"===a;this.isTabletMode=this.isTabletMode_();this.isSmallTouchDeviceMode=this.isSmallTouchDevice_();this.isSmallDisplayWidth="small"===this.getBreakpointRange();this.isLargeDisplayWidth="large"===this.getBreakpointRange();this.rootScope_.$applyAsync()};
d.isInView=function(a){a=a.getBoundingClientRect();var b=this.window_.innerWidth||this.document_.documentElement.clientWidth;b=a.bottom<=(this.window_.innerHeight||this.document_.documentElement.clientHeight)&&a.right<=b;return 0<=a.top&&0<=a.left&&b};d.immutableMerge=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var e=this;return b.reduce(function(f,g){return e.utilsService_.merge(f,e.utilsService_.cloneDeep(g))},{})};
d.getBreakpointRange=function(){var a=this.window_.innerWidth;return 776>a?"small":776<=a&&1025>a?"medium":"large"};oo.$inject=["$window","$document","$rootScope","utilsService"];var mo={SMALL:"small",MEDIUM:"medium",LARGE:"large"},no={ALL_COUNTRIES:"allCountries",TRENDING_SEARCHES:"trendingSearches"},io=/\/iPad|iPhone|iPod\//,jo=/\/android\/i/,ko=/\/windows phone\/i/,lo=/\/msie\/gi/;var to=function(a,b,c,e){c=e.bind(this.onResize_,this,c);var f=e.throttle(c,50,{trailing:!0});this.isGlobalsYisService=!0;this.window_=a;this.document_=b;this.lodash_=e;this.mobileWidth=640;this.tabletWidth=960;this.testStoryID="US_lnk_e95d0c16_e75c_41e8_8b40_a48ad76863bc";this.responsiveMode="desktop";this.isDesktopMode=!0;this.isMobileMode=!1;this.isIOSDevice=/iPad|iPhone|iPod/.test(navigator.userAgent||navigator.vendor||window.opera);this.isIOS=this.testUserAgent_(po);this.isAndroid=this.testUserAgent_(qo);
this.isWindowsPhone=this.testUserAgent_(ro);this.isIE10=this.testUserAgent_(so)&&10===document.documentMode;this.viewportMinimalDimensionSize_=Math.min(a.innerWidth,a.innerHeight);this.isGvizLoading_=!1;this.gvizOnReadyCallbackArr_=[];this.windowInnerWidth=0;angular.element(a).bind("resize",f);c()};t("$jscomp.scope.GlobalsYisService",to,void 0);to.$inject=["$window","$document","$rootScope","lodash"];var uo=/iPad|Tablet/,po=/iPad|iPhone|iPod/i,qo=/android/i,ro=/windows phone/i,so=/msie/gi;d=to.prototype;
d.getResponsiveMode=function(){return/forceMobileMode=true/.test(window.location.search)?"mobile":/forceMobileMode=false/.test(window.location.search)?"desktop":this.isMobileOS()?"mobile":this.window_.innerWidth>this.mobileWidth?"desktop":"mobile"};d.getIECssClass=function(){return 0<navigator.userAgent.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE")?"ie-class":""};
d.isTabletMode_=function(){return this.testUserAgent_(uo)||this.window_.innerWidth>this.mobileWidth&&this.window_.innerWidth<=this.tabletWidth};d.isValidColor_=function(a){var b=document.getElementById("divValidColor");b||(b=document.createElement("div"),b.id="divValidColor");b.style.borderColor=a;a=b.style.borderColor;b.remove();return 0!==a.length};d.testUserAgent_=function(a){var b=a===po;return a.test(navigator.userAgent||navigator.vendor||window.opera)&&!(b&&window.MSStream)};
d.applyGViz=function(a){var b=this,c=function(){b.gvizOnReadyCallbackArr_.forEach(function(e){e(google.visualization)});b.gvizOnReadyCallbackArr_=[]};google.visualization&&google.visualization.DataTable?a(google.visualization):(this.gvizOnReadyCallbackArr_.push(a),this.isGvizLoading_||(this.isGvizLoading_=!0,google.charts.load("44",{callback:c,packages:["corechart"]})))};
d.isTouchDevice=function(){return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch)};d.isSmallTouchDevice_=function(){return this.isMobileOS()?!0:this.isTouchDevice()&&this.viewportMinimalDimensionSize_<=this.tabletWidth};d.isMobileOS=function(){return this.isIOS||this.isAndroid||this.isWindowsPhone};d.getDomainSuffix=function(a){if(a.match(/localhost|corp\.google/))return"com";a=a.split(".");a.splice(0,a.indexOf("google")+1);return a.join(".")};
d.getCurrentDateString=function(){var a=new Date;return a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()};d.onResize_=function(a){var b=this.getResponsiveMode();this.responsiveMode=b;this.isDesktopMode="desktop"===b;this.isMobileMode="mobile"===b;this.isTabletMode=this.isTabletMode_();this.isSmallTouchDeviceMode=this.isSmallTouchDevice_();a.$applyAsync()};d.isYisPage=function(a){return/(\/yis\/)\d{4}\/.*/.test(a)};
d.isInView_=function(a){a=a.getBoundingClientRect();var b=this.window_.innerWidth||this.document_.documentElement.clientWidth;b=a.bottom<=(this.window_.innerHeight||this.document_.documentElement.clientHeight)&&a.right<=b;return 0<=a.top&&0<=a.left&&b};d.immutableMerge=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var e=this;return b.reduce(function(f,g){return e.lodash_.merge(f,e.lodash_.cloneDeep(g))},{})};var vo=function(){};vo.prototype.getFieldIfKeepState=function(a,b){if(a){var c=this.findFieldByName_(a,"keepState");if(c&&c.value)return this.findFieldByName_(a,b)}};vo.prototype.findFieldByName_=function(a,b){return a.find(function(c){return c.name===b})};var xo=function(){this.franceSvgMapDataMock=wo};t("$jscomp.scope.MocksService",xo,void 0);
var wo=[{value:{code:"FR-21",values:[10],formattedValues:[10],name:"france1"}},{value:{code:"FR-70",values:[90],formattedValues:[90],name:"france2"}},{value:{code:"FR-18",values:[70],formattedValues:[70],name:"france3"}},{value:{code:"FR-36",values:[50],formattedValues:[50],name:"france4"}},{value:{code:"FR-53",values:[5],formattedValues:[5],name:"france5"}},{value:{code:"FR-72",values:[65],formattedValues:[65],name:"france6"}},{value:{code:"FR-49",values:[20],formattedValues:[20],name:"france7"}},
{value:{code:"FR-44",values:[10],formattedValues:[10],name:"france8"}},{value:{code:"FR-90",values:[10],formattedValues:[10],name:"france9"}},{value:{code:"FR-58",values:[90],formattedValues:[90],name:"france10"}},{value:{code:"FR-10",values:[70],formattedValues:[70],name:"france11"}},{value:{code:"FR-89",values:[50],formattedValues:[50],name:"france12"}},{value:{code:"FR-88",values:[5],formattedValues:[5],name:"france13"}},{value:{code:"FR-25",values:[65],formattedValues:[65],name:"france14"}},{value:{code:"FR-68",
values:[20],formattedValues:[20],name:"france15"}},{value:{code:"FR-67",values:[10],formattedValues:[10],name:"france16"}}];var yo=function(a,b,c){this.http_=a;this.lodash_=b;this.helpers_=c};t("$jscomp.scope.OAuthService",yo,void 0);yo.$inject=["$http","lodash","helpersFactory"];var zo={drive:{width:450,height:600}};yo.prototype.login=function(a,b){var c="/oauth/"+a;a=zo[a]||{};this.popupWindow_&&this.popupWindow_.close();window.oauthLoginBind=b;return this.popupWindow_=this.helpers_.openWindow(c,"oauth",a)};var Ao=function(a,b){this.window_=a;this.location_=b};d=Ao.prototype;d.shouldDisplayListsExploreLinks=function(){return 2004<=this.getYisYear()};d.getYisYear=function(){var a=this.location_.path().match(/yis\/(\d{4})(.*)/);return a?a[1]:""};d.createExploreLink=function(a){var b=this.getYisYear(),c=b+"-01-01";b+="-12-31";var e=this.getSafeGeo_();e="GLOBAL"!==e?"&geo="+e:"";a=this.encode_(a);return"/trends/explore?date="+c+"%20"+b+"&q="+a+e};d.createExploreStringForTooltip=function(a){return(new sd("Explore {itemText}")).format({itemText:a})};
d.getSafeGeo_=function(){var a=this.getYisYear();a=new RegExp("/yis/"+a+"/(GLOBAL|[A-Za-z]{2})","i");a=this.location_.path().match(a);var b=this.window_.defaultGeo||"GLOBAL";return a?a[1]:b};d.encode_=function(a){a=a.replace(/\?/g,"");return encodeURIComponent(String(a))};d.getItemExploreQuery=function(a,b){return a?a.exploreQuery||a.title:b};Ao.$inject=["$window","$location"];var Bo=function(a,b,c,e,f){this.window_=a;this.location_=b;this.injector_=c;this.q_=e;this.tpYisService_=f};t("$jscomp.scope.TrackingService",Bo,void 0);Bo.$inject=["$window","$location","$injector","$q","tpYisService"];d=Bo.prototype;d.changeWindowLocation_=function(a){Xc(this.window_.location,a)};d.eventCallback_=function(a){if(a.isNewWindow){var b=a.url;a=this.window_;var c=new Db(Bb,"_blank");b=b instanceof hc?b:oc(b);(a||r).open(ic(b),c?Eb(c):"",void 0,void 0)}else this.changeWindowLocation_(a.url)};
d.isInternalURL_=function(a){var b=this.injector_.get("$route"),c=a.match(/trends(\/?.*)$/);c&&(a=c[1]||"/");return!!Object.keys(b.routes).find(function(e){return(e=b.routes[e].regexp)&&e.test(a)})};d.parseUrl_=function(a){return(a=a.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]?[^?#]*)(\?[^#]*|)(#.*|)$/))&&{protocol:a[1],host:a[2],hostname:a[3],port:a[4],pathname:a[5],search:a[6],hash:a[7]}};
d.parseEvent_=function(a){var b=a.currentTarget||a.target,c=b.href||"";a=!("_blank"!=b.target&&!a.ctrlKey&&!a.metaKey&&2!==a.which);try{var e=this.parseUrl_(c),f=e.pathname.match(/^\/trends/),g="support.google.com"===e.hostname,k=e.pathname.match(/^\/trends\/correlate/);!f||k||g||(c=e.pathname+e.search+e.hash)}catch(l){}return{url:c,isNewWindow:a}};d.trackPageview=function(a){this.window_._gaq&&this.window_._gaq.push(["_trackPageview",a])};
d.trackEvent=function(a,b,c,e){var f=this.tpYisService_.getYisYear();f&&(a="Yis "+f+" "+a);f=this.q_.defer();this.window_._gaq&&(a=["_trackEvent",a,b,c],angular.isUndefined(e)||a.push(e),this.window_._gaq.push(a),this.window_._gaq.push(f.resolve));return f.promise};
d.trackEventAndRedirect=function(a,b,c,e,f){a=this.trackEvent(a,b,c,e);this.window_._gaq&&this.window_._gaq._getAsyncTracker&&(b=this.parseEvent_(f),this.isInternalURL_(b.url)||(b=this.eventCallback_.bind(this,b),a.then(b),f.preventDefault()));return a};var Co=function(a){this.debounce=a.debounce;this.cloneDeep=a.cloneDeep;this.throttle=a.throttle;this.defaults=a.defaults;this.zip=a.zip;this.remove=a.remove;this.uniq=a.uniq;this.zip=a.zip;this.zipWith=a.zipWith;this.merge=a.merge};Co.prototype.flatten=function(a){return a.reduce(function(b,c){return a.concat(c)},[])};Co.$inject=["lodash"];var Do=function(a,b){this.http_=a;this.lodash_=b};t("$jscomp.scope.WidgetService",Do,void 0);Do.$inject=["$http","lodash"];d=Do.prototype;d.convertParams_=function(a,b,c,e,f){f||(f={});return{type:a,version:b,template:c,fields:e,external_apis:this.lodash_.map(f.apis,function(g){return{name:g.name,url:g.url,params:g.params,auto_refresh_timeout:g.autoRefreshTimeout}}),name:f.name,is_active:f.isActive,is_public:f.isPublic,expires_on:f.expiresOn,short_url:f.shortUrl}};
d.create=function(a,b,c,e,f){a=this.convertParams_(a,b,c,e,f);return this.http_.post("/api/v1/widgets/",a)};d.get=function(a,b){b||(b={});a=this.lodash_.template("<%= baseURL %><%= widgetID %>/")({baseURL:b.baseURL||"/api/v1/widgets/",widgetID:a});return this.http_(this.lodash_.extend({method:"GET",url:a},b))};
d.getWidgetList=function(a){a||(a={});return this.http_.get("/api/v1/widgets/",{params:{is_active:a.isActive,is_public:a.isPublic,owner_email:a.ownerEmail,type:a.widgetType,template:a.template,order_by:a.orderBy,offset:a.offset,batch_size:a.batchSize,name:a.searchText,short_url:a.shortUrlSearchText}})};d.getOwnerList=function(a){a||(a={});return this.http_.get("/api/v1/widgets/owners/",{params:{is_active:a.isActive,is_public:a.isPublic}})};
d.download=function(a,b,c){a=this.lodash_.template("<%= baseURL %><%= widgetID %>/?mimetype=<%= mimetype %>&scale=<%= scale %>&as_attachment=true")({baseURL:"/api/v1/widgets/",mimetype:b,scale:c,widgetID:a});window.location=a};d.remove=function(a){a=this.lodash_.template("<%= baseURL %><%= widgetID %>/")({baseURL:"/api/v1/widgets/",widgetID:a});return this.http_["delete"](a)};
d.update=function(a,b,c,e,f,g){a=this.lodash_.template("<%= baseURL %><%= widgetID %>/")({baseURL:"/api/v1/widgets/",widgetID:a});b=this.convertParams_(b,c,e,f,g);return this.http_.put(a,b)};var T=angular.module("publishAppFramework",["ngSanitize","publishAppFrameworkViews"]),Eo=function(a){var b=function(c){var e=(c=c[0].getElementById("tpt-csrf-token"))&&c.getAttribute("data-token");return{request:function(f){e&&/^(?!http)/.test(f.url)&&(f.headers["X-CSRF-Token"]=e);return f}}};b.$inject=["$document"];a.interceptors.push(b)};t("$jscomp.scope.csrfMiddleware",Eo,void 0);Eo.$inject=["$httpProvider"];var Fo=function(a,b,c,e){a.globals=e.getYisYear()?c:b};
t("$jscomp.scope.rootScopeConfig",Fo,void 0);Fo.$inject=["$rootScope","globalsService","globalsYisService","tpYisService"];T.config(Eo);T.config(["$locationProvider",function(a){a.hashPrefix("")}]);T.run(Fo);T.controller("DonutChartDirectiveCtrl",ll);T.controller("GeoChartCtrl",ml);T.controller("HeightAdjustableEditorialWidgetCtrl",ol);T.controller("LineChartLegendsCtrl",pl);T.controller("PaginationDirectiveCtrl",ql);T.controller("SvgMapCtrl",rl);T.directive("barChart",zl);T.directive("bidi",Dl);
T.directive("bindHtmlCompile",Gl);T.directive("carousel",Nl);T.directive("donutChartDirective",function(){return{controller:ll,controllerAs:"ctrl",restrict:"E",scope:{columns:"=",chartData:"=data",options:"=",updateOnResize:"<?"},template:'<div class="donut-directive"></div>',link:function(a,b){return a.element=b}}});T.directive("geoChart",Ol);T.directive("heightAdjustableEditorialWidget",Pl);T.directive("helpDialog",Ul);T.directive("lineChartDirective",bm);T.directive("lineChartLegends",Vl);
T.directive("listItemActions",im);T.directive("lowSearchVolumeFilter",om);T.directive("mapAdapter",sm);T.directive("pagination",function(){return{controller:ql,controllerAs:"ctrl",restrict:"E",scope:{maxItemsPerPage:"=",totalNumberOfItems:"=",paginationText:"=?",currentPage:"=",carouselBehavior:"<?"},templateUrl:"/framework/views/pagination-directive.html"}});T.directive("scrollTo",xm);T.directive("sparkline",Am);T.directive("svgMap",Bm);T.directive("track",Fm);T.directive("tvBroadcast",Im);
T.directive("widget",Tm);T.directive("widgetActions",Zm);T.directive("widgetLoader",bn);T.directive("widgetTitleEllipsis",Mm);T.factory("colorsFactory",hn);T.factory("geometryFactory",mn);T.factory("helpersFactory",qn);T.factory("lodash",sn);T.factory("queueFactory",yn);T.factory("widgetAPIFactory",Jn);T.factory("widgetFactory",En);T.factory("widgetFieldFactory",Qn);T.filter("path",Sn);T.filter("range",Vn);T.filter("titleize",Yn);T.filter("typography",$n);T.service("bidiService",ao);
T.service("bubbleService",eo);T.service("driveService",fo);T.service("editorialsService",go);T.service("globalsService",oo);T.service("globalsYisService",to);T.service("keepWidgetStateService",vo);T.service("mocksService",xo);T.service("oauthService",yo);T.service("tpYisService",Ao);T.service("trackingService",Bo);T.service("utilsService",Co);T.service("widgetService",Do);angular.module("publishAppWidgetsFeBubbleChartV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_bubble_chart_v1/views/bubble-chart-directive.html",'<div class="bubble-container {{mediaQueryClass}}" ng-class="{\'is-embed\': isEmbed}">\n  <div class="type" ng-if="stories">\n    <div class="titles brand" ng-show="isIdle">\n      <div class="title-date" ng-if="mediaQueryClass == \'viz-size-small\'">&nbsp;</div>\n      <h2>{{data.topic.value | typography}}</h2>\n      <h5>{{data.subtitle.value}}</h5>\n    </div>\n    <div class="titles" ng-show="currentStory">\n      <div class="title-date" ng-if="currentStory && mediaQueryClass == \'viz-size-small\'">{{currentStory.date | date:"MMMM d"}}</div>\n      <h2 ng-attr-style="color:{{currentStory.color}}">{{currentStory.name | typography}}</h2>\n      <h5>{{currentStory.subtitle | typography}}</h5>\n      <div class="title-tooltip" ng-style="{\'color\': currentStory.color}" ng-if="currentStory && mediaQueryClass == \'viz-size-small\'">{{currentStory.bucket}}M+ SEARCHES</div>\n    </div>\n  </div>\n\n  <svg ng-if="stories"\n       ng-mouseleave="onMouseLeave()"\n       ng-mousemove="onMouseMove()">\n\n    <defs>\n      <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="shadow">\n        <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>\n        <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n        <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.35 0" in="shadowBlurOuter1" type="matrix" result="shadowMatrixOuter1"></feColorMatrix>\n        <feMerge>\n          <feMergeNode in="shadowMatrixOuter1"></feMergeNode>\n          <feMergeNode in="SourceGraphic"></feMergeNode>\n        </feMerge>\n      </filter>\n    </defs>\n\n    <g class="timeline-not-idle" id="timeline_back" ng-if="!isIdle">\n      <path class="timeline-path"\n            ng-attr-d="{{points | path:pointWidth}}"\n            stroke-width="1"\n            ng-attr-transform="translate({{padding}}, 0)"\n            fill-opacity="1" fill="none" stroke="{{currentStory ? currentStory.color : \'#000\'}}" ng-style="{\'opacity\': currentStory ? \'1\' : \'0.2\'}"></path>\n      <text class="month-label"\n            ng-repeat="tick in monthTicks track by $index"\n            ng-hide="mediaQueryClass == \'viz-size-small\' && !($first || $last)"\n            text-anchor="middle"\n            ng-attr-x="{{$index * pointWidth * 4 + pointWidth * 2 + padding}}"\n            ng-attr-y="{{points[$index*4+2] + 30}}">{{tick.name}}</text>\n    </g>\n\n    <g class="story"\n       ng-attr-transform="translate({{pointWidth * story.peak_index + padding - story.radius}}, 0)"\n       ng-repeat="story in stories | orderBy: \'-radius\'"\n       ng-mouseenter="onStoryHover(story)"\n       ng-mouseleave="onStoryOut()"\n       ng-click="onStoryClick($event)">\n      <circle class="bubble"\n              ng-class="{idle: isIdle}"\n              ng-attr-r="{{(story == currentStory) && (story.radius + 3) || story.radius}}"\n              ng-attr-cx="{{story.radius}}"\n              ng-attr-cy="{{getYAxisCoordinations(0)}}"\n              ng-attr-filter="{{(story == currentStory) && \'url(#shadow)\' || \'none\'}}"\n              ng-attr-fill-opacity="{{(isIdle || story == currentStory) && 1 || 0.06}}"\n              ng-attr-fill="{{(isIdle || story == currentStory) && story.color || \'rgba(0,0,0,1)\'}}">\n      </circle>\n      <circle r="3"\n              ng-attr-cx="{{story.radius}}"\n              ng-attr-cy="{{getYAxisCoordinations(0)}}"\n              ng-if="story == currentStory"\n              fill-opacity="0.3"\n              fill="black">\n      </circle>\n    </g>\n\n    <g class="timeline" id="timeline_front" ng-if="isIdle">\n      <path class="timeline-path"\n            ng-attr-d="{{points | path:pointWidth}}"\n            stroke-width="1"\n            ng-attr-transform="translate({{padding}}, 0)"\n            fill-opacity="1" fill="none" stroke="#000"></path>\n      <text class="month-label"\n            ng-repeat="tick in monthTicks track by $index"\n            ng-hide="mediaQueryClass == \'viz-size-small\' && !($first || $last)"\n            text-anchor="middle"\n            ng-attr-x="{{$index * pointWidth * 4 + pointWidth * 2 + padding}}"\n            ng-attr-y="{{points[$index*4+2] + 30}}">{{tick.name}}</text>\n    </g>\n  </svg>\n\n  <div class="tooltip"\n       ng-if="currentStory"\n       ng-style="{\'top\': getYAxisCoordinations(0) + currentStory.radius + 24 + \'px\',\n                  \'left\': padding + pointWidth * currentStory.peak_index - 150 / 2 + \'px\'}">\n    <div class="value" ng-style="{\'color\': currentStory.color}">{{currentStory.bucket}}M+</div>\n    <div class="desc" ng-style="{\'color\': currentStory.color}">Searches in {{currentStory.date.getFullYear()}}</div>\n    <div class="link">click to explore story<span class="link-out"></span></div>\n  </div>\n\n  <div class="legend">\n    <div><span class="legend-line"></span>Story life cycle</div>\n    <div><span class="legend-circle"></span>Story search volume</div>\n  </div>\n  <div class="explore">\n    <a href="https://www.google.com/trends/2015" class="link-out-dark" target="_blank">EXPLORE ALL STORIES</a>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_bubble_chart_v1/views/fe_embed.html",'<bubble-chart data="ctrl.widget.fields" is-editor="isEditor"></bubble-chart>\n'))}]);var Ho=function(){this.restrict="E";this.templateUrl="/widgets_library/fe_bubble_chart_v1/views/bubble-chart-directive.html";this.scope={data:"=",isEditor:"="};this.link=Go.bind(this.link,this)},Go,Io,Jo,Ko;d=Ho.prototype;d.MIN_BUBBLE_RADIUS=5;d.MAX_WIDTH=1300;d.PADDING=64;d.BUBBLE_RADIUS_MULTIPLIER=120;d.IDLE_TIMEOUT=1500;d.NORMALIZE_VALUE=800;
d.link=function(a,b){a.isTouchDevice_=Io.isTouchDevice();Jo.animationFrame_=this.getAnimationFrame_();a.bubbleContainer=b.children()[0];a.bubbleRadiusMultiplier_=Ho.prototype.BUBBLE_RADIUS_MULTIPLIER;a.padding=Ho.prototype.PADDING;a.isEmbed=a.isEditor?/embed=true/.test(window.location.href):/embed=true/.test(window.location.search);a.onResize=Go.bindKey(this,"onResize_",a);a.getYAxisCoordinations=Go.bindKey(this,"getYAxisCoordinations_",a);a.morph=Go.bindKey(this,"morph_",a);a.onMouseLeave=Go.bindKey(this,
"onMouseLeave_",a);a.onStoryHover=Go.bindKey(this,"onStoryHover_",a);a.onStoryOut=Go.bindKey(this,"onStoryOut_",a);a.onDateMouseEnter=Go.bindKey(this,"onDateMouseEnter_",a);a.onDateMouseLeave=Go.bindKey(this,"onDateMouseLeave_",a);a.onStoryClick=Go.bindKey(this,"onStoryClick_",a);this.init_(a);a.$watch("bubbleContainer.clientWidth",function(){a.onResize()});a.$watch("bubbleContainer.clientHeight",function(){a.onResize()});var c=this;a.isEditor&&a.$watch("data",function(e){a.startDate_=a.data.start_date.value;
a.points=[];a.maxVolume_=a.data.max_volume.value;a.pointsTotal=a.data.stories.items[0].value.data.length;c.initDates_(a);c.initLinePoints_(a);Go.forEach(e.stories.items,function(f){f=f.value;f.radius=c.calculateRadius_(a,f);f.date=a.dates[f.peak_index]})},!0)};
d.init_=function(a){var b=this;a.startDate_=a.data.start_date.value;a.points=[];a.monthTicks=[];a.isIdle=!0;a.maxVolume_=a.data.max_volume.value;a.pointsTotal=a.data.stories.items[0].value.data.length;a.stories=[];this.initDates_(a);this.initLinePoints_(a);this.initMonthTicks_(a);a.data.stories.items.forEach(function(c){c=c.value;a.stories.push(c);c.radius=b.calculateRadius_(a,c);c.date=a.dates[c.peak_index]});Ko(a.morph,50)};
d.setMediaQueryClass_=function(a){var b=Ho.prototype.MAX_WIDTH,c=Ho.prototype.PADDING;a.bubbleContainer.clientWidth>b+2*c?(a.mediaQueryClass="viz-size-large",a.padding=(a.bubbleContainer.clientWidth-b)/2):640<a.bubbleContainer.clientWidth?(a.mediaQueryClass="viz-size-large",a.padding=c):480<a.bubbleContainer.clientWidth?(a.mediaQueryClass="viz-size-medium",a.padding=48):(a.mediaQueryClass="viz-size-small",a.padding=16)};
d.onStoryClick_=function(a){a.isTouchDevice_?a.currentStoryTouched==a.currentStory?Jo.open(a.currentStory.link,"_blank"):a.currentStoryTouched=a.currentStory:Jo.open(a.currentStory.link,"_blank")};d.onMouseLeave_=function(a){Ko.cancel(a.idleTimeout_);a.idleTimeout_=Ko(function(){a.isIdle=!0},Ho.prototype.IDLE_TIMEOUT);a.currentStory=null;a.currentStoryTouched=null};
d.onStoryHover_=function(a,b){Ko.cancel(a.leaveTimeout_);Ko.cancel(a.idleTimeout_);a.isIdle=!1;a.currentStory=b;a.activeDate=a.dates[b.peak_index];Ko(a.morph,50)};d.onStoryOut_=function(a){Ko.cancel(a.leaveTimeout_);Ko.cancel(a.idleTimeout_);a.currentStory=null;a.currentStoryTouched=null;a.idleTimeout_=Ko(function(){a.isIdle=!0},Ho.prototype.IDLE_TIMEOUT);Ko(a.morph,50)};d.onDateMouseEnter_=function(a,b){a.activeDate=b};d.onDateMouseLeave_=function(a){a.activeDate=null};
d.initLinePoints_=function(a){for(var b=0;b<=a.pointsTotal;b++)a.points.push(a.getYAxisCoordinations(0))};d.initMonthTicks_=function(a){Go.forEach("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),function(b){var c={};c.name=b;a.monthTicks.push(c)})};d.initDates_=function(a){a.dates=[];for(var b=0;b<a.pointsTotal;b++)a.dates.push(this.indexToDate_(a,b))};
d.morph_=function(a){for(var b=0,c=0;c<a.pointsTotal;c++){var e=a.currentStory?a.getYAxisCoordinations(a.currentStory.data[c]):a.getYAxisCoordinations(0);.5<Math.abs(e-a.points[c])?a.points[c]+=.4*(e-a.points[c]):(a.points[c]=e,b++)}a.$$phase||a.$apply();c!=b&&Jo.animationFrame_(a.morph)};d.getAnimationFrame_=function(){return Jo.requestAnimationFrame||Jo.webkitRequestAnimationFrame||Jo.mozRequestAnimationFrame||Jo.oRequestAnimationFrame||Jo.msRequestAnimationFrame||function(a){Ko(a,1E3/60)}};
d.getYAxisCoordinations_=function(a,b){return(a.maxVolume_-b)/a.maxVolume_*(a.bubbleContainer.clientHeight/2)};d.calculateRadius_=function(a,b){return b.bucket/Ho.prototype.NORMALIZE_VALUE*a.bubbleRadiusMultiplier_+Ho.prototype.MIN_BUBBLE_RADIUS};d.indexToDate_=function(a,b){a=new Date(a.startDate_);a.setDate(a.getDate()+7*b);return a};
d.onResize_=function(a){var b=this;this.setMediaQueryClass_(a);a.pointWidth=Math.min(a.bubbleContainer.clientWidth-2*a.padding,Ho.prototype.MAX_WIDTH)/a.pointsTotal;a.bubbleRadiusMultiplier_=5*a.pointWidth;a.stories&&a.stories.forEach(function(c){c.radius=b.calculateRadius_(a,c)});a.points=[];this.initLinePoints_(a)};var Lo=function(a,b,c,e,f,g){Go=a;Jo=c;Ko=e;Io=g;return new Ho};t("$jscomp.scope.directiveInjector$jscomp$16",Lo,void 0);Lo.$inject="lodash $http $window $timeout bubbleService globalsService".split(" ");var U={},Mo=function(a,b,c,e,f,g){var k=this;this.availableColors_=[];e.Colors.SOCIAL_PALETTE.forEach(function(l){k.availableColors_.push({name:l.name,value:l.hexvalue})});this.lodash_=b;b=[{name:"topic",type:"string",placeholder:"YIS Title",value:"A Year in Search 2015 Timeline",translation:{translate:!0,description:"Year in search title."}},{name:"subtitle",type:"string",placeholder:"YIS Subtitle",value:"See the biggest news this year in search. Click to explore the stories in more detail",translation:{translate:!0,
description:"Year in search subtitle."}},{name:"start_date",type:"string",placeholder:"Start date",value:"Dec 28 2014"},{name:"max_volume",type:"number",placeholder:"Max volume",value:g.getBubbleData().max_volume},{name:"stories",type:"list",subtype:"map",maxLimit:50,keys:"name subtitle color bucket peak_index date link data".split(" "),translation:{translate:!0,keys:[{name:"name",description:"Story title."},{name:"subtitle",description:"Story subtitle."}]},keysConfig:{name:{gridSpan:12},subtitle:{gridSpan:12},
color:{gridSpan:6,options:b.values(this.availableColors_)},bucket:{gridSpan:3},date:{gridSpan:12},peak_index:{gridSpan:3},link:{gridSpan:12},data:{gridSpan:12}},values:g.getBubbleData().stories}];this.widget=new c(b,a.isEditor)};t("$jscomp.scope.FeBubbleChartV1Ctrl",Mo,void 0);Mo.$inject="$scope lodash widgetFactory colorsFactory globalsService bubbleService".split(" ");Mo.DISPLAY_TYPE="Bubble Chart";Mo.SUBTITLE="See the biggest news this year in search. Click to explore the stories in more detail";
Mo.START_DATE="Dec 28 2014";Mo.GROUP_TYPE="YIS";Mo.FULL_WIDTH=!0;Mo.TYPE="fe_bubble_chart";Mo.VERSION=1;Mo.TEMPLATES=["fe_embed"];U.FeBubbleChartV1=Mo;var No=angular.module("publishAppFeBubbleChartV1",["publishAppFramework","publishAppWidgetsFeBubbleChartV1Views"]);No.controller("FeBubbleChartV1Ctrl",U.FeBubbleChartV1);No.directive("bubbleChart",Lo);No.service("clipboardService",function(){return!1});angular.module("publishAppWidgetsFeCircularProgressV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_circular_progress_v1/views/circular-progress-atom.html",'<div class="fe-circular-progress-atom">\n  <div class="circular-image-wrapper">\n    <svg viewBox="3 3 38 38">\n      <g fill="transparent" transform="rotate(270, 22, 22)">\n        <circle class="circular-progress-background" r="15.915507752" cx="22" cy="22">\n        </circle>\n        \x3c!-- In order to calculate real percentage values (0-100), we are using Circumference\n          of a Circle formula (C=2\u03c0r) in our case (100=2\u03c0r) meaning that r value is\n          r=15.915507752 --\x3e\n        <circle class="circular-progress-stroke" stroke={{colors.getHexValue(atomData.color)}}\n                r="15.915507752" cx="22" cy="22" stroke-dasharray="100"\n                ng-style="{\'stroke-dashoffset\': getCircularProgressStrokeOffsetBind(atomData)}">\n        </circle>\n        <circle class="circular-progress-image-mask" r="28" cx="22" cy="22" stroke="white">\n        </circle>\n      </g>\n    </svg>\n    <img class="circular-image" src="{{atomData.imageUrl}}" ng-if="atomData.imageUrl"></img>\n  </div>\n  <div class="title-wrapper">\n    <div class="circular-progress-title"\n         ng-if="!isSmallTabletBreakpoint"\n         ng-class="{\'circular-progress-large-title\': isLargeTitle}">{{atomData.title}}</div>\n    <div class="circular-progress-title"\n         ng-if="isSmallTabletBreakpoint"\n         ng-class="{\'circular-progress-large-title\': isLargeTitle}">\n      {{getSeparatedTitleBind(atomData.title).firstName}}\n      </br>\n      {{getSeparatedTitleBind(atomData.title).lastName}}\n    </div>\n    <div class="circular-progress-subtitle">{{atomData.subtitle}}</div>\n    <div class="circular-progress-percentage-text" ng-if="isMobileMode && isPercentageDataMode">\n      {{atomData.percentage}}% {{atomData.description}}\n    </div>\n  </div>\n  <div ng-if="!isMobileMode && isPercentageDataMode">\n    <div ng-style="{color: colors.getHexValue(atomData.color)}"\n         class="circular-progress-percentage">\n      {{atomData.percentage}}%\n    </div>\n    <div class="circular-progress-percentage-caption">\n      {{atomData.description}}\n    </div>\n  </div>\n  <div class="circular-progress-link" href="{{atomData.link}}" ng-if="!isEmbedTemplate">\n    <span ng-if="!isMobileMode && !isSmallTabletBreakpoint">\n      EXPLORE\n    </span>\n    <div class="arrow-forward"></div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_circular_progress_v1/views/circular-progress-directive.html",'<carousel ng-if="!isMobileMode" hide-buttons="false" viewable-items-count="viewableItemsCount">\n  <a class="fe-circular-progress-atom-wrapper"\n     ng-repeat="atomData in data"\n     ng-include="\'/widgets_library/fe_circular_progress_v1/views/circular-progress-atom.html\'"\n     ng-style="{\'width\': atomWidth}"\n     ng-href="{{atomData.link}}" ng-attr-target="{{(isEmbedTemplate) ? \'_blank\' : undefined}}">\n  </a>\n</carousel>\n\n<a class="fe-circular-progress-atom-wrapper fe-circular-progress-mobile"\n   ng-repeat="atomData in data"\n   ng-include="\'/widgets_library/fe_circular_progress_v1/views/circular-progress-atom.html\'"\n   ng-if="isMobileMode"\n   ng-href="{{atomData.link}}" ng-attr-target="{{(isEmbedTemplate) ? \'_blank\' : undefined}}">\n</a>\n'),
a.put("/widgets_library/fe_circular_progress_v1/views/content.html",'<div class="small-atom">\n  <circular-progress-directive\n    colors="ctrl.colors"\n    class="block-container"\n    data="ctrl.circularProgressData"\n    is-percentage-data-mode="ctrl.isShowPercentageDataMode()">\n  </circular-progress-directive>\n</div>\n'),a.put("/widgets_library/fe_circular_progress_v1/views/fe.html",'<div class="fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields"\n     ng-class="{\'circular-progress-with-data\': ctrl.isShowPercentageDataMode()}">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       ng-if="ctrl.isShowPercentageDataMode()">\n    <div class="fe-atoms-generic-title">\n      {{fields.topic.value}}\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       ng-if="ctrl.globals.isMobileMode && !ctrl.isShowPercentageDataMode()">\n    <div class="fe-atoms-generic-title">\n      Tap on presidential candidate to explore more.\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_circular_progress_v1/views/content.html\'"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_circular_progress_v1/views/fe_embed.html",'<div class="embed-container fe-circular-embed-container" ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n  <ng-include src="\'/widgets_library/fe_circular_progress_v1/views/fe_embed_content.html\'"></ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_circular_progress_v1/views/fe_embed_content.html",
'<div class=\'embed-atom\'>\n  <circular-progress-directive\n    colors="ctrl.colors"\n    class="block-container embed"\n    data="ctrl.circularProgressData"\n    is-embed-template="true"\n    is-percentage-data-mode="ctrl.isShowPercentageDataMode()">\n  </circular-progress-directive>\n</div>\n'),a.put("/widgets_library/fe_circular_progress_v1/views/now_card.html",'<div class="now-card-circular-progress small-atom"\n     ng-init="fields = ctrl.widget.fields">\n  <circular-progress-directive colors="ctrl.colors"\n                               class="block-container"\n                               data="ctrl.circularProgressData"\n                               disable-carousel="true">\n  </circular-progress-directive>\n</div>\n'))}]);var Oo=function(){this.restrict="E";this.templateUrl="/widgets_library/fe_circular_progress_v1/views/circular-progress-directive.html";this.scope={colors:"=",data:"=",disableCarousel:"=?",isEmbedTemplate:"=?",isPercentageDataMode:"="};this.link=V.lodash.bind(this.link,this)},V={};d=Oo.prototype;
d.link=function(a,b){a.isSmallTabletBreakpoint=!1;var c=V.lodash.bindKey(this,"isSmallTabletBreakpoint_",a);a.deps=V;a.$watch("deps.window.innerWidth",c);a.getSeparatedTitleBind=V.lodash.bindKey(this,"getSeparatedTitle_");var e=angular.element(V.window),f=V.lodash.bindKey(this,"onResize_",a,b);e.bind("resize",f);this.onResize_(a,b);V.timeout(function(){a.afterWidgetLoadDelay=!0},500);a.getColorValue=V.lodash.bindKey(this,"getColorValue_",a);a.$on("$destroy",function(){e.unbind("resize",f)});a.getCircularProgressStrokeOffsetBind=
V.lodash.bindKey(this,"getCircularProgressStrokeOffset_",a)};d.getCircularProgressStrokeOffset_=function(a,b){return a.isPercentageDataMode?a.afterWidgetLoadDelay?100-b.percentage:100:0};d.isSmallTabletBreakpoint_=function(a){var b=V.window.innerWidth;a.isSmallTabletBreakpoint=640<b&&859>=b};d.getSeparatedTitle_=function(a){var b=a.split(" ");2<b.length&&V.lodash.forEach(b,function(c,e){1<e&&(b[1]+=" "+c)});return{firstName:b[0],lastName:b[1]}};
d.calcViewableItemsCount_=function(a,b){return 5<a?b?4.5:3.5:5===a?b?a:1025<=V.window.innerWidth?4.5:3.5:a};d.onResize_=function(a,b){a.isMobileMode=!0===a.disableCarousel||V.globals.isMobileMode;var c=1200<=V.window.innerWidth;a.viewableItemsCount=this.calcViewableItemsCount_(a.data.length,c);a.atomWidth=Math.floor(b[0].clientWidth/a.viewableItemsCount)+"px";a.isLargeTitle=c};d.isTabletMode_=function(){return 1024>V.window.innerWidth&&639<V.window.innerWidth};
var Po=function(a,b,c,e){V.window=c;V.lodash=a;V.globals=b;V.timeout=e;return new Oo};t("$jscomp.scope.directiveInjector$jscomp$17",Po,void 0);Po.$inject=["lodash","globalsService","$window","$timeout"];var Ro=function(a,b,c,e,f){this.lodash_=b;this.globals=f;this.colors=new e.Colors(a.palette||e.Colors.DEFAULT_PALETTE);this.isShowAllMode=this.isSmallMode=!1;this.atomHeight="";e=[{name:"topic",type:"string",placeholder:"Title",value:"Circular Progress",translation:{translate:!0,description:"Title of the widget. http://goo.gl/9aeIiB"}},{name:"ShowAll",type:"boolean",options:{caption:"Show All Items"},value:!1},{name:"topics",type:"list",subtype:"map",maxLimit:20,colorPalette:this.colors,keys:"index title subtitle percentage description color link imageUrl".split(" "),
keysConfig:{index:{gridSpan:2,label:!0},title:{gridSpan:10},subtitle:{gridSpan:8},percentage:{gridSpan:4},description:{gridSpan:12},color:{gridSpan:12,options:b.map(this.colors.palette_,function(g){return{name:g.caption,value:g.name}})},link:{gridSpan:12},imageUrl:{gridSpan:12}},values:Qo,translation:{translate:!0,keys:[{name:"title",description:"The title of the atom. http://goo.gl/51y9TW"},{name:"subtitle",description:"The subtitle of the atom. http://goo.gl/51y9TW"},{name:"description",description:"The percentages description. http://goo.gl/51y9TW"}]}}];
this.widget=new c(e,a.isEditor);this.widget.registerAPI("fe_circular_progress","/trends/api/widgetdata/totals/"+this.globals.testStoryID,{req:{requestOptions:{backend:"IZG"},comparisonItem:[{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"clinton"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"trump"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"stein"}],locale:"en-US"}},[{path:"req.comparisonItem.0.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,
optional:!0,invalidMessage:"Country must contain exactly 2 uppercaseenglish letters or set empty for worldwide."},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(g){for(var k=[],l=0;l<g.length;l++)k.push(g[l].phrase);
return k},setValue:function(g,k){for(var l=[],n=0;n<g.length;n++)l.push({phrase:g[n],time:k.req.comparisonItem[0].time,geo:k.req.comparisonItem[0].geo});return l}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."}]).middleware(b.bindKey(this,"middleware_")).setShowInEditor(!1);this.widget.registerAPI("fe_circular_progress_top","/trends/api/widgetdata/toptotals/"+this.globals.testStoryID,{req:{totalsRequest:{requestOptions:{backend:"IZG"},comparisonItem:[{geo:{country:"US"},
time:"2011-08-28 2016-08-28",phrase:"Hillary Clinton"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"Donald Trump"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"Tim Kaine"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"Mike Pence"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"Gary Johnson"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"Bill Weld"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"Jill Stein"}],locale:"en-US"},topLimit:20}},
[{path:"req.totalsRequest.comparisonItem.0.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercaseenglish letters or set empty for worldwide."},{path:"req.totalsRequest.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.totalsRequest.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.totalsRequest.comparisonItem",
title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(g){var k=[];g=h(g);for(var l=g.next();!l.done;l=g.next())k.push(l.value.phrase);return k},setValue:function(g,k){var l=[];k=k.req.totalsRequest?k.req.totalsRequest:k.req;g=h(g);for(var n=g.next();!n.done;n=g.next())l.push({phrase:n.value,time:k.comparisonItem[0].time,geo:k.comparisonItem[0].geo});return l}},{path:"req.totalsRequest.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"req.topLimit",
title:"Show only top # items",type:"number",setValue:function(g,k){return Math.min(g,k.req.totalsRequest.comparisonItem.length)}}]).middleware(b.bindKey(this,"middleware_"));c=b.bind(this.onTopicsChange_,this);a.$watch("ctrl.widget.fields.topics.items",c,!0);b=b.bind(this.onShowAllItemsChange_,this);a.$watch("ctrl.widget.fields.ShowAll.value",b,!0);this.circularProgressData=null};t("$jscomp.scope.FeCircularProgressV1Ctrl",Ro,void 0);Ro.$inject=["$scope","lodash","widgetFactory","colorsFactory","globalsService"];
Ro.TYPE="fe_circular_progress";Ro.DISPLAY_TYPE="Circular Progress";Ro.GROUP_TYPE={ELE:["fe","fe_embed"],NOW_CARD:["now_card"]};Ro.TEMPLATES=["fe","now_card","fe_embed"];Ro.VERSION=1;Ro.HIDE_IN_EDITOR=!1;Ro.FULL_WIDTH_BY_TEMPLATE={"*":!0,now_card:!1};
var Qo=[{index:1,title:"Hillary Clinton",subtitle:"Democratic Party",color:"PALETTE_COLOR_1",percentage:30,description:"of searches"},{index:2,title:"Donald Trump",subtitle:"Republican Party",color:"PALETTE_COLOR_2",percentage:42,description:"of searches"},{index:3,title:"Tim Kaine",subtitle:"Democratic Party",color:"PALETTE_COLOR_3",percentage:15,description:"of searches"},{index:4,title:"Mike Pence",subtitle:"Republican Party",color:"PALETTE_COLOR_4",percentage:8,description:"of searches"},{index:5,
title:"Gary Johnson",subtitle:"Libertarian Party",color:"PALETTE_COLOR_5",percentage:5,description:"of searches"},{index:6,title:"Bill Weld",subtitle:"Libertarian Party",color:"PALETTE_COLOR_7",percentage:0,description:"of searches"},{index:7,title:"Jill Stein",subtitle:"Green Party",color:"PALETTE_COLOR_8",percentage:0,description:"of searches"}];
Ro.prototype.onTopicsChange_=function(){var a=this,b=this.widget.fields.topics.getValues(),c=!this.isShowPercentageDataMode(),e=c||this.isShowAllMode?b.length:20;this.circularProgressData=this.lodash_.take(b.filter(function(f){return(-1!==f.percentage||c||a.isShowAllMode)&&""!==f.title}),e).sort(function(f,g){return g.percentage-f.percentage});this.isSmallMode=3<this.circularProgressData.length};
Ro.prototype.onShowAllItemsChange_=function(){this.isShowAllMode=this.widget.fields.ShowAll.value;var a=this.widget.apis.fe_circular_progress_top,b=a.params.req.totalsRequest.comparisonItem.length,c=Math.min(20,b);a.params.req.topLimit=this.isShowAllMode?b:c;a.isActive&&a.dispatch()};Ro.prototype.isShowPercentageDataMode=function(){return this.widget.fields.topics.items.filter(function(a){return a.value.percentage&&-1<a.value.percentage}).length};
Ro.prototype.middleware_=function(a){var b=this,c=this.widget.fields.topics.getValues();a["default"].topIndex?c.forEach(function(e,f){f=b.lodash_.indexOf(a["default"].topIndex,f);e.percentage=-1===f?-1:a["default"].totalsResponse.value[f]},this):a["default"].value.forEach(function(e,f){c[f].percentage=e});return{topics:c}};U.FeCircularProgressV1=Ro;var So=angular.module("publishAppFeCircularProgressV1",["publishAppFramework","publishAppWidgetsFeCircularProgressV1Views"]);So.controller("FeCircularProgressV1Ctrl",U.FeCircularProgressV1);So.directive("circularProgressDirective",Po);angular.module("publishAppWidgetsFeDonutChartV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_donut_chart_v1/views/content.html",'<div class="fe-donut-chart-content">\n  <div class="fe-donut-chart-directive-wrapper">\n    <donut-chart-directive class="fe-donut-chart-directive"\n                           data="ctrl.donutData"\n                           options="ctrl.donutOptions"\n                           columns="ctrl.chartColumns">\n    </donut-chart-directive>\n  </div>\n  <div class="fe-donut-chart-legend">\n    <div class="fe-donut-chart-legend-items-wrapper">\n      <div ng-repeat="value in ctrl.legendData | limitTo: 5"\n           class="fe-donut-chart-legend-item">\n        <div class="fe-donut-chart-legend-item-wrapper"\n             ng-mouseover="ctrl.showTooltip($event, $index, value)"\n             ng-mouseleave="ctrl.hideTooltip()">\n          <div class="fe-donut-chart-legend-item-circle"\n               ng-style="{\'background-color\': ctrl.legendColors[$index]}">\n          </div>\n          <div class="fe-donut-chart-legend-item-text" bidi="value.text">\n            {{value.text}}\n          </div>\n          <div class="fe-donut-chart-legend-item-percentage"\n               bidi="(value.percentage)">\n            ({{value.percentage}})\n          </div>\n        </div>\n      </div>\n      <div class="fe-donut-chart-legend-tooltip" id="{{ctrl.tooltipElementId}}">\n      </div>\n    </div>\n  </div>\n\n</div>\n'),
a.put("/widgets_library/fe_donut_chart_v1/views/fe.html",'<div class="fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">\n      {{fields.topic.value}}\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_donut_chart_v1/views/content.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_donut_chart_v1/views/fe_embed.html",
'<div class="embed-container fe-donut-chart-embed-wrapper"\n    ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n  <ng-include class="embed-content"\n              src="\'/widgets_library/fe_donut_chart_v1/views/content.html\'"></ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_donut_chart_v1/views/fe_featured.html",'<div class="fe-featured-atoms-generic-container fe-featured-donut-chart-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-featured-donut-chart-directive-wrapper">\n    <donut-chart-directive class="fe-featured-donut-directive"\n                              data="ctrl.donutData"\n                              options="ctrl.donutOptions"\n                              columns="ctrl.chartColumns">\n    </donut-chart-directive>\n  </div>\n  <div class="fe-featured-donut-chart-legend">\n    <div class="fe-featured-donut-chart-legend-items-wrapper">\n      <div ng-repeat="value in ctrl.legendData | limitTo: 5"\n           class="fe-featured-donut-chart-legend-item-container">\n        <div class="fe-featured-donut-chart-legend-item-circle"\n             ng-style="{\'background-color\':ctrl.legendColors[$index]}">\n        </div>\n        <div class="fe-featured-donut-chart-legend-item-text" bidi="value.text">{{value.text}}</div>\n      </div>\n    </div>\n  </div>\n  <div class="fe-featured-atoms-generic-container-title fe-featured-container-title">\n    {{fields.topic.value | typography}}\n  </div>\n</div>\n\n'),
a.put("/widgets_library/fe_donut_chart_v1/views/fe_featured_homepage.html",'<div class="fe-featured-homepage-container fe-featured-donut-chart-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-donut-legends-container">\n    <div class="fe-featured-donut-chart-directive-wrapper">\n      <donut-chart-directive class="fe-featured-donut-directive"\n                                data="::ctrl.donutData"\n                                options="::ctrl.donutOptions"\n                                columns="::ctrl.chartColumns"\n                                update-on-resize="true">\n      </donut-chart-directive>\n    </div>\n    <div class="fe-featured-donut-chart-legend">\n      <div class="fe-featured-donut-chart-legend-items-wrapper">\n        <div ng-repeat="value in ::ctrl.legendData | limitTo: 5"\n             class="fe-featured-donut-chart-legend-item-container">\n          <div class="fe-featured-donut-chart-legend-item-circle"\n               ng-style="{\'background-color\': ctrl.legendColors[$index]}">\n          </div>\n          <div class="fe-featured-donut-chart-legend-item-text" bidi="::value.text">\n            {{::value.text}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="fe-featured-homepage-title">\n    {{::fields.topic.value | typography}}\n  </div>\n</div>\n'))}]);var Vo=function(a,b,c,e,f){var g=this;this.utilsService_=b;To="/trends/api/widgetdata/totals/";this.globals=f;b=a.palette||e.Colors.DEFAULT_PALETTE_12;this.colors_=new e.Colors(b);this.tooltipElementId="tooltip_"+a.$id;e=[{name:"topic",type:"string",placeholder:"Title",value:"Donut FE",translation:{translate:!0,description:"Title of the widget. http://goo.gl/PpmHsz"}},{name:"bullets",type:"list",subtype:"map",maxLimit:5,keys:["text","percentage","color"],translation:{translate:!0,keys:[{name:"text",
description:"Legend item text of donut chart widget in the Trends website. http://goo.gl/PpmHsz"}]},colorPalette:this.colors_,keysConfig:{text:{gridSpan:9},percentage:{placeholder:"%",gridSpan:3},color:{gridSpan:12,options:b.map(function(k){return{name:k.caption,value:k.name}})}},values:Uo}];this.widget=new c(e,a.isEditor);a.$watch("ctrl.widget.fields.bullets.items",function(){return g.onBulletsChange_()},!0);this.bullets=this.widget.fields.bullets;this.legendColors=this.parseColors_(this.bullets.getValues());
this.donutData=null;this.legendData=[];this.showTooltip=function(k,l,n){if(this.globals.isDesktopMode){k=k.currentTarget;var p=wg(document,this.tooltipElementId);Wc(p,this.createSafeTooltipData_(n,l));p.style.display="block";l=p.offsetHeight;p.style.left=k.offsetLeft+60+"px";p.style.top=k.offsetTop-l+8+"px"}};this.hideTooltip=function(){document.getElementById(this.tooltipElementId).style.display="none"};this.donutOptions={tooltip:{isHtml:!0,showTitle:!1},colors:this.legendColors,legend:"none",pieHole:.6,
backgroundColor:{fill:"transparent"},pieSliceBorderColor:"none",pieSliceText:"none",chartArea:{height:"160",width:"160"}};"fe_featured"===a.template||"fe_featured_homepage"===a.template||f.isMobileMode?(this.donutOptions.enableInteractivity=!1,this.chartColumns=[{type:"string"},{type:"number",label:"bullets.percentage"},{}]):(this.donutOptions.tooltip.slices={0:{color:"black"},3:{color:"red"}},this.donutOptions.tooltip.isHtml=!0,this.donutOptions.crosshair={orientation:"vertical",trigger:"focus",
opacity:.3},this.chartColumns=[{type:"string"},{type:"number",label:"bullets.percentage"},{type:"string",role:"tooltip",p:{html:!0}}]);this.widget.registerAPI("fe_donut_chart",To+this.globals.testStoryID,{req:{requestOptions:{backend:"IZG"},comparisonItem:[{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"ISIL terrorist group"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"Iraq-Syrian border"},{geo:{country:"US"},time:"2011-08-28 2016-08-28",phrase:"American people security"}],locale:"en-US"}},
[{path:"req.comparisonItem.0.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",
getValue:function(k){for(var l=[],n=0;n<k.length;n++)l.push(k[n].phrase);return l},setValue:function(k,l){for(var n=[],p=0;p<k.length;p++)n.push({phrase:k[p],time:l.req.comparisonItem[0].time,geo:l.req.comparisonItem[0].geo});return n}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."}]).middleware(function(k){return g.middleware_(k)})},To;t("$jscomp.scope.FeDonutChartV1Ctrl",Vo,void 0);Vo.$inject=["$scope","utilsService","widgetFactory","colorsFactory","globalsService"];
Vo.DISPLAY_TYPE="Donut FE";Vo.GROUP_TYPE="FE";Vo.HIDE_IN_EDITOR=!1;Vo.FULL_WIDTH=!0;d=Vo.prototype;
d.onBulletsChange_=function(){this.updatePercentageValue_();var a=this.widget.fields.bullets,b=a.getValues();this.legendData=b;this.legendColors=this.parseColors_(b);this.donutOptions.colors=this.legendColors;b=this.parseDonutData_(b);var c="",e=[];this.isValidWeight_(b)||e.push("sum of all weights is not equal to 100%");this.utilsService_.uniq(this.legendColors).length!==this.legendColors.length&&e.push("a color is used more than once");-1<this.legendColors.indexOf(void 0)&&(e.push("there is an item with no color selected"),
this.legendColors[this.legendColors.indexOf(void 0)]="#ffffff");0<e.length&&(c="Warning: "+e.join(" and ")+".");this.donutData=b;a.config.notification=c};d.parseColors_=function(a){for(var b=[],c=0;c<a.length;c++)a[c].color=a[c].color||this.colors_.palette_[c].name,b.push(this.colors_.getHexValues(a[c].color)[0]);return b};d.parseDonutData_=function(a){return a.map(function(b,c){return["",b.percentageVal?b.percentageVal:0,this.createCustomTooltipData_(b,c)]},this)};
d.isValidWeight_=function(a){var b=0;a.forEach(function(c){b+=c[1]});return 100===b};d.createCustomTooltipData_=function(a,b){return Jc(this.createSafeTooltipData_(a,b)).toString()};d.createSafeTooltipData_=function(a,b){var c=Qc("div",{"class":"fe-donut-tooltip-label"},C(a.text));a=Qc("div",{"class":"fe-donut-tooltip-percentage",style:{color:""+this.legendColors[b]}},C(a.percentage));return Qc("div",{"class":"fe-donut-tooltip"},[c,a])};
d.updatePercentageValue_=function(){this.widget.fields.bullets.items.forEach(function(a){if(a.value.percentage){var b=a.value.percentage.match(/(\d+(\.\d+)?)/);a.value.percentageVal=b?parseFloat(b[0]):null}else a.value.percentageVal=null,a.value.color=null})};d.middleware_=function(a){this.widget.fields.bullets.getValues().forEach(function(b,c){b.percentage=a["default"].formattedValue[c];b.percentageVal=a["default"].value[c]})};
var Uo=[{text:"ISIL terrorist group",percentage:"9%",percentageVal:9,color:"PALETTE_COLOR_1"},{text:"Iraq-Syrian border",percentage:"10%",percentageVal:10,color:"PALETTE_COLOR_2"},{text:"American people security",percentage:"81%",percentageVal:81,color:"PALETTE_COLOR_3"}];Vo.TYPE="fe_donut_chart";Vo.VERSION=1;Vo.TEMPLATES=["fe","fe_featured","fe_featured_homepage","fe_embed"];U.FeDonutChartV1=Vo;var Wo=angular.module("publishAppFeDonutChartV1",["publishAppFramework","publishAppWidgetsFeDonutChartV1Views"]);Wo.controller("FeDonutChartV1Ctrl",U.FeDonutChartV1);angular.module("publishAppWidgetsFeExpandableListV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_expandable_list_v1/views/content.html",'<div class="fe-expandable-list-content">\n  <div class="fe-expandable-list-item"\n       ng-class="{\'mobile\': ctrl.globals.isMobileMode}"\n       ng-click="genericAction(\'openListItemModal\', $index)"\n       ng-repeat="value in fields.bullets.getValues() | limitTo: ctrl.getNumberOfItemsToDisplay() track by $index"\n       track="[\'fe_expandable_list\', \'openListItemModal\', fields.topic.value + \'-\' + value]">\n    <div class="fe-expandable-list-question-index number-surrounding-circle"\n         ng-class="{\'mobile\': ctrl.globals.isMobileMode}">\n      {{$index + 1}}\n    </div>\n    <a ng-if="!ctrl.isSmallTouchDevice && ctrl.tpYisService.shouldDisplayListsExploreLinks()"\n       class="fe-expandable-item-text"\n       ng-href="{{::ctrl.getExploreLink(value)}}"\n       ng-attr-title="{{::ctrl.tpYisService.createExploreStringForTooltip(value)}}"\n       target="_self"\n       track="[\'fe_expandable_list\', \'item click\', fields.topic.value + \'-\' + value]">\n      {{value}}\n    </a>\n    <div ng-if="!ctrl.isSmallTouchDevice && !ctrl.tpYisService.shouldDisplayListsExploreLinks()"\n       class="fe-expandable-item-text">\n      {{value}}\n    </div>\n    <list-item-actions class="fe-expandable-list-item-actions"\n                       ng-if="!ctrl.isSmallTouchDevice"\n                       item="value"\n                       list-title="fields.topic.value"\n                       list-items-v2="fields.listItemsV2">\n    </list-item-actions>\n    <div ng-if="ctrl.isSmallTouchDevice"\n         class="fe-expandable-item-text"\n         ng-class="{\'mobile\': ctrl.globals.isMobileMode}">\n      {{value}}\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_expandable_list_v1/views/content_embed.html",'<div class="fe-expandable-content-v1"\n     ng-class="{\'show-expended\': ctrl.showMoreExpanded, \'mobile-elastic\': fields.bullets.getValues().length < 5}">\n  <div class="fe-expandable-item-v1"\n       ng-repeat="value in fields.bullets.getValues() | limitTo:ctrl.getItemsLimit() track by $index">\n    <div class="fe-expandable-question-index-v1 number-surrounding-circle"\n         ng-style="{\'background-color\': ctrl.colors.getHexValue(fields.color.value) || ctrl.defaultNumbersColor}">\n      {{$index + 1}}\n    </div>\n    <span class="fe-expandable-item-text-v1">\n      <a href="https://www.google.com/search?q={{ctrl.getGoogleSearchQuery(value)}}"\n         target="_blank">{{ctrl.getItemTitleValue(value)}}</a>\n    </span>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_expandable_list_v1/views/fe.html",'<div class="fe-atoms-generic-container fe-expandable-list-container"\n     ng-class="{\'touch-device\': ctrl.isSmallTouchDevice, \'list-from-share\': ctrl.isListFromShare,\n                \'mobile\': ctrl.globals.isMobileMode}"\n     ng-init="fields = ctrl.widget.fields"\n     dir="{{getHeaderDirection()}}">\n  <div class="expandable-list-header-wrapper">\n    <div class="expandable-list-header-text"\n         ng-class="{\'mobile\': ctrl.globals.isMobileMode}"\n         dir="{{getHeaderDirection()}}" bidi="fields.topic.value">\n    </div>\n    <widget-actions is-action-menu="false"\n                    list-title="fields.topic.value"\n                    ng-class="{\'mobile\': ctrl.globals.isMobileMode}">\n    </widget-actions>\n  </div>\n\n  <ng-include src="\'/widgets_library/fe_expandable_list_v1/views/content.html\'"></ng-include>\n\n  <div class="show-more"\n       ng-click="ctrl.toggleFieldsVisibility()"\n       ng-show="ctrl.showExpandButton()">\n      <i class="material-icons-extended gray size-20 expandable-show-more-icon"\n         ng-class="{\'mobile\': ctrl.globals.isMobileMode}"\n         ng-if="!ctrl.showMoreExpanded && ctrl.isSmallTouchDevice">add</i>\n      <i class="material-icons-extended blue-selected size-20 expandable-show-more-icon"\n         ng-class="{\'mobile\': ctrl.globals.isMobileMode}"\n         ng-if="!ctrl.showMoreExpanded && !ctrl.isSmallTouchDevice">add</i>\n      <i class="material-icons-extended blue-selected size-20 expandable-show-more-icon"\n         ng-class="{\'mobile\': ctrl.globals.isMobileMode}"\n         ng-if="ctrl.showMoreExpanded && !ctrl.isSmallTouchDevice\n                || ctrl.showMoreExpanded && ctrl.isSmallTouchDevice">remove</i>\n    <div class="show-hide-label" ng-show="!ctrl.showMoreExpanded">\n      Show {{ctrl.getNumberOfHiddenItems()}} more\n    </div>\n\n    <div class="show-hide-label show-less" ng-show="ctrl.showMoreExpanded">\n      Show less\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_expandable_list_v1/views/fe_embed.html",'<div class="fe-expandable-container embed-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="embed-header">\n    <div class="embed-title">\n      {{fields.topic.value}}. {{widgetIsCurated || isEditor ? \'\' : storyCountry + \'. \' + storyTimeRange}}\n    </div>\n    <div class="embed-subtitle">\n      {{storyTitleArray.length ? storyTitleArrayWrapped : storyTitle}}\n    </div>\n    <div class="embed-logo">\n      <a ng-href="/trends/{{getEmbedLogoLink()}}" target="_blank">\n        <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n      </a>\n    </div>\n  </div>\n  <ng-include class="embed-content" src="\'/widgets_library/fe_expandable_list_v1/views/content_embed.html\'">\n  </ng-include>\n  <div class="embed-footer">\n    <div class="embed-title-wrapper">\n      <div class="embed-title">\n        {{storyTitleArray.length ? storyTitleArrayWrapped : storyTitle}}\n      </div>\n    </div>\n    <div class="embed-logo">\n      <a ng-href="/trends/{{getEmbedLogoLink()}}" target="_blank">\n        <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n      </a>\n    </div>\n  </div>\n</div>\n'))}]);var Xo=function(a,b,c,e,f,g,k){this.colors=new c.Colors(a.palette);this.globals=e;this.isSmallTouchDevice=this.globals.isSmallTouchDeviceMode;this.tpYisService=g;this.trackingService_=k;this.template=a.template;e=[{name:"topic",type:"string",placeholder:"Title",value:Xo.DISPLAY_TYPE,translation:{translate:!0,description:"Title of the widget. http://goo.gl/CnRV2e"}},{name:"bullets",type:"list",placeholder:"New list item",values:["Jennifer Lawrence","Renee Zellweger","Betty White","Ellen Page","Kim Novak"],
translation:{translate:!0,description:"The list content of text of the widget. http://goo.gl/CnRV2e"}},{name:"color",type:"string",value:"PALETTE_COLOR_1",colorPalette:this.colors,options:c.Colors.DEFAULT_PALETTE.map(function(l){return{name:l.caption,value:l.name}})},{name:"listItemsV2",type:"list",visible:!1,values:[{title:"",exploreQuery:""}]}];this.widget=new b(e,a.isEditor);this.csvField=this.widget.fields.bullets;this.isListFromShare=!!a.isExpandedList;this.showMoreExpanded=!!a.isExpandedList;
this.isWidgetOnHover=!1;this.storyNumberOfItems=a.storyNumberOfItems;this.defaultNumbersColor=c.Colors.DEFAULT_PALETTE[0].hexvalue};d=Xo.prototype;d.exploreItemByValue=function(a){a&&Xc(window.location,"/trends/explore#q="+encodeURIComponent(a))};d.getExploreLink=function(a){var b=this.widget.fields.listItemsV2.getValues().find(function(c){return c.title===a});return this.tpYisService.createExploreLink(this.tpYisService.getItemExploreQuery(b,a))};
d.toggleFieldsVisibility=function(){this.showMoreExpanded=!this.showMoreExpanded;this.trackingService_.trackEvent("fe_expandable_list",this.showMoreExpanded?"show more":"show less",this.widget.fields.topic.value)};d.getNumberOfItemsToDisplay=function(){return this.showMoreExpanded?10:this.getNumberOfItemsToDisplayWhenNotExpanded_()};d.showExpandButton=function(){return this.widget.fields.bullets.getValues().length>this.getNumberOfItemsToDisplayWhenNotExpanded_()};
d.getNumberOfHiddenItems=function(){return this.widget.fields.bullets.getValues().length-this.getNumberOfItemsToDisplayWhenNotExpanded_()};d.getNumberOfItemsToDisplayWhenNotExpanded_=function(){return this.globals.isMobileMode?3:5};d.encode=function(a){return encodeURIComponent(String(a))};d.getGoogleSearchQuery=function(a){return this.encode("object"===typeof a?a.exploreQuery||a.title:a)};d.getItemTitleValue=function(a){return"object"===typeof a?a.title:a};
da.Object.defineProperties(Xo,{DISPLAY_TYPE:{configurable:!0,enumerable:!0,get:function(){return"Expandable List"}},GROUP_TYPE:{configurable:!0,enumerable:!0,get:function(){return{YIS:["fe","fe_embed"]}}},HIDE_IN_EDITOR:{configurable:!0,enumerable:!0,get:function(){return!1}},FULL_WIDTH:{configurable:!0,enumerable:!0,get:function(){return!1}},TEMPLATES:{configurable:!0,enumerable:!0,get:function(){return["fe","fe_embed"]}},TYPE:{configurable:!0,enumerable:!0,get:function(){return"fe_expandable_list"}},
VERSION:{configurable:!0,enumerable:!0,get:function(){return 1}}});Xo.$inject="$scope widgetFactory colorsFactory globalsYisService $location tpYisService trackingService".split(" ");U.FeExpandableListV1Ctrl=Xo;var Yo=angular.module("publishAppFeExpandableListV1",["publishAppFramework","publishAppWidgetsFeExpandableListV1Views"]);Yo.controller("FeExpandableListV1Ctrl",U.FeExpandableListV1Ctrl);angular.module("publishAppWidgetsFeGeoChartV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){function c(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}b()&&(a.put("/widgets_library/fe_geo_chart_v1/views/content.html",'<div class="fe-atoms-generic-content-container"\n     ng-class="{\'has-error\': !ctrl.chartRows.length}">\n  <div class="widget-error" ng-if="!ctrl.chartRows.length">\n    <i class="material-icons-extended size-80-40 gray-alert">warning</i>\n    <p class="widget-error-title">Hmm, your search doesn\'t have enough data to show here.</p>\n    <p class="widget-error-desc">Please make sure everything is spelled correctly, or try a more general term.</p>\n  </div>\n  <div class="geo-widget-wrapper geo-resolution-{{ ctrl.geoResolution }}"\n       ng-if="ctrl.chartRows.length">\n    <div class="geo-chart-wrapper"\n         ng-class="{\'side-by-side\': sideBySide, \'remove-cursor-pointer\': ctrl.isFranceMetro}"\n         ng-if="ctrl.showGeoChart(sideBySide)">\n      <map-adapter colors="ctrl.colors_"\n                   legend="ctrl.legend.items"\n                   tooltip-text-label="{{ctrl.widget.fields.searchVolumeIndexLabel.value}}"\n                   data="fields.geoData.items"\n                   default-color="PALETTE_COLOR_6"\n                   enable-tooltip="true"\n                   center-tooltip="true"\n                   is-svg-map="ctrl.isFranceMetro"\n                   is-color-chart="false"\n                   is-editor="isEditor"\n                   show-legend="false"\n                   is-multi-heat-map="false"\n                   options="ctrl.geoOptions"\n                   show-tooltip="true"\n                   columns="ctrl.chartColumnsConfig"\n                   chart-rows="ctrl.chartRows"\n                   on-region-click="triggerEvent(\'regionClick\', {\'region\': region})"\n                   ng-show="ctrl.chartRows.length | limitTo:storyNumberOfItems"\n                   should-display-low-filter-checkbox="ctrl.shouldDisplayLowSearchVolumeFilter"\n                   is-side-by-side="ctrl.showRelatedQueries(sideBySide)">\n      </map-adapter>\n      <low-search-volume-filter\n        is-filter-volume-checked="ctrl.applyLowSearchVolumeFilter"\n        filter-toggle-handler="ctrl.updateLowSearchVolume"\n        should-display-low-filter-checkbox="ctrl.shouldDisplayLowSearchVolumeFilter">\n      </low-search-volume-filter>\n    </div>\n    <div class="related-queries-combo-wrapper"\n               ng-class="{\'side-by-side\': sideBySide}"\n               ng-if="ctrl.showRelatedQueries(sideBySide)">\n      <widget type="fe_related_queries"\n              version="1"\n              template="{{ctrl.template}}"\n              fields="ctrl.relatedFields"\n              on-event="ctrl.onItemClickEvent(event)"\n              is-editor="isEditor"\n              story-id="storyId"\n              story-title="storyTitle"\n              story-title-array="storyTitleArray"\n              story-country="storyCountry"\n              story-time-range="storyTimeRange"\n              story-number-of-items="storyNumberOfItems"\n              palette="palatte"\n              forced-color="{{::forcedColor}}"\n              is-scrolled-into="true"\n              pagination-resolution-text="ctrl.geoResolution"\n              is-france-metro="ctrl.isFranceMetro"\n              is-side-by-side="true"\n              ng-if="ctrl.relatedFields && ctrl.shouldRefreshRelatedFields">\n      </widget>\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/embed_map_resolution_selector.html",'<div class="embed-map-resolution-selector-wrapper">\n  <md-menu class="embed-map-resolution-selector"\n           ng-if="widget.apis.fe_geo_compared_map.isActive"\n           md-offset="{{ctrl.globalsService_.isDesktopMode ? \'-132 -67\' : \'-132 8\'}}">\n    <md-button class="bottom-button md-icon-button"\n               ng-click="$mdOpenMenu($event)">\n      <i md-menu-origin class="material-icons-extended gray">more_vert</i>\n    </md-button>\n    <md-menu-content width="3">\n      <md-menu-item ng-if="fields.region.value === \'world\'">\n        <md-button ng-click="ctrl.setSelectedResolution(\'region\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              Region\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n      <md-menu-item ng-if="fields.region.value.length === 2">\n        <md-button ng-click="ctrl.setSelectedResolution(\'subregion\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              Subregion\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n      <md-menu-item ng-if="fields.region.value === \'US\'">\n        <md-button ng-click="ctrl.setSelectedResolution(\'metro\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              Metro\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n      <md-menu-item>\n        <md-button ng-click="ctrl.setSelectedResolution(\'city\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              City\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n    </md-menu-content>\n  </md-menu>\n</div>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/fe.html",'<div class="fe-geo-chart-generated fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields"\n     side-by-side="">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">\n      <div class="fe-geo-chart-text">{{fields.topic.value}}</div>\n      <help-dialog ng-show="$root.globals.isDesktopMode && helpDialog"\n                   data="helpDialog"></help-dialog>\n    </div>\n    <div class="resolution-selector-container"\n         ng-class="{\'flatten-padding\': ctrl.window_.enableFlatShareMenuExperiment}"\n         ng-include="\'/widgets_library/fe_geo_chart_v1/views/resolution_selector.html\'">\n    </div>\n    <div class="fe-atoms-generic-toggle-button"\n         ng-if="ctrl.chartRows.length"\n         ng-include="\'/widgets_library/fe_geo_chart_v1/views/toggle_button.html\'">\n    </div>\n    <widget-actions ng-if="ctrl.template === \'fe\'"></widget-actions>\n  </div>\n  <div ng-if="ctrl.widget.isQuerying"\n       class="fe-geo-chart-loader">\n    <md-progress-circular class="md-default-theme"\n                          md-diameter="30px"\n                          md-mode="indeterminate"\n                          aria-valuemin="0" aria-valuemax="100">\n    </md-progress-circular>\n  </div>\n  <ng-include src="\'/widgets_library/fe_geo_chart_v1/views/content.html\'"\n              ng-if="ctrl.chartRows !== null && !ctrl.widget.isQuerying"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/fe_embed.html",'<div class="fe-geo-chart-generated-embed embed-container"\n     ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n\n  <div ng-if="ctrl.widget.isQuerying"\n       class="fe-geo-chart-loader">\n    <md-progress-circular class="md-default-theme"\n                          md-diameter="30px"\n                          md-mode="indeterminate"\n                          aria-valuemin="0" aria-valuemax="100">\n    </md-progress-circular>\n  </div>\n\n  <ng-include class="embed-content"\n              src="\'/widgets_library/fe_geo_chart_v1/views/content.html\'"\n              ng-if="ctrl.chartRows !== null && !ctrl.widget.isQuerying">\n  </ng-include>\n\n  <div class="embed-icons-wrapper">\n    <ng-include src="\'/widgets_library/fe_geo_chart_v1/views/toggle_button.html\'"></ng-include>\n    <ng-include src="\'/widgets_library/fe_geo_chart_v1/views/embed_map_resolution_selector.html\'">\n    </ng-include>\n  </div>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/fe_explore_example.html",'<div class="fe-explore-example-legend">\n  <div class="fe-explore-example-legend-item-wrapper">\n    <div class="fe-explore-example-legend-circle circle"\n         ng-style="{\'background-color\': ctrl.hexColor}">\n    </div>\n    <div class="fe-explore-example-legend-text">\n      {{ ::storyTitleArray[0] }}\n    </div>\n  </div>\n</div>\n<ng-include src="\'/widgets_library/fe_geo_chart_v1/views/fe_featured.html\'">\n</ng-include>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/fe_featured.html",'<div class="fe-featured-atoms-generic-container fe-featured-geo-chart" ng-init="fields = ctrl.widget.fields">\n  <map-adapter colors="ctrl.colors_"\n               legend="ctrl.legend.items"\n               data="fields.geoData.items"\n               default-color="PALETTE_COLOR_6"\n               enable-tooltip="false"\n               is-svg-map="ctrl.isFranceMetro"\n               is-color-chart="false"\n               is-editor="isEditor"\n               show-legend="false"\n               is-multi-heat-map="false"\n               options="ctrl.geoOptions"\n               show-tooltip="false"\n               columns="ctrl.chartColumnsConfig"\n               chart-rows="ctrl.chartRows"\n               ng-if="sideBySide || !ctrl.showRelatedView || ctrl.globalsService.isMobileMode"\n               ng-show="ctrl.chartRows.length">\n  </map-adapter>\n  <div class="fe-featured-atoms-generic-container-title">{{fields.topic.value | typography}}</div>\n</div>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/fe_featured_homepage.html",'<div class="fe-featured-homepage-container"\n     height-adjustable-editorial-widget\n     graph-options="ctrl.geoOptions"\n     is-main-editorial-item="isMainEditorialItem">\n  <div class="no-legend-container"></div>\n  <map-adapter colors="ctrl.colors_"\n               legend="ctrl.legend.items"\n               data="ctrl.widget.fields.geoData.items"\n               default-color="PALETTE_COLOR_6"\n               enable-tooltip="false"\n               is-svg-map="ctrl.isFranceMetro"\n               is-color-chart="false"\n               is-editor="isEditor"\n               show-legend="false"\n               is-multi-heat-map="false"\n               options="ctrl.geoOptions"\n               show-tooltip="false"\n               columns="ctrl.chartColumnsConfig"\n               chart-rows="ctrl.chartRows"\n               ng-show="ctrl.chartRows.length"\n               watch-options="true">\n  </map-adapter>\n  <div class="fe-featured-homepage-title">{{::ctrl.widget.fields.topic.value | typography}}</div>\n</div>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/resolution_selector.html",'<md-select class="resolution-selector"\n           aria-label="Select resolution"\n           ng-model="ctrl.geoResolution"\n           placeholder="Resolution"\n           md-container-class="geo-resolution"\n           ng-change="ctrl.updateResolution()"\n           ng-if="widget.apis.fe_geo_compared_map.isActive">\n  <md-option value="region"\n             ng-if="fields.region.value === \'world\'">\n    Region\n  </md-option>\n  <md-option value="subregion"\n             class="resolution-selector-option"\n             ng-if="fields.region.value.length === 2">\n    Subregion\n  </md-option>\n  <md-option value="metro"\n             class="resolution-selector-option"\n             ng-if="ctrl.displayMetroResolution(fields.region.value)"\n             ng-disabled="!ctrl.isMetroResolutionClickable(fields.region.value)"\n             ng-class="{\'disabled\':!ctrl.isMetroResolutionClickable(fields.region.value)}">\n    Metro\n    <div ng-if="!ctrl.isMetroResolutionClickable(fields.region.value)"\n         class="metro-available-msg"> Data available from 2/21/17 </div>\n  </md-option>\n  <md-option value="city" class="resolution-selector-option">\n    City\n  </md-option>\n</md-select>\n'),
a.put("/widgets_library/fe_geo_chart_v1/views/toggle_button.html",['<div class="fe-atoms-generic-hide-in-mobile toggle-button-wrapper">\n   <button class="toggle-button list-image"','      title="'+c("List view")+'"','      track="[\'Widget\', type, \'List\']"\n      ng-click="ctrl.toggleRelatedView()"\n      ng-if="!sideBySide && !ctrl.showRelatedView">\n   </button>\n   <button class="toggle-button globe-image"','      title="'+c("Map view")+'"','      track="[\'Widget\', type, \'Map\']"\n      ng-click="ctrl.toggleRelatedView()"\n      ng-if="!sideBySide && ctrl.showRelatedView">\n   </button>\n</div>\n'].join("\n")),
a.put("/widgets_library/fe_geo_chart_v1/views/us_states.html",'<geo-chart class="fe-geo-chart-directive"\n           watch-options="::isEditor"\n           options="ctrl.geoOptions"\n           show-tooltip="true"\n           columns="ctrl.chartColumnsConfig"\n           data="ctrl.chartRows"\n           on-region-click="triggerEvent(\'regionClick\', {\'region\': region})">\n</geo-chart>\n'))}]);angular.module("publishAppWidgetsFeRelatedQueriesV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_related_queries_v1/views/bullets_view_selector.html",'<md-select class="bullets-view-selector"\n           aria-label="Select bullets view"\n           ng-model="ctrl.viewField"\n           ng-change="ctrl.updateNumberOfItems()"\n           placeholder="Bullets view"\n           md-container-class="queries-bullets-view"\n           ng-if="ctrl.initializeRisingTopFilter()"\n           ve-tracking\n           jslog="41830; track:generic_click">\n  <md-option value="risingBullets"\n             ve-tracking jslog="41825; track:generic_click"\n             ng-disabled="!ctrl.widget.fields.risingBullets.items.length">\n    Rising\n  </md-option>\n  <md-option value="bullets"\n             ve-tracking jslog="41826; track:generic_click"\n             ng-disabled="!ctrl.widget.fields.bullets.items.length">\n    Top\n  </md-option>\n</md-select>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/content.html",'<div class="fe-atoms-generic-content-container"\n     ng-class="{\'mobile-container-height\': !ctrl.isPaginationMode(),\n                \'has-error\': !fields.bullets.getValues().length,\n                \'multi-heat-map\': isMultiHeatMap,\n                \'embed\': ctrl.isEmbedView()}">\n  <div class="widget-error" ng-if="!fields.bullets.getValues().length">\n    <i class="material-icons-extended size-80-40 gray-alert">warning</i>\n    <p class="widget-error-title">Hmm, your search doesn\'t have enough data to show here.</p>\n    <p class="widget-error-desc">Please make sure everything is spelled correctly, or try a more general term.</p>\n  </div>\n  <div ng-if="isMultiHeatMap"\n       ng-include="\'/widgets_library/fe_related_queries_v1/views/multi_heat_sort_container.html\'">\n  </div>\n  <div class="item"\n     ng-class="{\'remove-cursor-pointer\': isFranceMetro}"\n     ng-repeat="item in ctrl.getListItems() | limitTo:ctrl.updateItemsLimit() track by $index"\n     ng-if="item.value.text && ctrl.shouldShowItemsListView()">\n    <div class="progress-label-wrapper" ng-attr-title="{{ctrl.getTitleText(item.value.text)}}">\n      <div bind-html-compile="item.value.tooltip"\n           ng-if="ctrl.shouldShowMultiHeatMapTooltip($index)"\n           class=\'tooltip-child\'>\n      </div>\n      <ng-include ng-if="item.value.link"\n                  src="\'/widgets_library/fe_related_queries_v1/views/item-link.html\'">\n      </ng-include>\n      <div class="progress-label"\n         track="[\'Widget\', type, item.value.text]"\n         ng-click="ctrl.itemClick({\'item\': item.value}, $event)"\n         ng-class="{\'transition-width\': ctrl.isDesktop && !isSideBySide}"\n         ng-if="!item.value.link"\n         ve-tracking jslog="41827; track:generic_click">\n        <div ng-if="!isMultiHeatMap"\n             ng-include="\'/widgets_library/fe_related_queries_v1/views/item_view.html\'">\n        </div>\n        <div ng-if="isMultiHeatMap"\n             ng-include="\'/widgets_library/fe_related_queries_v1/views/multi_heat_item_view.html\'">\n        </div>\n      </div>\n      <div ng-include="\'/widgets_library/fe_related_queries_v1/views/item_menu.html\'"\n           ng-if="ctrl.isDesktop && !isSideBySide">\n      </div>\n    </div>\n  </div>\n\n  <div class="pagination-container"\n       ng-if="ctrl.bullets.length && ctrl.shouldShowItemsListView()"\n       ng-class="{\'no-pagination-display-in-mobile\': !ctrl.isPaginationMode()}">\n    <pagination ng-if="ctrl.isPaginationMode()"\n                max-items-per-page="ctrl.PAGE_SIZE"\n                total-number-of-items="ctrl.numberOfItems"\n                pagination-text="ctrl.getPaginationText()"\n                current-page="ctrl.currentPage">\n    </pagination>\n  </div>\n  <multi-heat-map-carousel ng-if="ctrl.bullets.length && !ctrl.shouldShowItemsListView()"\n                           geo-data="ctrl.bullets"\n                           on-item-click="itemClickBind">\n  </multi-heat-map-carousel>\n</div>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/embed_bullets_view_selector.html",'<md-menu ng-if="showModePicker &&\n                ($parent.fields.risingBullets.getValues().length ||\n                $parent.fields.bullets.getValues().length)"\n         md-offset="{{ctrl.globalsService_.isDesktopMode ? \'-132 -67\' : \'-132 8\'}}">\n  <md-button class="bottom-button md-icon-button"\n             ng-click="$mdOpenMenu($event)">\n    <i md-menu-origin class="material-icons-extended gray">more_vert</i>\n  </md-button>\n  <md-menu-content width="3">\n    <md-menu-item>\n      <md-button ng-click="ctrl.setViewField(\'risingBullets\')">\n        <div layout="row">\n          <p class="md-menu-item-text">\n            Rising\n          </p>\n        </div>\n      </md-button>\n    </md-menu-item>\n    <md-menu-item>\n      <md-button ng-click="ctrl.setViewField(\'bullets\')">\n        <div layout="row">\n          <p class="md-menu-item-text">\n            Top\n          </p>\n        </div>\n      </md-button>\n    </md-menu-item>\n  </md-menu-content>\n</md-menu>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/fe.html",'<div class="fe-related-queries fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">{{fields.topic.value}}\n      <help-dialog ng-show="$root.globals.isDesktopMode && helpDialog"\n                   data="helpDialog"\n                   ve-tracking\n                   jslog="41824; track:generic_click">\n      </help-dialog>\n    </div>\n    <ng-include class="bullets-view-selector-container"\n      src="\'/widgets_library/fe_related_queries_v1/views/bullets_view_selector.html\'"></ng-include>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_related_queries_v1/views/content.html\'"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/fe_embed.html",'<div class="fe-related-queries embed-container"\n     ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'" ng-if="!isMultiHeatMap">\n  </ng-include>\n  <ng-include class="embed-content" src="\'/widgets_library/fe_related_queries_v1/views/content.html\'">\n  </ng-include>\n  <ng-include class="bullets-view-selector-container bullets-view-embed-selector-container"\n              src="\'/widgets_library/fe_related_queries_v1/views/embed_bullets_view_selector.html\'"\n              ng-if="!isMultiHeatMap">\n  </ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'" ng-if="!isMultiHeatMap"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/fe_explore_example.html",'<div class="fe-explore-example-legend">\n  <div class="fe-explore-example-legend-item-wrapper"\n       ng-repeat="title in storyTitleArray">\n    <div class="fe-explore-example-legend-circle circle"\n         ng-style="{\'background-color\': ctrl.colors.getHexValues()[$index]}">\n    </div>\n    <div class="fe-explore-example-legend-text">\n      {{ title }}\n    </div>\n  </div>\n</div>\n<ng-include src="\'/widgets_library/fe_related_queries_v1/views/fe_featured.html\'">\n</ng-include>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/fe_featured.html",'<div class="fe-featured-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-featured-generic-container-content fe-featured-related-content">\n    <div class="fe-featured-related-item"\n         ng-repeat="item in fields.bullets.items | limitTo:5 track by $index"\n         ng-if="item.value.volume && item.value.text">\n      <div class="list-item-number">{{$index+1}}</div>\n      <div class="list-item-text">{{item.value.text}}</div>\n    </div>\n  </div>\n  <div class="fe-featured-atoms-generic-container-title">{{fields.topic.value | typography}}</div>\n</div>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/item-link.html",'<a class="progress-label"\n   ng-if="ctrl.globalsService_.isDesktopMode"\n   ng-href="{{item.value.link}}"\n   target="{{template === \'fe_embed\' ? \'_blank\' : \'_self\'}}"\n   track="[\'Widget\', type, item.value.text]"\n   ng-class="{\'transition-width\': ctrl.isDesktop && !isSideBySide}"\n   ve-tracking jslog="41827; track:generic_click">\n  <div ng-include="\'/widgets_library/fe_related_queries_v1/views/item_view.html\'"></div>\n</a>\n<a class="progress-label"\n   ng-if="!ctrl.globalsService_.isDesktopMode"\n   target="{{template === \'fe_embed\' ? \'_blank\' : \'_self\'}}"\n   track="[\'Widget\', type, item.value.text]"\n   ng-click="ctrl.itemClick({\'item\': item.value}, $event)"\n   ng-class="{\'transition-width\': ctrl.isDesktop && !isSideBySide}"\n   ve-tracking jslog="41827; track:generic_click">\n  <div ng-include="\'/widgets_library/fe_related_queries_v1/views/item_view.html\'"></div>\n</a>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/item_menu.html",'<md-menu md-position-mode="target-right target">\n  <button class="item-menu-btn" ng-click="$mdOpenMenu($event)">\n    <i md-menu-origin class="material-icons-extended gray">more_vert</i>\n  </button>\n  <md-menu-content class="item-menu-content">\n    <md-menu-item>\n      <a ng-href="{{ctrl.itemMenuService.exploreLink(item)}}" target="_blank">\n        <i class="material-icons-extended gray">timeline</i>\n        <div class="item-menu-text">\n          Explore\n        </div>\n      </a>\n    </md-menu-item>\n    <md-menu-item ng-if="ctrl.itemMenuService.isExplorePage(exploreQuery)">\n      <a ng-href="/trends/explore?{{ctrl.itemMenuService.addToComparison(exploreQuery, item)}}"\n         ng-click="ctrl.itemMenuService.preventClick(exploreQuery, $event)"\n         ng-class="{\'disabled\': ctrl.itemMenuService.isMaxNumberOfComparisonItems(exploreQuery)}"\n         target="_self">\n        <div>\n          <i class="material-icons-extended gray">add</i>\n        </div>\n        <div class="item-menu-text">\n          Add to comparison\n        </div>\n      </a>\n    </md-menu-item>\n    <md-menu-item>\n      <a ng-href="//www.google.com/search?q={{ctrl.itemMenuService.getGoogleSearchLink(item)}}"\n         target="_blank">\n        <div>\n          <i class="material-icons-extended gray">search</i>\n        </div>\n        <div class="item-menu-text">\n          Search on Google\n        </div>\n      </a>\n    </md-menu-item>\n  </md-menu-content>\n</md-menu>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/item_menu_mobile.html",'<md-bottom-sheet>\n  <md-content>\n    <md-subheader>{{ctrl.selectedItem.value.text}}</md-subheader>\n    <a ng-href="{{ctrl.itemMenuService.exploreLink(ctrl.selectedItem)}}"\n       target="_blank"\n       ng-click="ctrl.mdBottomSheet.hide()"\n       class="item-menu-mobile-wrapper first">\n      <i class="material-icons-extended gray">timeline</i>\n      <div class="item-menu-text">\n        Explore\n      </div>\n    </a>\n    <div ng-if="ctrl.itemMenuService.isExplorePage(ctrl.exploreQuery)">\n      <a ng-href="/trends/explore?{{ctrl.itemMenuService.addToComparison(ctrl.exploreQuery, ctrl.selectedItem)}}"\n         target="_self"\n         ng-click="ctrl.itemMenuService.preventClick(ctrl.exploreQuery, $event) && ctrl.mdBottomSheet.hide()"\n         class="item-menu-mobile-wrapper"\n         ng-class="{\'disabled\': ctrl.itemMenuService.isMaxNumberOfComparisonItems(ctrl.exploreQuery)}">\n        <div>\n          <i class="material-icons-extended gray">add</i>\n        </div>\n        <div class="item-menu-text">\n          Add to comparison\n        </div>\n      </a>\n    </div>\n    <a ng-href="//www.google.com/search?q={{ctrl.itemMenuService.getGoogleSearchLink(ctrl.selectedItem)}}"\n       target="_blank"\n       class="item-menu-mobile-wrapper" ng-click="ctrl.mdBottomSheet.hide()">\n      <div>\n        <i class="material-icons-extended gray">search</i>\n      </div>\n      <div class="item-menu-text">\n        Search on Google\n      </div>\n    </a>\n  </md-content>\n</md-bottom-sheet>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/item_view.html",'<div class="label-line-number">{{ctrl.getItemIndex($index)}}</div>\n<div class="label-text" bidi="item.value.text"></div>\n<div class="{{ctrl.viewField === \'risingBullets\' ? \'rising\' : \'progress\'}}-value">\n  {{item.value.volumeLabel || item.value.volume}}\n</div>\n<div class="progress-bar-wrapper"\n    ng-if="ctrl.viewField !== \'risingBullets\'">\n  <div class="progress-bar"\n      ng-style="{\'background-color\' : forcedColor || ctrl.colors.getHexValue(fields.color.value),\n                 \'width\' : ctrl.getProgressBarWidth(item.value.volume)}">\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/multi-heat-map-carousel-directive.html",'<div class="multi-heat-map-carousel-wrapper">\n  <carousel ng-show="geoData.length"\n            hide-buttons="true"\n            viewable-items-count="ctrl.numberOfViewableItems">\n    <div class="multi-heat-map-carousel-item-wrapper"\n         ng-repeat="item in geoData"\n         ng-include="\'/widgets_library/fe_related_queries_v1/views/multi-heat-map-carousel-item.html\'"\n         ng-style="{\'width\': atomWidth}">\n    </div>\n  </carousel>\n</div>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/multi-heat-map-carousel-item.html",'<div class="multi-heat-map-carousel-item" bind-html-compile="item.tooltip"\n     ng-click="onItemClick()({\'item\': item}, $event)">\n</div>\n'),a.put("/widgets_library/fe_related_queries_v1/views/multi_heat_item_view.html",'<div class="label-line-number">{{ctrl.getItemIndex($index)}}</div>\n<div class="label-text multi-heat-item" bidi="item.value.text"></div>\n<div class="progress-bar-wrapper multi-heat-progress-bar">\n  <div class="progress-bar-multi-heat"\n       ng-mouseover="ctrl.showTooltipIndex = ctrl.getItemIndex($index)"\n       ng-mouseleave="ctrl.showTooltipIndex = -1">\n    <span class="progress-bar-multi-heat-volume"\n          ng-repeat="volume in item.value.volumes track by $index"\n          ng-if="volume.value"\n          ng-style="{\'background-color\': forcedColor || ctrl.colors.getHexValue(item.value.colors[$index]),\n                     \'width\': volume.value + \'%\'}">\n    </span>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_related_queries_v1/views/multi_heat_sort_container.html",['<div class="multi-heat-sort-container">\n  <div class="multi-heat-sort-label">\n    Sort:\n  </div>\n  <md-select class="multi-heat-bullets-view-sort-selector"','             aria-label="'+"Sort by term".replace(/"/g,"&quot;").replace(/'/g,"&apos;")+'"','             ng-model="ctrl.sortByTermIndex"\n             ng-change="ctrl.updateSortSelection()"\n             md-container-class="queries-bullets-view">\n    <md-option ng-repeat="topic in ctrl.widget.fields.bullets.items[0].value.topics track by $index"\n               ng-value="$index">\n      {{ctrl.getSortByTermText(topic)}}\n    </md-option>\n  </md-select>\n</div>\n'].join("\n")))}]);var Zo=function(a,b,c,e,f){this.scope=a;this.selectedItem={value:b};this.exploreQuery=c;this.mdBottomSheet=e;this.itemMenuService=f};Zo.$inject=["$scope","selectedItem","exploreQuery","mdBottomSheet","itemMenuService"];U.RelatedQueriesBottomSheet=Zo;var ap=function(a,b,c,e,f,g,k,l,n,p,q,u,x){var w=this;this.scope_=a;this.utilsService_=b;this.trackingService=e;this.http_=f;this.q_=g;this.globalsService_=l;this.mdBottomSheet=q;this.itemMenuService=u;this.keepWidgetStateService_=x;this.colors=new k.Colors(a.palette);this.globalsService_=l;this.template=a.template;this.defaultWidgetData_=n.defaultWidgetData;this.apis=p.apis;this.widget=new c(this.defaultWidgetData_,a.isEditor);this.storyNumberOfItems=a.storyNumberOfItems;this.trackingService=e;this.csvField=
this.widget.fields.bullets;this.isRisingTopFilter_=void 0;this.viewField=this.getInitialViewField_();this.currentPage=this.numberOfItems=0;this.paginationText=$o;this.isDesktop=this.globalsService_.isDesktopMode&&!this.globalsService_.isTouchDevice();this.sortByTermIndex=0;b=this.updateNumberOfItems.bind(this);a.$watch("ctrl.widget.fields",b,!0);b=this.setService_.bind(this);c=this.middleware_.bind(this);e=this.oldMiddleware_.bind(this);f=this.utilsService_.cloneDeep(this.apis.v1Api.params);g=this.utilsService_.cloneDeep(this.apis.v1Api.settings);
this.widget.registerAPI("fe_relatedsearches","/trends/api/widgetdata/relatedsearches/"+this.globalsService_.testStoryID,this.utilsService_.cloneDeep(this.apis.v2Api.params),this.utilsService_.cloneDeep(this.apis.v2Api.settings)).middleware(c).toggle(function(D){return w.widget.fields.bullets.config.translation.translate=!D}).initialDispatch(this.widget.isEditor&&!this.scope_.isSideBySide);this.widget.registerAPI("fe_relatedqueries","/trends/api/widgetdata/relatedqueries/"+this.globalsService_.testStoryID,
f,g).setService(b).middleware(e).toggle(function(D){return w.widget.fields.bullets.config.translation.translate=!D}).setShowInEditor(!1);this.showMoreExpanded=!1;a.$on("colorChanged",function(D,I){D.currentScope.forcedColor=I.color});a.itemClickBind=function(D,I){return w.itemClick(D,I)}};d=ap.prototype;d.isEmbedView=function(){return"fe_embed"===this.template};d.shouldShowItemsListView=function(){return!this.scope_.isMultiHeatMap||this.globalsService_.isDesktopMode};
d.getTitleText=function(a){return this.scope_.isSideBySide?"":(new sd("Explore {itemText}")).format({itemText:a})};d.getSortByTermText=function(a){return(new sd("Interest for {termText}")).format({termText:a})};d.openBottomSheet_=function(a){this.mdBottomSheet.show({controller:"RelatedQueriesBottomSheetCtrl",controllerAs:"ctrl",clickOutsideToClose:!0,locals:{selectedItem:a.item,exploreQuery:this.scope_.exploreQuery,mdBottomSheet:this.mdBottomSheet},templateUrl:"/widgets_library/fe_related_queries_v1/views/item_menu_mobile.html"})};
d.itemClick=function(a,b){this.isDesktop||this.scope_.isSideBySide?this.scope_.triggerEvent("itemClick",a,b):(b.preventDefault(),this.openBottomSheet_(a))};d.getGeoChartPaginationText_=function(){switch(this.scope_.paginationResolutionText.toLocaleLowerCase()){case "region":return"regions";case "subregion":return"subregions";case "metro":return"metros";case "city":return"cities";default:return"items"}};
d.paginationTextCuratedStory_=function(){var a=this.widget.fields.topic.value.toLocaleLowerCase();return a.match(this.paginationText.MSG_QUERIES)?"queries":a.match(this.paginationText.MSG_TOPICS)?"topics":"items"};d.getRelatedQueriesText_=function(){return this.scope_.widgetName?this.scope_.widgetName.match("RELATED_QUERIES")?"queries":"topics":this.paginationTextCuratedStory_()};
d.getPaginationText=function(){return angular.isUndefined(this.scope_.paginationResolutionText)?this.getRelatedQueriesText_():this.getGeoChartPaginationText_()};d.setService_=function(a,b){return this.q_.when(this.http_.post(a,b))};d.mapKeywords_=function(a){var b=a.query||a.topic.title;a.topic&&a.topic.type&&(b=[b,a.topic.type].join(" - "));return Object.assign({text:b,link:a.link,volume:a.formattedValue||a.value},a.topic)};
d.updateSelectedViewAndSetFilterOptions_=function(a,b){!a&&b?this.setViewField("bullets"):a&&!b&&this.setViewField("risingBullets");return 0<a||0<b};d.getInitialViewField_=function(){var a=window.enableRisingItemsByDefaultExperiment&&!this.scope_.isSideBySide?"risingBullets":"bullets",b=this.keepWidgetStateService_.getFieldIfKeepState(this.scope_.fields,"viewField");return b?b.value:a};
d.initializeRisingTopFilter=function(){if(angular.isUndefined(this.isRisingTopFilter_)){var a=this.widget.fields;this.isRisingTopFilter_=this.updateSelectedViewAndSetFilterOptions_(a.risingBullets.items.length,a.bullets.items.length)}return this.isRisingTopFilter_};d.setViewField=function(a){this.viewField=a;this.widget.fields.viewField&&(this.widget.fields.viewField.value=a)};
d.middleware_=function(a){a=a["default"].rankedList;var b=a[0].rankedKeyword.map(this.mapKeywords_);return{risingBullets:a[1].rankedKeyword.map(this.mapKeywords_),bullets:b}};d.oldMiddleware_=function(a){this.viewField="bullets";this.updateNumberOfItems();return{risingBullets:{},bullets:a["default"].queries.map(this.mapKeywords_,this)}};d.updateItemsLimit=function(){return this.PAGE_SIZE=this.isEmbedView()?4:5};d.getFirstItemIndex_=function(){return this.currentPage*this.PAGE_SIZE};
d.compareItemsBySelectedTerm_=function(a,b){return b.volumes[this.sortByTermIndex].value-a.volumes[this.sortByTermIndex].value};d.getListItems=function(){var a=this.widget.fields[this.viewField].items.concat();if(this.scope_.isMultiHeatMap){var b=this.compareItemsBySelectedTerm_.bind(this);a.sort(function(c,e){return b(c.value,e.value)})}return a.slice(this.getFirstItemIndex_())};d.getItemIndex=function(a){return this.getFirstItemIndex_()+a+1};
d.updateNumberOfItems=function(){this.updateItemsOrder_();this.numberOfItems=this.bullets.length;this.currentPage=0};d.updateSortSelection=function(){this.updateItemsOrder_();this.currentPage=0};d.updateItemsOrder_=function(){this.bullets=this.widget.fields[this.viewField].getValues();if(this.bullets.length&&this.bullets[0].volumes){var a=this.compareItemsBySelectedTerm_.bind(this);this.bullets.sort(a)}};d.isPaginationMode=function(){return this.numberOfItems>this.PAGE_SIZE};
d.getProgressBarWidth=function(a){return"<1"===a?"1%":a+"%"};d.shouldShowMultiHeatMapTooltip=function(a){return this.scope_.isMultiHeatMap&&this.showTooltipIndex===this.getItemIndex(a)};
da.Object.defineProperties(ap,{FULL_WIDTH:{configurable:!0,enumerable:!0,get:function(){return!0}},DISPLAY_TYPE:{configurable:!0,enumerable:!0,get:function(){return"Trending Queries"}},GROUP_TYPE:{configurable:!0,enumerable:!0,get:function(){return"FE"}},HIDE_IN_EDITOR:{configurable:!0,enumerable:!0,get:function(){return!1}},TEMPLATES:{configurable:!0,enumerable:!0,get:function(){return["fe","fe_featured","fe_embed"]}},TYPE:{configurable:!0,enumerable:!0,get:function(){return"fe_related_queries"}},
VERSION:{configurable:!0,enumerable:!0,get:function(){return 1}}});ap.$inject="$scope utilsService widgetFactory trackingService $http $q colorsFactory globalsService defaultRelatedQueriesDataV1 relatedQueriesV1WidgetApis $mdBottomSheet itemMenuService keepWidgetStateService".split(" ");var $o={MSG_QUERIES:"queries",MSG_TOPICS:"topics"};U.FeRelatedQueriesV1=ap;var bp=function(a,b){this.defaultWidgetData=[{name:"keepState",options:{caption:"Keep state"},type:"boolean",value:!1},{name:"topic",type:"string",placeholder:"Title",value:"Trending Queries",translation:{translate:!0,description:"Title of the widget. http://goo.gl/9dEdGs"}},{name:"color",type:"string",value:"PALETTE_COLOR_1",colorPalette:new a.Colors,options:b.map(a.Colors.DEFAULT_PALETTE,function(c){return{name:c.caption,value:c.name}})},{name:"bullets",type:"list",subtype:"map",keys:["text","link",
"volume"],notification:"",keysConfig:{text:{gridSpan:12},link:{gridSpan:9},volume:{placeholder:"#",gridSpan:3}},values:[],translation:{translate:!0,keys:[{name:"text",description:"The text items of the widget. http://goo.gl/9dEdGs"}]}},{name:"risingBullets",type:"list",subtype:"map",visible:!1,keys:["text","link","volume"],values:[],translation:{translate:!0,keys:[{name:"text",description:"The text items of the widget. http://goo.gl/9dEdGs"}]}},{name:"viewField",type:"string",value:"",visible:!1}]};
bp.$inject=["colorsFactory","lodash"];var cp=function(){};d=cp.prototype;d.getItemsQuery=function(a){var b="";a.split("&").forEach(function(c){c.startsWith("q=")&&(b=c)});return b};d.createQuery=function(a,b){if(!a)return b;if(!a.match("q="))return a+"&"+b;a=a.split("&");a.forEach(function(c,e,f){c.startsWith("q=")&&(f[e]=""+b)});return a.join("&")};d.exploreLink=function(a){var b=a.value.mid||a.value.text;return a.value.link&&"/"!==a.value.link?a.value.link:"/trends/explore?q="+b};
d.addToComparison=function(a,b){var c=this.getItemsQuery(a);b=b.value.mid||b.value.text;return this.createQuery(a,c?c+","+b:"q="+b)};d.isExplorePage=function(a){return""===a||a};d.preventClick=function(a,b){this.isMaxNumberOfComparisonItems(a)&&b.preventDefault()};d.isMaxNumberOfComparisonItems=function(a){return 5===this.getItemsQuery(a).split(",").length};d.getGoogleSearchLink=function(a){return a.value.mid?a.value.text.split("-")[0].replace(/\s+$/,""):a.value.text};var dp=function(a){this.window_=a};dp.prototype.onResize_=function(a,b){this.numberOfViewableItems=450<=b[0].clientWidth?3.5:2.5;a.atomWidth=Math.floor(b[0].clientWidth/this.numberOfViewableItems)+"px"};dp.$inject=["$window"];U.MultiHeatMapCarouselCtrl=dp;var ep=function(){return{controller:U.MultiHeatMapCarouselCtrl,controllerAs:"ctrl",restrict:"E",scope:{geoData:"=",onItemClick:"&"},templateUrl:"/widgets_library/fe_related_queries_v1/views/multi-heat-map-carousel-directive.html",link:ep.prototype.link}};ep.prototype.link=function(a,b){var c=a.ctrl,e=angular.element(c.window_),f=c.onResize_.bind(c,a,b);e.bind("resize",f);c.onResize_(a,b);a.$on("$destroy",function(){return e.unbind("resize",f)})};var fp={params:{geo:{country:"US"},locale:"en",mid:["/m/015nr6"],term:["barbara bush 90th birthday","barbara bush birthday","barbara bush","george hw bush"],time:"2015-06-06T17\\:00\\:00 2015-06-08T12\\:55\\:00",trendinessSettings:{compareTime:"2015-06-03T20\\:00\\:00 2015-06-07T17\\:00\\:00",jumpThreshold:2}},settings:[{path:"geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},
{path:"time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"trendinessSettings.compareTime",title:"Compare time",type:"text",invalidMessage:"Compare time is required."},{path:"mid",title:"Mid",type:"list",group:"midOrQuery",groupValue:"mid",invalidMessage:"Mid is required."},{path:"query",title:"Query",type:"text",group:"midOrQuery",groupValue:"query",invalidMessage:"Query is required."},{path:"term",title:"Terms",type:"list"},{path:"trendinessSettings.jumpThreshold",title:"Jump threshold",
type:"number",matchValidation:/^(0\.\d*[1-9]|[1-9]\d*(\.\d+)?)$/,invalidMessage:"Jump threshold must be a valid positive number."},{path:"locale",title:"Locale",type:"text",invalidMessage:"Locale is required."}]},gp={params:{req:{requestOptions:{backend:"CM"},metric:["TOP","RISING"],keywordType:"QUERY",restriction:{phrase:"OBAMA",time:"now 7-d",geo:{country:"US"}}}},settings:[{path:"req.restriction.phrase",title:"Query",type:"text",invalidMessage:"Query is required."},{path:"req.restriction.time",
title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.restriction.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.metric",title:"Metric",type:"list",hidden:!0},{path:"req.keywordType",title:"Keyword type",
type:"text",invalidMessage:"Keyword type is required.",hidden:!0}]};var hp=angular.module("publishAppFeRelatedQueriesV1",["publishAppFramework","publishAppWidgetsFeRelatedQueriesV1Views"]);hp.controller("RelatedQueriesBottomSheetCtrl",U.RelatedQueriesBottomSheet);hp.controller("FeRelatedQueriesV1Ctrl",U.FeRelatedQueriesV1);hp.controller("MultiHeatMapCarouselCtrl",U.MultiHeatMapCarouselCtrl);hp.service("defaultRelatedQueriesDataV1",bp);hp.service("itemMenuService",cp);hp.service("relatedQueriesV1WidgetApis",function(){this.apis={v1Api:fp,v2Api:gp}});
hp.directive("multiHeatMapCarousel",ep);var jp=function(a,b,c,e,f,g,k,l,n,p,q){var u=this;this.scope_=a;this.utilsService_=c;this.window_=b;this.timeout_=p;this.globalsService=f;this.widgetApi_=n;this.colors_=new g.Colors(a.palette);this.applyLowSearchVolumeFilter=!1;this.colorsFactory_=g;this.trackingService=k;this.isFranceMetro=!1;this.previousWidthRange_=null;this.template=a.template;this.legend=c.cloneDeep(l.legend);k=l.defaultWidgetData;this.defaultWidgetColor_=this.colorsFactory_.Colors.GEO_MAP_DEFAULT_COLOR;f=c.cloneDeep(this.widgetApi_.fe_geo_compared_map_params);
g=c.cloneDeep(this.widgetApi_.fe_geomap_params);this.widget=new e(k,a.isEditor);this.onItemClickEvent=this.onItemClickEvent_.bind(this);e=c.debounce(this.onGeoDataChange_.bind(this),50);a.$watch("ctrl.widget.fields.geoData.items",e);k=this.checkAndUpdateIsFranceMetro_.bind(this);a.$watch("ctrl.widget.fields.resolution.value",k);a.isEditor&&a.$watchGroup(["ctrl.widget.fields.displayMode.value","ctrl.widget.fields.region.value","ctrl.widget.fields.resolution.value","ctrl.widget.fields.color.value",
"ctrl.widget.fields.searchVolumeIndexLabel.value"],e);this.csvField=this.widget.fields.geoData;e=this.middleware_.bind(this);this.widget.registerAPI("fe_geo_compared_map",this.widgetApi_.api_url+this.globalsService.testStoryID,this.widgetApi_.fe_geo_compared_map_req,f).middleware(e).toggle(function(x){this.widget.fields.geoData.config.translation.translate=!x}).initialDispatch(a.isEditor);this.widget.registerAPI("fe_geomap",this.widgetApi_.api_old_url+this.globalsService.testStoryID,this.widgetApi_.fe_geomap_req,
g).middleware(e).toggle(function(x){this.widget.fields.geoData.config.translation.translate=!x}).setShowInEditor(!1);this.geoOptions=l.getGeoOptions(this.colors_);b.gvizMapDomain&&(this.geoOptions.domain=b.gvizMapDomain);this.geoOptions.tooltip.trigger="focus";"fe_featured"===a.template||"fe_explore_example"===a.template?(this.geoOptions.enableRegionInteractivity=!1,this.geoOptions.height=168,this.geoOptions.tooltip.trigger=this.GVIZ_WORLD_COUNTRIES_DISPLAY_):"us_states"!==a.template&&"fe_featured_homepage"!==
a.template&&(b=function(){return u.setMobileView_()},c=c.throttle(b,50,{trailing:!0}),b(),this.setResizeHandler_(c));this.chartRows=null;this.showRelatedView=(a=q.getFieldIfKeepState(a.fields,"showRelatedView"))&&a.value;this.shouldRefreshRelatedFields=!1;this.relatedFields=null;this.chartColumnsConfig=ip;this.hexColor=this.geoResolution="";this.resolutionValues_=[];this.updateLowSearchVolume=this.updateLowSearchVolume_.bind(this);this.GVIZ_WORLD_COUNTRIES_DISPLAY_=l.GVIZ_WORLD_COUNTRIES_DISPLAY_};
t("$jscomp.scope.FeGeoChartV1Ctrl",jp,void 0);jp.$inject="$scope $window utilsService widgetFactory globalsService colorsFactory trackingService defaultGeoChartDataService geoChartWidgetApiService $timeout keepWidgetStateService".split(" ");jp.TYPE="fe_geo_chart";jp.DISPLAY_TYPE="Interest By Region";jp.VERSION=1;jp.TEMPLATES=["fe","fe_featured","fe_featured_homepage","fe_embed","us_states"];jp.FULL_WIDTH=!0;jp.HIDE_IN_EDITOR=!1;jp.GROUP_TYPE="FE";
var kp=new Date("2017-02-21"),ip=[{type:"string"},{type:"number"},{type:"string",role:"tooltip",p:{html:!0}}],lp=[{type:"number"},{type:"number"},{type:"number"},{type:"string",role:"tooltip",p:{html:!0}}],mp={region:["COUNTRY","countries","regions"],subregion:["REGION","provinces","regions"],metro:["DMA","metros","regions"],city:["CITY","provinces","markers"]};d=jp.prototype;d.showGeoChart=function(a){return a||!this.showRelatedView||this.globalsService.isMobileMode};
d.showRelatedQueries=function(a){return a||this.showRelatedView||this.globalsService.isMobileMode};d.checkAndUpdateIsFranceMetro_=function(){this.isFranceMetro="FR"===this.widget.fields.region.value&&"metros"===this.widget.fields.resolution.value.toLowerCase()};d.setSelectedResolution=function(a){this.geoResolution=a;this.updateResolution()};d.updateResolution=function(){this.resolutionValues_=mp[this.geoResolution];this.dispatchAPIRequest()};
d.updateLowSearchVolume_=function(a){this.applyLowSearchVolumeFilter=a;this.updateResolution()};
d.dispatchAPIRequest=function(){var a=this.widget.apis.fe_geo_compared_map,b=this.resolutionValues_[0];a.params.req.includeLowSearchVolumeGeos=this.applyLowSearchVolumeFilter;var c="world"===this.geoOptions.region?this.GVIZ_WORLD_COUNTRIES_DISPLAY_:this.geoOptions.region.includes("-")?"metros":this.resolutionValues_[1];this.widget.fields.resolution.setValue(c);this.widget.fields.displayMode.setValue(this.resolutionValues_[2]);a.params.req.resolution=b;this.chartRows=this.relatedFields=null;a.isActive=
!0;a.dispatch()};d.middleware_=function(a){return{geoData:a["default"].geoMapData.filter(function(b){return b.hasData.some(function(c){return c})})}};d.getResolutionByFieldValue_=function(a,b){if("markers"===b)return"city";if(a===this.GVIZ_WORLD_COUNTRIES_DISPLAY_)return"region";b="";for(var c=h(Object.entries(mp)),e=c.next();!e.done;e=c.next()){e=h(e.value);var f=e.next().value;if(e.next().value[1]===a){b=f;break}}return b};
d.displayMetroResolution=function(a){return"FR"===a?-1===this.window_.location.href.search("&geo=FR-"):/^(US(-[a-z]{2})?)$/i.test(a)};d.isMetroResolutionClickable=function(a){if(!/^(FR(-[a-z]{2})?)$/i.test(a))return!0;a=this.scope_.timeRange.split(" ")[0];a=new Date(a.split("T")[0]);return kp<=a};
d.onGeoDataChange_=function(){if(!this.widget.isQuerying&&this.scope_.isScrolledInto&&Object.keys(this.widget.fields).length){var a=this.widget.fields.geoData.getValues();this.geoResolution=this.getResolutionByFieldValue_(this.widget.fields.resolution.value,this.widget.fields.displayMode.value);this.shouldDisplayLowSearchVolumeFilter=this.shouldDisplayMinPercentageCheckbox_();this.hexColor=this.scope_.forcedColor||this.colors_.getHexValue(this.widget.fields.color.value);this.scope_.$broadcast("colorChanged",
{color:this.hexColor});this.chartRows=[];this.chartColumnsConfig=a[0]&&a[0].coordinates?lp:ip;this.formatData_(a);this.resetRelatedFields_();this.geoOptions.displayMode=this.widget.fields.displayMode.value;this.geoOptions.region=this.widget.fields.region.value;this.geoOptions.resolution=this.widget.fields.resolution.value;this.geoOptions.colorAxis.colors=this.colorsFactory_.Colors.COLOR_RANGES[this.hexColor];this.legend.items[0].value.color=this.hexColor;this.geoOptions.defaultColor=this.defaultWidgetColor_;
this.scope_.$applyAsync()}};d.shouldDisplayMinPercentageCheckbox_=function(){var a=this.scope_.storyId,b=this.scope_.isEditor;return("region"===this.geoResolution||"city"===this.geoResolution)&&!a&&!b};
d.createCustomTooltipData_=function(a,b,c){return'\n      <div class="fe-geo-custom-tooltip">\n        <div class="fe-geo-state-label">\n          '+C(a)+'\n        </div>\n        <div class="fe-geo-volume-text-label">\n          '+C(this.widget.fields.searchVolumeIndexLabel.value)+'\n        </div>\n        <div class="fe-geo-volume-number-label" style="color: '+c+'">\n          '+C(b)+"\n        </div>\n      </div>"};
d.formatData_=function(a){var b=this;if(a[0]&&a[0].hasOwnProperty("hasData")&&0===a.filter(function(k){return!0===k.hasData[0]}).length)this.chartRows=[];else{var c,e,f,g;a.forEach(function(k){e=k.coordinates?[k.coordinates.lat,k.coordinates.lng]:[k.geoCode];f=!Array.isArray(k.value);g=parseInt(k.value[0]||k.value,10);if(0===g)if(k.hasOwnProperty("hasData")&&k.hasData[0])g=1;else{if("city"===b.geoResolution)return;g=null}if("fe"===b.template||"fe_embed"===b.template||"us_states"===b.template)c=f?
k.formattedValue:k.formattedValue[0];e.push(g);g?e.push(b.createCustomTooltipData_(k.geoName,c,b.hexColor)):e.push(null);b.chartRows.push(e)},this)}};
d.resetRelatedFields_=function(){var a=this,b=this.widget.fields.geoData.getValues().map(function(c){var e=Array.isArray(c.formattedValue)?c.formattedValue[0]:c.formattedValue,f=c.value.length?c.value[0]:c.value;"<1"===e&&(f=1);if(f)return{text:c.geoName,geoCode:c.geoCode,volume:f,volumeLabel:e,link:!1}});this.shouldRefreshRelatedFields=!1;this.timeout_(function(){a.relatedFields=[{name:"topic",value:""},{name:"bullets",values:b},{name:"color",value:a.widget.fields.color.value}];a.shouldRefreshRelatedFields=
!0},100)};d.setMobileView_=function(){this.geoOptions.height="mobile"===this.globalsService.getResponsiveMode()?180:"fe_embed"===this.template?216:250};d.onItemClickEvent_=function(a){return!this.isFranceMetro&&this.scope_.onEvent({event:a})};d.toggleRelatedView=function(){this.showRelatedView=!this.showRelatedView;this.widget.fields.showRelatedView.value=this.showRelatedView};
d.setResizeHandler_=function(a){var b=this;angular.element(this.window_).on("resize",a);this.scope_.$on("$destroy",function(){return angular.element(b.window_).off("resize",a)})};U.FeGeoChartV1=jp;var np=function(a){this.DEFAULT_DATALESS_REGION_COLOR_="PALETTE_COLOR_6";this.GVIZ_WORLD_COUNTRIES_DISPLAY_="none";this.DEFAULT_PALETTE=a.Colors.DEFAULT_PALETTE_12;this.legend={items:[{value:{color:"PALETTE_COLOR_1"}}]};this.getGeoOptions=function(b){return{backgroundColor:{fill:"transparent"},datalessRegionColor:b.getHexValue(this.DEFAULT_DATALESS_REGION_COLOR_),legend:this.GVIZ_WORLD_COUNTRIES_DISPLAY_,colorAxis:{minValue:0,maxValue:100},sizeAxis:{minValue:0,maxValue:100},tooltip:{isHtml:!0,showTitle:!1}}};
this.defaultWidgetData=[{name:"keepState",options:{caption:"Keep state"},type:"boolean",value:!1},{name:"topic",type:"string",placeholder:"Title",value:"Interest by Country",translation:{translate:!0,description:"Title of the widget. http://goo.gl/NJ5EXs"}},{name:"displayMode",type:"string",placeholder:"Display mode",value:"regions",options:["regions","markers"]},{name:"region",type:"string",placeholder:"Region",value:"world"},{name:"resolution",type:"string",placeholder:"Resolution",value:"countries",
options:["none","countries","provinces","metros"]},{name:"geoData",type:"list",subtype:"map",visible:!1,keys:"geoCode geoName value formattedValue code values".split(" "),values:[],translation:{translate:!0,keys:[{name:"geoName",description:"The tooltip text that holds the country name. http://goo.gl/NJ5EXs"}]}},{name:"color",type:"string",value:"PALETTE_COLOR_1",colorPalette:new a.Colors,options:a.Colors.DEFAULT_PALETTE.filter(function(b){return"Grey"!==b.caption}).map(function(b){return{name:b.caption,
value:b.name}})},{name:"searchVolumeIndexLabel",type:"string",placeholder:"Search interest",value:"Search interest:",translation:{translate:!0,description:"The text label that holds the title of the searchinterest volume. http://goo.gl/NJ5EXs"}},{name:"showRelatedView",type:"boolean",visible:!1,value:!1}]};t("$jscomp.scope.DefaultWidgetData",np,void 0);np.$inject=["colorsFactory"];var pp=function(){this.restrict="A";this.link=op.bind(this.link,this)},op,qp;pp.prototype.link=function(a,b){a.widgetElement=b;var c=op.bind(this.resizeHandler_,this,a);qp.bind("resize",c);this.resizeHandler_(a);a.$on("$destroy",function(){qp.unbind("resize",c)})};pp.prototype.resizeHandler_=function(a){a.sideBySide=960<=a.widgetElement[0].getBoundingClientRect().width};var rp=function(a,b){qp=angular.element(a);op=b;return new pp};t("$jscomp.scope.directiveInjector$jscomp$18",rp,void 0);
rp.$inject=["$window","lodash"];var sp=function(){this.api_url="/trends/api/widgetdata/comparedgeo/";this.api_old_url="/trends/api/widgetdata/geomap/";this.fe_geo_compared_map_req={req:{requestOptions:{backend:"CM"},resolution:"COUNTRY",comparisonItem:[{phrase:"OBAMA",time:"now 7-d"}],locale:"en"}};this.fe_geo_compared_map_params=[{path:"req.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.resolution",
title:"Resolution",type:"select",options:["DMA","CITY","COUNTRY","REGION"],invalidMessage:"Resolution is required."},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.comparisonItem",title:"Phrase",type:"text",invalidMessage:"Phrase is required.",getValue:function(a){return a[0].phrase},setValue:function(a,b){return[{phrase:a,
time:b.req.comparisonItem[0].time}]}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."}];this.fe_geomap_req={req:{time:"now 7-d",resolution:"COUNTRY",isRealTime:!0,mid:["/m/0d063v"],locale:"en"}};this.fe_geomap_params=[{path:"req.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set it empty for worldwide."},{path:"req.time",title:"Time",type:"text",invalidMessage:"Time is required."},
{path:"req.resolution",title:"Resolution",type:"select",options:["DMA","CITY","COUNTRY","REGION"],invalidMessage:"Resolution is required."},{path:"req.mid",title:"Mid",type:"list",group:"midOrQuery",groupValue:"mid",invalidMessage:"Mid is required."},{path:"req.query",title:"Query",type:"text",group:"midOrQuery",groupValue:"query",invalidMessage:"Query is required."},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"req.isRealTime",title:"Real time",type:"boolean"}]};
t("$jscomp.scope.WidgetApis",sp,void 0);sp.$inject=["helpersFactory"];var tp=angular.module("publishAppFeGeoChartV1",["publishAppFramework","publishAppWidgetsFeGeoChartV1Views",hp.name]);tp.controller("FeGeoChartV1Ctrl",U.FeGeoChartV1);tp.directive("sideBySide",rp);tp.service("defaultGeoChartDataService",np);tp.service("geoChartWidgetApiService",sp);angular.module("publishAppWidgetsFeGeoColorChartV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_geo_color_chart_v1/views/content.html",'<div class="fe-geo-color-chart-content">\n  <div class="fe-geo-color-chart-directive-wrapper">\n    <geo-chart class="fe-geo-color-chart-directive"\n               watch-options="::isEditor"\n               options="ctrl.geoOptions"\n               columns="[{type: \'string\'},\n                          {type: \'number\', label: \'annotation\'},\n                          {type: \'string\', role: \'tooltip\', \'p\': {\'html\': true}}]"\n               data="ctrl.chartRows">\n    </geo-chart>\n  </div><div class="fe-geo-color-chart-legend">\n    <div class="fe-geo-color-chart-legend-items-wrapper">\n      <div ng-repeat="value in ctrl.stateObjValues | limitTo: 5"\n           class="fe-geo-color-chart-legend-item">\n        <div class="fe-geo-color-chart-legend-item-circle"\n             ng-style="{\'background-color\': ctrl.geoOptions.colorAxis.colors[$index]}">\n        </div>\n        <div class="fe-geo-color-chart-legend-item-text" bidi="value">{{value}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_geo_color_chart_v1/views/fe.html",'<div class="fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-curated-atoms-header fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-curated-atoms-title">{{fields.topic.value | typography}}</div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_geo_color_chart_v1/views/content.html\'"></ng-include>\n</div>\n\n'),a.put("/widgets_library/fe_geo_color_chart_v1/views/fe_embed.html",
'<div class="embed-container" ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n  <ng-include class="embed-content"\n              src="\'/widgets_library/fe_geo_color_chart_v1/views/content.html\'"></ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_geo_color_chart_v1/views/fe_featured.html",'<div class="fe-featured-atoms-generic-container fe-featured-geo-color-chart-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-geo-color-chart-directive-wrapper">\n    <geo-chart class="fe-geo-color-chart-directive"\n               watch-options="::isEditor"\n               options="ctrl.geoOptions"\n               columns="[{type: \'string\'},\n                        {type: \'number\', label: \'annotation\'},\n                        {type: \'string\', role: \'tooltip\', \'p\': {\'html\': true}}]"\n               data="ctrl.chartRows">\n    </geo-chart>\n  </div>\n  <div class="fe-featured-geo-color-chart-legend">\n    <div class="fe-featured-geo-color-chart-legend-items-wrapper">\n      <div ng-repeat="value in ctrl.stateObjValues | limitTo: 5"\n           class="fe-featured-geo-color-chart-legend-item-container">\n        <div class="fe-featured-geo-color-chart-legend-item-circle"\n             ng-style="{\'background-color\':ctrl.geoOptions.colorAxis.colors[$index]}">\n        </div>\n        <div class="fe-featured-geo-color-chart-legend-item-text" bidi="value">{{value}}</div>\n      </div>\n    </div>\n  </div>\n  <div class="fe-featured-atoms-generic-container-title fe-featured-container-title">\n    {{fields.topic.value | typography}}\n  </div>\n</div>\n'))}]);var vp=function(a,b,c,e,f){var g=this;this.lodash_=c;this.colors_=new f.Colors(a.palette);this.availableColors_={};c.difference(f.Colors.DEFAULT_PALETTE.map(function(k){return k.name}),["PALETTE_COLOR_6"]).forEach(function(k){g.availableColors_[k]={name:g.colors_.getConfigByName(k).caption,value:k}},this);f=[{name:"topic",type:"string",placeholder:"Title",value:"Geo Color Coded",translation:{translate:!0,description:"Title of the widget. http://goo.gl/9aeIiB"}},{name:"states",type:"list",subtype:"map",
visible:!1,keys:["state","value","color"],values:up,translation:{translate:!0,keys:[{name:"state",description:"The tooltip text that holds the state name. http://goo.gl/9aeIiB"},{name:"value",description:"The tooltip text that holds the value. http://goo.gl/9aeIiB"}]}},{name:"bullets",type:"list",subtype:"map",keys:["value","color"],colorPalette:this.colors_,keysConfig:{value:{gridSpan:12,editable:!1},color:{gridSpan:12,options:c.values(this.availableColors_)}}}];this.widget=new e(f,a.isEditor);e=
c.bind(this.onBulletsChange_,this);a.isEditor?a.$watch("ctrl.widget.fields.bullets.items",e,!0):a.$watch("ctrl.widget.fields.bullets.items",e);c=c.bind(this.onStatesChange_,this);a.$watch("ctrl.widget.fields.states.items",c,!0);this.csvField=this.widget.fields.states;this.geoOptions={region:"US",resolution:"provinces",backgroundColor:{fill:"transparent"},datalessRegionColor:this.colors_.getHexValue("PALETTE_COLOR_6"),legend:"none",tooltip:{isHtml:!0,showTitle:!1,trigger:"focus"}};b.gvizMapDomain&&
(this.geoOptions.domain=b.gvizMapDomain);"fe_featured"==a.template&&(this.geoOptions.enableRegionInteractivity=!1);this.mappedValues_={};this.stateObjValues=[];this.chartRows=[]};t("$jscomp.scope.FeGeoColorChartV1Ctrl",vp,void 0);vp.$inject=["$scope","$window","lodash","widgetFactory","colorsFactory"];vp.TYPE="fe_geo_color_chart";vp.DISPLAY_TYPE="Geo Color Coded";vp.VERSION=1;vp.TEMPLATES=["fe","fe_featured","fe_embed"];vp.FULL_WIDTH=!0;vp.HIDE_IN_EDITOR=!1;vp.GROUP_TYPE="FE";
var up=[{state:"Massachusetts",value:"Anise Cookies",color:"PALETTE_COLOR_6"},{state:"Ohio",value:"Buckeye Cookies",color:"PALETTE_COLOR_6"},{state:"Illinois",value:"Butter Cookies",color:"PALETTE_COLOR_6"},{state:"Alaska",value:"Gingerbread Cookies",color:"PALETTE_COLOR_2"},{state:"Connecticut",value:"Gingerbread Cookies",color:"PALETTE_COLOR_2"},{state:"New Hampshire",value:"Gingerbread Cookies",color:"PALETTE_COLOR_2"},{state:"Rhode Island",value:"Gingerbread Cookies",color:"PALETTE_COLOR_2"},
{state:"South Carolina",value:"Gingerbread Cookies",color:"PALETTE_COLOR_2"},{state:"Vermont",value:"Gingerbread Cookies",color:"PALETTE_COLOR_2"},{state:"Washington",value:"Gingersnap Cookies",color:"PALETTE_COLOR_6"},{state:"Indiana",value:"M&M Cookies",color:"PALETTE_COLOR_6"},{state:"Michigan",value:"Molasses Cookies",color:"PALETTE_COLOR_6"},{state:"Iowa",value:"Monster Cookies",color:"PALETTE_COLOR_4"},{state:"Missouri",value:"Monster Cookies",color:"PALETTE_COLOR_4"},{state:"Nebraska",value:"Monster Cookies",
color:"PALETTE_COLOR_4"},{state:"South Dakota",value:"Monster Cookies",color:"PALETTE_COLOR_4"},{state:"North Carolina",value:"Moravian Cookies",color:"PALETTE_COLOR_6"},{state:"Arizona",value:"Oatmeal Cookies",color:"PALETTE_COLOR_3"},{state:"District of Columbia",value:"Oatmeal Cookies",color:"PALETTE_COLOR_3"},{state:"Hawaii",value:"Oatmeal Cookies",color:"PALETTE_COLOR_3"},{state:"New Mexico",value:"Oatmeal Cookies",color:"PALETTE_COLOR_3"},{state:"California",value:"Persimmon Cookies",color:"PALETTE_COLOR_6"},
{state:"New Jersey",value:"Pignoli Cookies",color:"PALETTE_COLOR_6"},{state:"Virginia",value:"Preacher Cookies",color:"PALETTE_COLOR_6"},{state:"Colorado",value:"Pumpkin Cookies",color:"PALETTE_COLOR_6"},{state:"Oregon",value:"Pumpkin Cookies",color:"PALETTE_COLOR_6"},{state:"New York",value:"Rainbow Cookies",color:"PALETTE_COLOR_6"},{state:"Pennsylvania",value:"Ricotta Cookies",color:"PALETTE_COLOR_6"},{state:"Kansas",value:"Snickerdoodle Cookies",color:"PALETTE_COLOR_6"},{state:"Oklahoma",value:"Snickerdoodle Cookies",
color:"PALETTE_COLOR_6"},{state:"Texas",value:"Snickerdoodle Cookies",color:"PALETTE_COLOR_6"},{state:"Minnesota",value:"Spritz Cookies",color:"PALETTE_COLOR_6"},{state:"North Dakota",value:"Spritz Cookies",color:"PALETTE_COLOR_6"},{state:"Wisconsin",value:"Spritz Cookies",color:"PALETTE_COLOR_6"},{state:"Alabama",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Arkansas",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Delaware",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Florida",
value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Georgia",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Idaho",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Kentucky",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Louisiana",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Maine",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Maryland",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Mississippi",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Montana",
value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Nevada",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Tennessee",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Utah",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"West Virginia",value:"Sugar Cookies",color:"PALETTE_COLOR_1"},{state:"Wyoming",value:"Sugar Cookies",color:"PALETTE_COLOR_1"}];d=vp.prototype;
d.onStatesChange_=function(){var a=this.widget.fields.states.getValues();if(!angular.equals(a,this.oldRawData)){this.oldRawData=this.lodash_.cloneDeep(a);var b=[],c={colors:[],values:[]},e=this.lodash_.clone(this.availableColors_),f,g=this.lodash_.chain(a).groupBy("value").sortBy().reverse().value();this.mappedValues_={};this.stateObjValues=[];this.chartRows=[];for(f=0;f<g.length;f++){var k=g[f][0];this.mappedValues_[k.value]=g[f];this.updateStateObjColor_(k,f,g,e);this.updateColorAxis_(k,b,c,f);
this.stateObjValues.push(k.value);this.setGroupData_(k,g[f],f,a)}this.geoOptions.colorAxis=c;this.setBulletsOthers_(b,e)}};d.updateStateObjColor_=function(a,b,c,e){var f=this.colors_.getConfigByName(a.color);3<b&&5!==c.length?a.color="PALETTE_COLOR_6":"PALETTE_COLOR_6"===f.name||e[f.name]||(a.color=this.lodash_.findKey(e));delete e[a.color]};
d.updateColorAxis_=function(a,b,c,e){"PALETTE_COLOR_6"!==a.color?(b.push({value:a.value,color:a.color}),c.colors.push(this.colors_.getHexValue(a.color))):c.colors.push(this.colors_.getHexValue("PALETTE_COLOR_6"));c.values.push(e)};d.setGroupData_=function(a,b,c,e){for(var f=0;f<b.length;f++)this.chartRows.push([b[f].state,c,this.createCustomTooltipData_(b[f].state,a.value)]),e.filter(function(g){return g.state===b[f].state})[0].color=a.color};
d.setBulletsOthers_=function(a){6<this.stateObjValues.length?this.stateObjValues[4]="Others":5<this.stateObjValues.length&&(this.stateObjValues[4]="Others ("+this.stateObjValues[4]+", "+this.stateObjValues[5]+")");var b=this.widget.fields.bullets;b.items=[];b.setValues(a)};d.onBulletsChange_=function(a,b){if(a&&b){var c;for(c=0;c<b.length;c++){var e=a[c].value;var f=b[c].value;if(e.color!==f.color){this.updateStateObjGroupColor_(f.value,e.color);break}}}};
d.updateStateObjGroupColor_=function(a,b){for(var c=this.mappedValues_[a]?this.mappedValues_[a].length:0,e=0;e<c;e++)this.mappedValues_[a][e].color=b};d.createCustomTooltipData_=function(a,b){a='<div class="fe-geo-color-custom-tooltip"><div class="fe-geo-color-state-label">'+C(a);a=a+'</div><div class="fe-geo-color-search-term-label">'+C(b);return a+"</div></div>"};U.FeGeoColorChartV1=vp;var wp=angular.module("publishAppFeGeoColorChartV1",["publishAppFramework","publishAppWidgetsFeGeoColorChartV1Views"]);wp.controller("FeGeoColorChartV1Ctrl",U.FeGeoColorChartV1);angular.module("publishAppWidgetsFeGeoColorChartV2Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_geo_color_chart_v2/views/content.html",'<div class="fe-geo-color-chart-content-flex"\n     ng-class="{\'has-error\': !ctrl.chartRows.length, \'fe-geo-color-chart-with-legend\' : fields.showLegend.value}"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="widget-error" ng-if="!ctrl.chartRows.length">\n    <i class="material-icons-extended size-80-40 gray-alert">warning</i>\n    <p class="widget-error-title">Hmm, your search doesn\'t have enough data to show here.</p>\n    <p class="widget-error-desc">Please make sure everything is spelled correctly, or try a more general term.</p>\n  </div>\n  <map-adapter class="fe-geo-color-chart-directive-wrapper-flex {{ctrl.globals.getIECssClass()}}"\n               ng-if="ctrl.chartRows.length"\n               enable-tooltip="true"\n               center-tooltip="true"\n               is-svg-map="false"\n               is-color-chart="true"\n               show-legend="!fields.showLegend.value"\n               options="ctrl.geoOptions"\n               columns="ctrl.chartColumnsConfig"\n               chart-rows="ctrl.chartRows"\n               on-region-click="triggerEvent(\'regionClick\', {\'region\': region})">\n  </map-adapter>\n  <div class="fe-geo-color-chart-legend centered-legend" ng-if="fields.showLegend.value">\n    <div class="fe-geo-color-chart-legend-items-wrapper">\n      <div ng-repeat="bullet in fields.bullets.getValues() | limitTo: 5"\n           ng-if="bullet.value && bullet.color"\n           class="fe-geo-color-chart-legend-item">\n        <div class="fe-geo-color-chart-legend-item-bullet"\n             ng-style="{\'background-color\': ctrl.colors.getHexValue(bullet.color)}">\n        </div>\n        <div class="fe-geo-color-chart-legend-item-text" bidi="bullet.value">{{bullet.value}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_geo_color_chart_v2/views/fe.html",'<div class="fe-atoms-generic-container geo-color-chart-wrapper" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">{{fields.topic.value}}\n      <help-dialog ng-show="$root.globals.isDesktopMode && helpDialog"\n                   data="helpDialog"></help-dialog>\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_geo_color_chart_v2/views/content.html\'"\n              ng-if="ctrl.chartRows !== null">\n  </ng-include>\n</div>\n'),
a.put("/widgets_library/fe_geo_color_chart_v2/views/fe_embed.html",'<div class="embed-container" ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n  <ng-include class="embed-content {{ctrl.globals.getIECssClass()}}"\n              src="\'/widgets_library/fe_geo_color_chart_v2/views/content.html\'"></ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_geo_color_chart_v2/views/fe_explore_example.html",
'<div class="fe-explore-example-legend">\n  <div class="fe-explore-example-legend-item-wrapper"\n       ng-repeat="title in storyTitleArray">\n    <div class="fe-explore-example-legend-circle circle"\n         ng-style="{\'background-color\': ctrl.geoOptions.colorAxis.colors[$index]}">\n    </div>\n    <div class="fe-explore-example-legend-text">\n      {{ title }}\n    </div>\n  </div>\n</div>\n<ng-include src="\'/widgets_library/fe_geo_color_chart_v2/views/fe_featured.html\'">\n</ng-include>\n'),
a.put("/widgets_library/fe_geo_color_chart_v2/views/fe_featured.html",'<div class="fe-featured-atoms-generic-container fe-featured-geo-color-chart-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-geo-color-chart-directive-wrapper">\n    <geo-chart class="fe-geo-color-chart-directive"\n               watch-options="::isEditor"\n               options="ctrl.geoOptions"\n               columns="ctrl.featuredGeoDataColumn"\n               data="ctrl.chartRows">\n    </geo-chart>\n  </div>\n  <div class="fe-featured-geo-color-chart-legend"\n       ng-if="template != \'fe_explore_example\'">\n    <div class="fe-featured-geo-color-chart-legend-items-wrapper">\n      <div ng-repeat="bullet in fields.bullets.getValues() | limitTo: 5"\n           ng-if="bullet.value && bullet.color"\n           class="fe-featured-geo-color-chart-legend-item-container">\n        <div class="fe-featured-geo-color-chart-legend-item-circle"\n             ng-style="{\'background-color\': ctrl.colors.getHexValue(bullet.color)}">\n        </div>\n        <div class="fe-featured-geo-color-chart-legend-item-text" bidi="bullet.value">{{bullet.value}}</div>\n      </div>\n    </div>\n  </div>\n  <div class="fe-featured-atoms-generic-container-title fe-featured-container-title">\n    {{fields.topic.value | typography}}\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_geo_color_chart_v2/views/fe_featured_homepage.html",'<div class="fe-featured-homepage-container fe-featured-geo-color-chart-container"\n     height-adjustable-editorial-widget\n     graph-options="ctrl.geoOptions"\n     is-main-editorial-item="isMainEditorialItem">\n  <line-chart-legends class="fe-featured-geo-color-chart-legends"\n                      colors="ctrl.bulletColors"\n                      items="ctrl.items"\n                      max-lines="ctrl.items.length > 5 ? 3 : 2">\n  </line-chart-legends>\n  <geo-chart watch-options="true"\n             options="ctrl.geoOptions"\n             columns="ctrl.featuredGeoDataColumn"\n             data="ctrl.chartRows">\n  </geo-chart>\n  <div class="fe-featured-homepage-title fe-homepage-featured">\n    {{::ctrl.widget.fields.topic.value | typography}}\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_geo_color_chart_v2/views/now_card.html",'<div class="now-card-geo-color" ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/widgets_library/fe_geo_color_chart_v2/views/content.html\'"\n              ng-if="ctrl.chartRows !== null">\n  </ng-include>\n</div>\n'),a.put("/widgets_library/fe_geo_color_chart_v2/views/tv_broadcast.html",'<tv-broadcast main-title="{{ctrl.widget.fields.topic.value}}"\n               sub-title="{{ctrl.widget.fields.subTopic.value}}">\n  <div class="fe-geo-color-chart-content" ng-init="fields = ctrl.widget.fields">\n    <ul class="tv-geo-color-chart-legend">\n      <li ng-repeat="bullet in fields.bullets.getValues()"\n          ng-if="bullet.value && bullet.color">\n        <span ng-style="{\'background-color\': ctrl.colors.getHexValue(bullet.color)}"></span>\n        {{ bullet.value }}\n      </li>\n    </ul>\n    <div class="fe-geo-color-chart-directive-wrapper">\n      <geo-chart class="fe-geo-color-chart-directive"\n                 watch-options="::isEditor"\n                 options="ctrl.geoOptions"\n                 columns="[{type: \'string\'},\n                          {type: \'number\', label: \'annotation\'},\n                          {type: \'string\', role: \'tooltip\', \'p\': {\'html\': true}}]"\n                 data="ctrl.chartRows">\n      </geo-chart>\n    </div>\n  </div>\n</tv-broadcast>\n'),
a.put("/widgets_library/fe_geo_color_chart_v2/views/us_states.html",'<geo-chart class="fe-geo-color-chart-directive"\n           ng-class="{\'no-legend\': !fields.showLegend.value}"\n           watch-options="::isEditor"\n           options="ctrl.geoOptions"\n           columns="ctrl.chartColumnsConfig"\n           data="ctrl.chartRows"\n           on-region-click="triggerEvent(\'regionClick\', {\'region\': region})">\n</geo-chart>\n'))}]);var zp=function(a,b,c,e,f,g){this.scope_=a;this.lodash_=c;var k="tv_broadcast"===a.template?f.Colors.TV_PALETTE:f.Colors.DEFAULT_PALETTE_12;this.colors=new f.Colors(a.palette||k);this.globals=g;this.defaultWidgetColor_=f.Colors.GEO_MAP_DEFAULT_COLOR;f=[{name:"topic",type:"string",placeholder:"Title",value:"Obama vs Bush",translation:{translate:!0,description:"Title of the widget."}},{name:"subTopic",type:"string",placeholder:"Description",value:"in last 24 hours",translation:{translate:!0,description:"Subtitle of the widget."}},
{name:"region",type:"string",placeholder:"Region",value:"US"},{name:"resolution",type:"string",placeholder:"Resolution",value:"provinces",options:["countries","provinces","metros"]},{name:"geoData",type:"list",subtype:"map",visible:!1,keys:["geoName","maxValueIndex","value","formattedValue"],csvKeys:["geoName","maxValueIndex"].concat(c.flatten(c.times(5,function(l){return["value"+(l+1),"formattedValue"+(l+1)]}))),csvGetter:c.bindKey(this,"csvGetter_"),csvSetter:c.bindKey(this,"csvSetter_"),values:xp,
translation:{translate:!0,keys:[{name:"geoName",description:"The tooltip text that holds the geo name."},{name:"value",description:"The tooltip text that holds the value."}]}},{name:"bullets",type:"list",subtype:"map",keys:["value","color"],maxLimit:5,colorPalette:this.colors,keysConfig:{value:{gridSpan:12},color:{gridSpan:12,options:c.map(this.colors.palette_,function(l){return{name:l.caption,value:l.name}})}},values:[{value:"OBAMA",color:"PALETTE_COLOR_1"},{value:"BUSH",color:"PALETTE_COLOR_2"},
{value:"",color:"PALETTE_COLOR_3"},{value:"",color:"PALETTE_COLOR_4"},{value:"",color:"PALETTE_COLOR_5"}]},{name:"showLegend",type:"boolean",value:!0,visible:!1}];this.featuredGeoDataColumn=[{type:"string"},{type:"number",label:"annotation"},{type:"string",role:"tooltip",p:{html:!0}}];this.widget=new e(f,a.isEditor);e=c.bind(this.onGeoOptionsChange_,this);f=c.debounce(c.bindKey(this,"onGeoDataChange_"),50);a.$watchGroup(["ctrl.widget.fields.region.value","ctrl.widget.fields.resolution.value"],e);
a.$watch("ctrl.widget.fields.geoData.items",f);a.isEditor?a.$watch("ctrl.widget.fields.bullets.items",f,!0):a.$watch("ctrl.widget.fields.bullets.items",f);this.csvField=this.widget.fields.geoData;this.widget.registerAPI("fe_geo_color_map","/trends/api/widgetdata/comparedgeo/"+this.globals.testStoryID,{req:{requestOptions:{backend:"CM"},geo:{country:"US"},resolution:"REGION",comparisonItem:[{phrase:"OBAMA",time:"now 7-d"},{phrase:"BUSH",time:"now 7-d"}],locale:"en"}},[{path:"req.geo.country",title:"Country",
type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.resolution",title:"Resolution",type:"select",options:["DMA","CITY","COUNTRY","REGION"],invalidMessage:"Resolution is required."},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},
{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(l){for(var n=[],p=0;p<l.length;p++)n.push(l[p].phrase);return n},setValue:function(l,n){for(var p=[],q=0;q<l.length;q++)p.push({phrase:l[q],time:n.req.comparisonItem[0].time});return p}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."}]).middleware(c.bindKey(this,"middleware_"));this.tooltipTrigger="tv_broadcast"===a.template?"none":"focus";this.geoOptions=
{backgroundColor:{fill:"transparent"},datalessRegionColor:this.colors.getHexValue("NO_DATA"),legend:"none",sizeAxis:{maxSize:6,minSize:6},tooltip:{isHtml:!0,showTitle:!1,trigger:this.tooltipTrigger}};b.gvizMapDomain&&(this.geoOptions.domain=b.gvizMapDomain);this.geoOptions.enableRegionInteractivity=!1;"fe_explore_example"==a.template?this.geoOptions.height=168:"now_card"==a.template?(this.geoOptions.height=119,this.geoOptions.width=188):"fe_embed"==a.template?(this.geoOptions.width=250,this.geoOptions.enableRegionInteractivity=
!0):"fe_featured"!=a.template&&(this.geoOptions.enableRegionInteractivity=!0);this.chartRows=null;this.chartColumnsConfig=yp;this.items=[];this.bulletColors=[]};t("$jscomp.scope.FeGeoColorChartV2Ctrl",zp,void 0);zp.$inject="$scope $window lodash widgetFactory colorsFactory globalsService".split(" ");zp.TYPE="fe_geo_color_chart";zp.DISPLAY_TYPE="Geo Color Coded";zp.VERSION=2;zp.TEMPLATES="fe fe_featured fe_featured_homepage fe_embed now_card tv_broadcast us_states".split(" ");
zp.FULL_WIDTH_BY_TEMPLATE={"*":!0,now_card:!1};zp.HIDE_IN_EDITOR=!1;zp.GROUP_TYPE={ELE:["us_states"],FE:["fe","fe_featured","fe_featured_homepage","fe_embed"],NOW_CARD:["now_card"],TV:["tv_broadcast"]};
var xp=[{geoName:"Massachusetts",value:[20,40],formattedValue:["20","40"],maxValueIndex:1},{geoName:"Ohio",value:[20,40],formattedValue:["20","40"],maxValueIndex:1},{geoName:"Illinois",value:[20,40],formattedValue:["20","40"],maxValueIndex:1},{geoName:"Alaska",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Connecticut",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"New Hampshire",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Rhode Island",
value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"South Carolina",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Vermont",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Washington",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Indiana",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Michigan",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Iowa",value:[25,10],formattedValue:["25",
"10"],maxValueIndex:0},{geoName:"Missouri",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Nebraska",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"South Dakota",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"North Carolina",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Arizona",value:[5,15],formattedValue:["5","15"],maxValueIndex:1},{geoName:"District of Columbia",value:[5,15],formattedValue:["5","15"],maxValueIndex:1},
{geoName:"Hawaii",value:[5,15],formattedValue:["5","15"],maxValueIndex:1},{geoName:"New Mexico",value:[5,15],formattedValue:["5","15"],maxValueIndex:1},{geoName:"California",value:[5,15],formattedValue:["5","15"],maxValueIndex:1},{geoName:"New Jersey",value:[5,15],formattedValue:["5","15"],maxValueIndex:1},{geoName:"Virginia",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Colorado",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Oregon",value:[25,10],formattedValue:["25",
"10"],maxValueIndex:0},{geoName:"New York",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Pennsylvania",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Kansas",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Oklahoma",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Texas",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Minnesota",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"North Dakota",
value:[5,15],formattedValue:["5","15"],maxValueIndex:1},{geoName:"Wisconsin",value:[5,15],formattedValue:["5","15"],maxValueIndex:1},{geoName:"Alabama",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Arkansas",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Delaware",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Florida",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Georgia",value:[25,10],formattedValue:["25","10"],
maxValueIndex:0},{geoName:"Idaho",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Kentucky",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Louisiana",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Maine",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Maryland",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Mississippi",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Montana",
value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Nevada",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Tennessee",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Utah",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"West Virginia",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoName:"Wyoming",value:[25,10],formattedValue:["25","10"],maxValueIndex:0}],yp=[{type:"string"},{type:"number"},{type:"string",role:"tooltip",
p:{html:!0}}],Ap=[{type:"number"},{type:"number"},{type:"number"},{type:"string",role:"tooltip",p:{html:!0}}];d=zp.prototype;d.csvGetter_=function(a){return a=this.lodash_.map(a,function(b){for(var c={formattedValue:[],geoName:b.geoName,maxValueIndex:parseInt(b.maxValueIndex),value:[]},e=0;5>e;e++){var f=b["value"+(e+1)];f&&(c.value[e]=parseInt(f),c.formattedValue[e]=b["formattedValue"+(e+1)])}return c})};
d.csvSetter_=function(a){var b=this;a.values=this.lodash_.map(a.values,function(c){var e={geoName:c.geoName,maxValueIndex:c.maxValueIndex};b.lodash_.forEach(c.value,function(f,g){e["value"+(g+1)]=f;e["formattedValue"+(g+1)]=c.formattedValue[g]});return e});return a};d.middleware_=function(a){return{geoData:a["default"].geoMapData}};
d.onGeoDataChange_=function(){var a=this;if(!this.widget.isQuerying&&this.scope_.isScrolledInto){var b=this.widget.fields.geoData.getValues();this.chartRows=[];if(!b[0].hasOwnProperty("hasData")||0!==b.filter(function(k){return k.hasData.filter(function(l){return!0===l}).length}).length){this.chartColumnsConfig=b[0]&&b[0].coordinates?Ap:yp;var c=this.widget.fields.bullets.getValues();this.items=c.filter(function(k){return""!==k.value});this.bulletColors=this.widget.fields.bullets.items.filter(function(k){return""!==
k.value.value}).map(function(k){return a.colors.getHexValue(k.value.color)});var e={colors:[],values:[]},f;b.forEach(function(k){f=k.coordinates?[k.coordinates.lat,k.coordinates.lng]:[k.geoCode||k.geoName];0===k.value[k.maxValueIndex]&&!1===k.hasData[k.maxValueIndex]&&(k.maxValueIndex=null);if(!k.coordinates||k.maxValueIndex)f.push(k.maxValueIndex,a.createCustomTipData_(k,c)),a.chartRows.push(f)},this);for(var g=0;g<(b[0]?b[0].value.length:0);g++)c[g]&&c[g].color&&e.colors.push(this.colors.getHexValue(c[g].color)),
e.values.push(g);this.geoOptions.colorAxis=e;this.onGeoOptionsChange_();this.scope_.$applyAsync()}}};d.onGeoOptionsChange_=function(){this.geoOptions.region=this.widget.fields.region.value;this.geoOptions.resolution=this.widget.fields.resolution.value;this.geoOptions.defaultColor=this.defaultWidgetColor_};
d.createCustomTipData_=function(a,b){if(!a.hasOwnProperty("hasData")||0!==a.hasData.filter(function(f){return!0===f}).length){for(var c='<div class="fe-geo-color-chart-tip"><div class="fe-geo-color-chart-tip-title">'+C(a.geoName)+"</div>",e=0;e<b.length;e++)!b[e].value||a.hasOwnProperty("hasData")&&!a.hasData[e]||(c+='<div class="fe-geo-color-chart-tip-item-wrapper"><span class="fe-geo-color-chart-tip-label fe-atoms-generic-elipssis" ng-non-bindable>'+b[e].value+'</span><span class="fe-geo-color-chart-tip-value" style="color:'+
this.colors.getHexValue(b[e].color)+'">'+C(a.formattedValue[e])+"</span></div>");return c+"</div>"}};U.FeGeoColorChartV2=zp;var Bp=angular.module("publishAppFeGeoColorChartV2",["publishAppFramework","publishAppWidgetsFeGeoColorChartV2Views"]);Bp.controller("FeGeoColorChartV2Ctrl",U.FeGeoColorChartV2);angular.module("publishAppWidgetsFeIntOverTimeV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_int_over_time_v1/views/content.html",'<div class="fe-atoms-generic-content-container fe-init-over-time-content-container">\n  <div class="legend fe-atoms-generic-hide-in-desktop">\n   <div class="fe-int-over-time-legend-item-wrapper">\n     <div class="circle"\n          ng-style="{\'background-color\': forcedColor || ctrl.colors.getHexValue(fields.color.value)}">\n     </div>\n     <div class="text">{{fields.lineAnnotationText.value}}</div>\n   </div>\n    <div class="fe-int-over-time-legend-item-wrapper"\n         ng-if="ctrl.hasArticlesData">\n      <div class="circle legend-gray"></div>\n      <div class="text">\n        {{fields.barAnnotationText.value}}\n      </div>\n    </div>\n  </div>\n  <fe-combo-chart-directive class="fe-combo-chart-directive"\n                            options="ctrl.options"\n                            columns="ctrl.chartColumns"\n                            data="ctrl.chartRows">\n  </fe-combo-chart-directive>\n</div>\n'),
a.put("/widgets_library/fe_int_over_time_v1/views/fe.html",'<div class="fe-int-over-time-generated fe-atoms-generic-container"\n    ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">\n      {{fields.topic.value}}\n    </div>\n    <div class="fe-int-over-time-legend-container">\n      <div class="circle"\n           ng-style="{\n             \'background-color\': forcedColor || ctrl.colors.getHexValue(fields.color.value)\n           }">\n      </div>\n      <div class="text">{{fields.lineAnnotationText.value}}</div>\n      <div class="circle legend-gray" ng-if="ctrl.hasArticlesData"></div>\n      <div class="text" ng-if="ctrl.hasArticlesData">\n        {{fields.barAnnotationText.value}}\n      </div>\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_int_over_time_v1/views/content.html\'"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_int_over_time_v1/views/fe_embed.html",'<div class="fe-int-over-time-generated embed-container"\n    ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n  <ng-include class="embed-content" src="\'/widgets_library/fe_int_over_time_v1/views/content.html\'"></ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_int_over_time_v1/views/fe_featured.html",
'<div class="fe-featured-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <fe-combo-chart-directive class="fe-featured-generic-container-content"\n                            options="ctrl.options"\n                            columns="[{type: \'string\'},\n                {type: \'number\', label: fields.lineAnnotationText.value}]"\n                            data="ctrl.chartRows">\n  </fe-combo-chart-directive>\n  <div class="fe-featured-atoms-generic-container-title">{{fields.topic.value | typography}}</div>\n</div>\n'),
a.put("/widgets_library/fe_int_over_time_v1/views/fe_trendingfeed.html",'<div class="fe-int-over-time-generated fe-atoms-generic-container trendingfeed-desktop"\n    ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">\n      {{::fields.topic.value}}\n    </div>\n    <div class="fe-int-over-time-legend-container">\n      <div class="circle"\n           ng-style="{\n             \'background-color\': forcedColor || ctrl.colors.getHexValue(fields.color.value)\n           }">\n      </div>\n      <div class="text">{{::fields.lineAnnotationText.value}}</div>\n      <div class="circle legend-gray" ng-if="ctrl.hasArticlesData"></div>\n      <div class="text" ng-if="ctrl.hasArticlesData">\n        {{::fields.barAnnotationText.value}}\n      </div>\n    </div>\n  </div>\n  <ng-include src="\'/widgets_library/fe_int_over_time_v1/views/content.html\'"></ng-include>\n</div>\n'))}]);var Dp=function(a,b,c,e,f,g,k,l){this.scope_=a;this.window_=b;this.lodash_=c;this.colors=new g.Colors(a.palette);this.globalsService_=f;this.bidiService_=k;f=[{name:"topic",type:"string",placeholder:"Title",value:"Interest over time",translation:{translate:!0,description:"Title of the widget. http://goo.gl/NJ5EXs"}},{name:"barAnnotationText",type:"string",placeholder:"Bar annotation text",value:"News articles",translation:{translate:!0,description:"The legend text of the bar annotations. http://goo.gl/NJ5EXs"}},
{name:"lineAnnotationText",type:"string",placeholder:"Line annotation text",value:"Search interest",translation:{translate:!0,description:"The legend text of the line annotations. http://goo.gl/NJ5EXs"}},{name:"sumAnnotationText",type:"string",placeholder:"Accumulative annotation text",value:"Accumulative",translation:{translate:!0,description:"The bold text of the tooltip, refer to the accumulative data. http://goo.gl/NJ5EXs"}},{name:"lineData",type:"list",subtype:"map",visible:!1,keys:["time","formattedTime",
"formattedAxisTime","value","formattedValue"],values:Cp},{name:"barData",type:"list",subtype:"map",visible:!1,keys:["startTime","articles","accumulative","formattedArticles","formattedAccumulative"],values:[]},{name:"color",type:"string",value:"PALETTE_COLOR_1",colorPalette:this.colors,options:c.map(g.Colors.DEFAULT_PALETTE,function(q){return{name:q.caption,value:q.name}})}];this.widget=new e(f,a.isEditor);this.csvField=this.widget.fields.lineData;e=c.bind(this.onDataChange_,this);a.$watch("ctrl.widget.fields.lineData.items",
e,!0);a.isEditor&&a.$watchGroup(["ctrl.widget.fields.barAnnotationText.value","ctrl.widget.fields.lineAnnotationText.value","ctrl.widget.fields.sumAnnotationText.value","ctrl.widget.fields.color.value"],e);this.widget.registerAPI("fe_intovertime","/trends/api/widgetdata/timeline/"+this.globalsService_.testStoryID,{req:{geo:{country:"US"},time:"2015-06-05T17\\:00\\:00 2015-06-08T11\\:25\\:00",resolution:"HOUR",mid:["/m/01jddz","/m/05fjf"],locale:"en"},tz:"300"},[{path:"req.geo.country",title:"Country",
type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.resolution",title:"Resolution",type:"select",options:["MINUTE","HOUR","FOUR_HOUR","DAY"],invalidMessage:"Resolution is required."},{path:"req.mid",title:"Mid",type:"list",group:"midOrQuery",groupValue:"mid",invalidMessage:"Mid is required."},{path:"req.query",
title:"Query",type:"text",group:"midOrQuery",groupValue:"query",invalidMessage:"Query is required."},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:l.TIME_ZONES,invalidMessage:"Timezone is required."}]).middleware(this.middleware_);this.options={backgroundColor:{fill:"transparent"},legend:"none",baselineColor:"9E9E9E",focusTarget:"category",hAxis:{maxAlternation:1,maxTextLines:1,slantedText:!1,textStyle:{color:"#9E9E9E",
fontName:"Roboto"}},vAxes:{0:{textStyle:{fontName:"Roboto",fontSize:12},viewWindow:{min:.01},baseline:.01},1:{textStyle:{color:"#BDBDBD",fontName:"Roboto",fontSize:12},gridlines:{color:"#E0E0E0"},viewWindow:{min:.01}}},connectSteps:!1,areaOpacity:1,series:{0:{type:"steppedArea",targetAxisIndex:1,color:"#EEE"},1:{type:"line",targetAxisIndex:0,color:"#4285F4"}},tooltip:{isHtml:!0,showTitle:!1}};if("fe_featured"==a.template)this.options.series={0:{type:"line",targetAxisIndex:0,color:"#4285F4",lineWidth:4}},
this.options.baselineColor="transparent",this.options.hAxis.textPosition="none",this.options.hAxis.gridlines={color:"transparent"},this.options.vAxis={textPosition:"none",gridlines:{color:"transparent"}},this.options.height=168,this.options.chartArea={height:"168",width:"100%"},this.options.enableInteractivity=!1;else{this.options.crosshair={orientation:"vertical",trigger:"focus",opacity:.3};var n=angular.element(b);b=c.bindKey(this,"updateOptions_",a);var p=c.throttle(b,50,{trailing:!0});this.chartColumns=
[{type:"string"},{type:"string",role:"tooltip",p:{html:!0}},{type:"number",label:"barAnnotationText"},{type:"number",label:"lineAnnotationText"}];b();n.bind("resize",p);a.$on("$destroy",function(){n.unbind("resize",p)})}this.chartRows=[];this.hasArticlesData=!0};t("$jscomp.scope.FeIntOverTimeV1Ctrl",Dp,void 0);Dp.$inject="$scope $window lodash widgetFactory globalsService colorsFactory bidiService helpersFactory".split(" ");Dp.TYPE="fe_int_over_time";Dp.DATA_POINT_DENSITY_LIMIT=100;
Dp.DISPLAY_TYPE="Interest Over Time";Dp.VERSION=1;Dp.TEMPLATES=["fe","fe_featured","fe_embed"];Dp.FULL_WIDTH=!0;Dp.HIDE_IN_EDITOR=!0;Dp.GROUP_TYPE="FE";
var Cp=[{time:0,value:18,formattedTime:"May 15, 2015 at 00:00",formattedAxisTime:"May 15 at 00:00",formattedValue:"18"},{time:8,value:23,formattedTime:"May 15, 2015 at 08:00",formattedAxisTime:"May 15 at 08:00",formattedValue:"23"},{time:16,value:29,formattedTime:"May 15, 2015 at 16:00",formattedAxisTime:"May 15 at 16:00",formattedValue:"29"},{time:24,value:35,formattedTime:"May 16, 2015 at 00:00",formattedAxisTime:"May 16 at 00:00",formattedValue:"35"},{time:32,value:18,formattedTime:"May 16, 2015 at 08:00",
formattedAxisTime:"May 16 at 08:00",formattedValue:"18"},{time:40,value:18,formattedTime:"May 16, 2015 at 16:00",formattedAxisTime:"May 16 at 16:00",formattedValue:"18"},{time:48,value:18,formattedTime:"May 17, 2015 at 00:00",formattedAxisTime:"May 17 at 00:00",formattedValue:"18"},{time:56,value:21,formattedTime:"May 17, 2015 at 08:00",formattedAxisTime:"May 17 at 08:00",formattedValue:"21"},{time:64,value:25,formattedTime:"May 17, 2015 at 16:00",formattedAxisTime:"May 17 at 16:00",formattedValue:"25"},
{time:72,value:29,formattedTime:"May 18, 2015 at 00:00",formattedAxisTime:"May 18 at 00:00",formattedValue:"29"},{time:80,value:32,formattedTime:"May 18, 2015 at 08:00",formattedAxisTime:"May 18 at 08:00",formattedValue:"32"},{time:88,value:36,formattedTime:"May 18, 2015 at 16:00",formattedAxisTime:"May 18 at 16:00",formattedValue:"36"},{time:96,value:18,formattedTime:"May 19, 2015 at 00:00",formattedAxisTime:"May 19 at 00:00",formattedValue:"18"}];d=Dp.prototype;d.middleware_=function(a){return{lineData:a["default"].timelineData}};
d.getColor_=function(){return this.scope_.forcedColor||this.colors.getHexValue(this.widget.fields.color.value)};
d.onDataChange_=function(){if(!this.widget.isQuerying){var a=this.widget.fields.barData.getValues();this.hasArticlesData=0!==a.length&&!this.lodash_.every(a,function(b){return 0==b.articles});"fe_featured"==this.scope_.template?(a=this.widget.fields.lineData.getValues(),this.options.series[0].lineWidth=100<=a.length?3:4,this.options.series[0].color=this.getColor_(),this.chartRows=this.lodash_.map(a,function(b){return[b.formattedAxisTime,parseInt(b.value)]})):this.hasArticlesData?this.setupLineAndBarChartData_():
this.setupLineOnlyChartData_()}};
d.setupLineOnlyChartData_=function(){var a=this,b=this,c=this.getColor_();this.options.crosshair.color=c;this.options.series={0:{type:"line",targetAxisIndex:0,color:c,lineWidth:this.options.series[0].lineWidth}};this.options.vAxes[0].textStyle.color=c;this.chartColumns=[{type:"string"},{type:"string",role:"tooltip",p:{html:!0}},{type:"number",label:"lineAnnotationText"}];this.chartRows=this.widget.fields.lineData.getValues().map(function(e){var f=b.bidiService_.wrapTextUnicodeByPageDirection(e.formattedTime),g=
b.bidiService_.wrapTextUnicodeByPageDirection(e.formattedAxisTime);f=a.createCustomTooltipData_(f,e.formattedValue);return[g,f,parseInt(e.value)]})};
d.setupLineAndBarChartData_=function(){var a=this,b=this.getColor_();this.options.crosshair.color=b;this.options.vAxes[0].textStyle.color=b;var c=this.lodash_.keyBy(this.widget.fields.lineData.getValues(),"time");this.chartRows=this.widget.fields.barData.getValues().map(function(e){var f=c[e.startTime],g=a.bidiService_.wrapTextUnicodeByPageDirection(f?f.formattedTime:""),k=a.bidiService_.wrapTextUnicodeByPageDirection(f?f.formattedAxisTime:"");g=a.createCustomTooltipData_(g,f?f.formattedValue:"",
e.formattedArticles,e.formattedAccumulative);return[k,g,parseInt(e.articles),parseInt(f?f.value:"")]},this)};
d.createCustomTooltipData_=function(a,b,c,e){var f=this.widget.fields,g=this.getColor_();a='<div class="fe-over-time-tooltip"><div class="fe-over-time-tooltip-title">'+C(a)+'</div><div class="fe-over-time-tooltip-item-wrapper"><span class="fe-over-time-tooltip-label">'+C(f.lineAnnotationText.value)+'</span><span class="fe-over-time-tooltip-value" style="color:'+g+'">'+C(b)+"</span></div>";this.hasArticlesData&&(a+='<div class="fe-over-time-tooltip-item-wrapper"><span class="fe-over-time-tooltip-label">'+
C(f.barAnnotationText.value)+'</span><span class="fe-over-time-tooltip-value" style="color:'+g+'">'+C(c)+'</span></div><div class="fe-over-time-tooltip-sum-label">'+C(f.sumAnnotationText.value)+'</div><div class="fe-over-time-tooltip-item-wrapper"><span class="fe-over-time-tooltip-label">'+C(f.barAnnotationText.value)+'</span><span class="fe-over-time-tooltip-value"  style="color:'+g+'">'+C(e)+"</span></div>");return a+"</div>"};
d.updateOptions_=function(a){"desktop"==this.globalsService_.getResponsiveMode()?(this.options.series[0].lineWidth=4,this.options.series[1]&&(this.options.series[1].lineWidth=4),this.options.vAxis=null,this.options.hAxis.minTextSpacing=250,this.options.hAxis.textStyle.fontSize=12,this.options.height="fe_embed"===a.template?250:350,this.options.chartArea={top:47,width:"90%"},"fe_trendingfeed"===a.template&&(this.options.chartArea={top:32,bottom:24,width:"90%"},this.options.height=288,this.options.vAxes[1].textStyle.color=
"rgba(0, 0, 0, .54)")):(this.options.series[0].lineWidth=2,this.options.series[1]&&(this.options.series[1].lineWidth=2),this.options.vAxis={textPosition:"none"},this.options.hAxis.minTextSpacing=60,this.options.hAxis.textStyle.fontSize=10,this.options.height=230,this.options.chartArea={width:"95%"},"fe_trendingfeed"===a.template&&(this.options.vAxis={textPosition:"out",textStyle:{fontSize:12},minTextSpacing:24},this.options.chartArea={width:"80%"},this.options.chartArea.top=8,this.options.chartArea.bottom=
24,this.options.height=180,this.options.series[0].lineWidth=4,this.options.series[1]&&(this.options.series[1].lineWidth=4),this.options.vAxes[1].textStyle.color="rgba(0, 0, 0, .54)"))};U.FeIntOverTimeV1=Dp;var Fp=function(){this.restrict="E";this.template='<div class="combo-container"></div>';this.scope={columns:"&",data:"=",options:"="};this.link=Ep.bind(this.link,this)},Ep,Gp,Hp,Ip;d=Fp.prototype;d.redraw_=function(a){this.scopeDestroy_(a);Gp.applyGViz(function(b){for(var c=new b.DataTable,e=a.columns(),f=0;f<e.length;f++)c.addColumn(e[f]);c.addRows(a.data);var g=a.comboChart_=new b.ComboChart(a.gvizElement);Hp(function(){g.draw(c,a.options)},50)})};
d.scopeDestroy_=function(a){Hp.cancel(a.resizeTimer);a.comboChart_&&a.comboChart_.clearChart();a.comboChart_=null};d.link=function(a,b){var c=this,e=Ep.bind(this.redraw_,this,a),f=Ep.bind(this.resizeHandler_,this,a);a.element=b;a.gvizElement=b[0].firstChild;a.$watch("data",e,!0);Ip.bind("resize",f);this.storeContainerWidth_(a);a.$on("$destroy",function(){c.scopeDestroy_(a);Ip.unbind("resize",f)})};d.storeContainerWidth_=function(a){var b=a.element.prop("offsetWidth");return a.containerWidth=b};
d.resizeHandler_=function(a){var b=Ep.bind(this.redraw_,this,a);Hp.cancel(a.resizeTimer);a.containerWidth!==this.storeContainerWidth_(a)&&(a.resizeTimer=Hp(b,100))};var Jp=function(a,b,c,e){Ip=angular.element(a);Hp=b;Ep=c;Gp=e;return new Fp};t("$jscomp.scope.directiveInjector$jscomp$19",Jp,void 0);Jp.$inject=["$window","$timeout","lodash","globalsService"];var Kp=angular.module("publishAppFeIntOverTimeV1",["publishAppFramework","publishAppWidgetsFeIntOverTimeV1Views"]);Kp.controller("FeIntOverTimeV1Ctrl",U.FeIntOverTimeV1);Kp.directive("feComboChartDirective",Jp);angular.module("publishAppWidgetsFeLineChartV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_line_chart_v1/views/annotation_markup.html",'<div class="fe-line-chart-annotation">\n  <div class="fe-line-chart-annotation-title">\n    <img src="{{annotationIcon}}"/>\n    <span> {{annotationTitle}} </span></div>\n  <div>{{annotationSubtitle}}</div>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/charts.html",'<div class="line-chart-body-wrapper">\n    <bar-chart ng-if="ctrl.showBarChart"\n            class="fe-bar-chart-directive"\n            ng-class="{\'no-legend\': !ctrl.widget.fields.showLegend.value}"\n            options="ctrl.barChartOptions"\n            watch-options="::isEditor"\n            data="ctrl.barChartData">\n    </bar-chart>\n    <line-chart-directive class="fe-line-chart-directive"\n                        tooltip-row="true"\n                        ng-class="{\'no-legend\':\n                            !ctrl.widget.fields.showLegend.value,\n                            \'bar-chart\': ctrl.showBarChart}"\n                        watch-options="::isEditor"\n                        data="ctrl.chartData"\n                        options="ctrl.chartOptions">\n    </line-chart-directive>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/content.html",'<div class="fe-atoms-generic-content-container fe-line-chart-content-container"\n     ng-class="{\'has-error\' : ctrl.errorClass}">\n  <line-chart-legends\n      ng-if="ctrl.widget.fields.showLegend.value && !ctrl.errorClass && ctrl.chartOptions.colors"\n      colors="ctrl.chartOptions.colors"\n      items="fields.bullets.items"\n      top-indexes="ctrl.topIndexes">\n  </line-chart-legends>\n  <ng-include src="\'/widgets_library/fe_line_chart_v1/views/error_message.html\'"\n              ng-if="ctrl.errorClass"></ng-include>\n  <ng-include src="\'/widgets_library/fe_line_chart_v1/views/charts.html\'"\n              ng-if="!ctrl.errorClass"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/error_message.html",'<div class="widget-error">\n  <i class="material-icons-extended size-80-40 gray-alert">warning</i>\n  <p class="widget-error-title">\n    Hmm, your search doesn\'t have enough data to show here.\n  </p>\n  <p class="widget-error-desc">\n    Please make sure everything is spelled correctly, or try a more general term.\n  </p>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe.html",'<div class="fe-atoms-generic-container fe-line-chart"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-line-chart-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-line-chart-header-title">{{fields.topic.value | typography}}\n      <help-dialog ng-show="$root.globals.isDesktopMode && helpDialog"\n                   data="helpDialog"></help-dialog>\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include class="fe-line-chart-content"\n              ng-class="{\'no-legend\': !ctrl.widget.fields.showLegend.value}"\n              src="\'/widgets_library/fe_line_chart_v1/views/content.html\'">\n  </ng-include>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/fe_embed.html",'<div class="fe-line-chart embed-container"\n     ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n\n  <ng-include class="fe-line-chart-content embed-content"\n              src="\'/widgets_library/fe_line_chart_v1/views/content.html\'">\n  </ng-include>\n\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe_explore_example.html",
'<div class="fe-explore-example-legend">\n  <div class="fe-explore-example-legend-item-wrapper"\n       ng-repeat="title in storyTitleArray">\n    <div class="fe-explore-example-legend-circle circle"\n         ng-style="{\'background-color\': ctrl.barChartOptions.colors[$index]}">\n    </div>\n    <div class="fe-explore-example-legend-text">\n      {{ title }}\n    </div>\n  </div>\n</div>\n<ng-include src="\'/widgets_library/fe_line_chart_v1/views/fe_featured.html\'">\n</ng-include>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe_featured.html",
'<div class="fe-featured-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <line-chart-directive class="fe-featured-generic-container-content"\n              watch-options="::isEditor"\n              data="ctrl.chartData"\n              options="ctrl.chartOptions">\n  </line-chart-directive>\n  <div class="fe-featured-atoms-generic-container-title">{{fields.topic.value | typography}}</div>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe_featured_homepage.html",
'<div class="fe-featured-homepage-container"\n     ng-if="ctrl.widget.fields.showLegend.value && !ctrl.errorClass && ctrl.chartOptions.colors"\n     height-adjustable-editorial-widget\n     graph-options="ctrl.chartOptions"\n     is-main-editorial-item="isMainEditorialItem">\n  <line-chart-legends class="fe-line-chart-featured-legends"\n                      colors="ctrl.chartOptions.colors"\n                      items="ctrl.widget.fields.bullets.items"\n                      top-indexes="ctrl.topIndexes"\n                      max-lines="ctrl.widget.fields.bullets.items.length > 5 ? 3 : 2">\n  </line-chart-legends>\n  <line-chart-directive class="fe-featured-generic-container-content"\n                        watch-options="true"\n                        data="ctrl.chartData"\n                        options="ctrl.chartOptions">\n  </line-chart-directive>\n  <div class="fe-featured-homepage-container-title">\n    {{ctrl.widget.fields.topic.value | typography}}\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/now_card.html",'<div class="fe-line-chart now-card-fe-line"\n     ng-init="fields = ctrl.widget.fields">\n  <ng-include class="fe-line-chart-content"\n              ng-class="{\'no-legend\': !ctrl.widget.fields.showLegend.value}"\n              src="\'/widgets_library/fe_line_chart_v1/views/content.html\'">\n  </ng-include>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/tv_broadcast.html",'<tv-broadcast main-title="{{ctrl.widget.fields.topic.value}}" sub-title="{{ctrl.widget.fields.subTopic.value}}">\n  <div class="tv-line-chart-bg">\n    <line-chart-directive class="fe-line-chart-directive"\n                watch-options="::isEditor"\n                data="ctrl.chartData"\n                options="ctrl.chartOptions"\n                tooltip-row="ctrl.tooltipXAxisIndexValue"\n                on-select="ctrl.selectHandlerBind(row)">\n    </line-chart-directive>\n  </div>\n</tv-broadcast>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/tv_broadcast_tooltip.html",'<div class="tv-line-chart-tooltip-wrapper">\n  <div class="tv-line-chart-tooltip-container position-{{tooltipPosition}}">\n    <div class="tv-line-chart-tooltip">\n      {{tooltipAnnotation}}\n    </div>\n  </div>\n</div>\n'))}]);var Lp=function(a,b,c,e,f,g,k,l,n,p,q,u){var x=this;this.window_=b;this.utilsService_=f;this.defaultLineChartDataService_=p;b=a.palette||p.DEFAULT_PALETTE;this.colors_=new k.Colors(b);this.template_=a.template;this.scope_=a;this.globalsService_=g;this.bidiService_=n;this.templateCache_=c;this.interpolate_=e;this.timeout_=u;this.tooltipXAxisIndexValue=null;this.defaultWidgetData_=p.fillDefaultData(this.scope_.template,b,15);this.widget=new l(this.defaultWidgetData_,a.isEditor);this.lineChartWidgetApisService_=
q;this.csvField=this.widget.fields.csv;this.terms=[];this.topIndexes=[];this.setBulletsTextAndColor_=!0;this.bulletsColors_=[];this.MAXIMUM_BULLET_ITEMS=7;this.onCSVChangeBind_=this.utilsService_.debounce(function(){return x.onCSVChange_()},50);this.numberOfLines=2;this.chartOptions=this.utilsService_.cloneDeep(p.DEFAULT_CHART_OPTIONS);this.barChartOptions=this.utilsService_.cloneDeep(p.DEFAULT_BAR_CHART_OPTIONS);this.barChartOptions.colors=this.colors_.getHexValues();this.chartData=[];this.showBarChart=
!1;this.selectHandlerBind=function(){return x.selectHandler_()};this.init()};d=Lp.prototype;d.init=function(){this.fillChartOptions_();var a=!!Object.keys(this.widget.fields).length;this.initWatchers(a);a&&this.initApi()};
d.initWatchers=function(a){var b=this;this.scope_.$watchGroup(["ctrl.widget.fields.csv.items","isScrolledInto"],this.onCSVChangeBind_);this.scope_.isEditor&&this.scope_.$watch("ctrl.widget.fields.bullets.items",this.onCSVChangeBind_,!0);"tv_broadcast"===this.scope_.template&&a&&(this.scope_.$watchGroup(["ctrl.widget.fields.tooltipAnnotation.value","ctrl.widget.fields.tooltipPosition.value","ctrl.widget.fields.XAxisLines.value"],this.onCSVChangeBind_),this.widget.fields.bullets.config.visible=!1,this.widget.fields.tooltipXValue.config.visible=
!1,this.widget.fields.tooltipXValue.value=this.widget.fields.csv.items[3].value.formattedXAxis,this.scope_.$watch("ctrl.widget.fields.tooltipXValue.value",function(){return b.onTooltipXChange_()}))};
d.initApi=function(){var a=this,b=this.middleware_.bind(this),c=function(f){f&&(self.chartData=[]);a.widget.fields.bullets.config.translation.translate=!0},e=this.utilsService_.cloneDeep(this.lineChartWidgetApisService_.MULTI_RANGE_API);this.widget.registerAPI("fe_line_multi_range","/trends/api/widgetdata/multirange/"+this.globalsService_.testStoryID,e.params,e.settings).middleware(b).toggle(c).setShowInEditor(!1);e=this.utilsService_.cloneDeep(this.lineChartWidgetApisService_.FE_LINE_API);this.widget.registerAPI("fe_line",
"/trends/api/widgetdata/multiline/"+this.globalsService_.testStoryID,e.params,e.settings).middleware(b).toggle(c).setShowInEditor(!1);e=this.utilsService_.cloneDeep(this.lineChartWidgetApisService_.TOP_FE_LINE_API);this.widget.registerAPI("fe_line_top_multi_line","/trends/api/widgetdata/topmultiline/"+this.globalsService_.testStoryID,e.params,e.settings).setCtrl(this).middleware(b).toggle(c).initialDispatch(this.widget.isEditor)};
d.parseMultiRangeLineData_=function(a){var b={x:a.columnData[0].time,formattedX:this.bidiService_.wrapTextUnicodeByPageDirection(a.columnData[0].formattedTime),formattedXAxis:null};a.columnData.forEach(function(c,e){e+=1;b["y"+e]=c.value;b["formattedY"+e]=c.formattedValue;b["formattedTime"+e]=c.formattedTime});return b};
d.parseLineData_=function(a){var b=this.bidiService_.wrapTextUnicodeByPageDirection(a.formattedTime),c=this.bidiService_.wrapTextUnicodeByPageDirection(a.formattedAxisTime),e={x:a.time,formattedX:b,formattedXAxis:c,note:a.axisNote};a.value.forEach(function(f,g){var k=g+1;e["y"+k]=f;e["formattedY"+k]=a.formattedValue[g];e["certaintyY"+k]=!a.isPartial});return e};d.getTopIndexes_=function(a){var b=[];if(!a.length)return[0];a.forEach(function(c,e){return b.push(e)});return b};
d.middleware_=function(a){var b=a["default"].multilineResponse?a["default"].multilineResponse:a["default"],c=b.timelineData;b=b.averages;this.topIndexes=a["default"].topIndex?a["default"].topIndex:this.getTopIndexes_(b);this.setBulletsTextAndColor_=!0;return this.getTimeLineMapData_(c,b)};
d.getTimeLineMapData_=function(a,b){this.errorClass=a&&1>=a.length;this.barChartData=this.widget.fields.showAverages.value?this.setBarChartDataTable_(b):[];b=a[0]&&a[0].columnData?this.parseMultiRangeLineData_.bind(this):this.parseLineData_.bind(this);a=a.map(b);this.widget.fields.tooltipXValue&&this.tooltipXAxisIndexValue&&(a.length<=this.tooltipXAxisIndexValue?this.tooltipXAxisIndexValue=null:this.widget.fields.tooltipXValue.value=a[this.tooltipXAxisIndexValue].formattedXAxis);return{csv:a,showAverages:this.widget.fields.showAverages.value}};
d.loadTvBrodcastToolTipTemplate_=function(a,b){b.tooltipPosition=this.widget.fields.tooltipPosition.value;b.tooltipAnnotation=this.widget.fields.tooltipAnnotation.value;a.push(["x","y",{type:"string",role:"style"},{type:"string",role:"tooltip",p:{html:!0}}]);return this.interpolate_(this.templateCache_.get("/widgets_library/fe_line_chart_v1/views/tv_broadcast_tooltip.html"))};
d.loadAnnotationsTemplate_=function(a){a.push(["x",{role:"annotation",type:"string"},{role:"annotationText",type:"string",p:{html:!0}},{type:"string",role:"tooltip",p:{html:!0}}]);return this.interpolate_(this.templateCache_.get("/widgets_library/fe_line_chart_v1/views/annotation_markup.html"))};
d.fillLineWithEmptyData_=function(a){for(var b=1;b<=this.numberOfLines;b++)a.push("y"+b),a.push({type:"string",role:"annotation"}),a.push({type:"string",role:"annotationText",p:{html:!0}}),a.push({type:"boolean",role:"certainty"})};
d.getLineData_=function(a){var b=this,c=[],e=this.widget.fields.bullets.items,f,g,k=null,l=null;this.topIndexes.length||(this.topIndexes=this.getTopIndexes_(e));"tv_broadcast"===this.template_?k=this.loadTvBrodcastToolTipTemplate_(c,this.scope_):l=this.loadAnnotationsTemplate_(c);a.forEach(function(n,p){if("tv_broadcast"===b.template_){var q=[n.formattedXAxis,parseFloat(n.y1),"point { size: 0; }",""];n.formattedXAxis===b.widget.fields.tooltipXValue.value&&(q[2]=null,q[3]=k(b.scope_))}else for(q=[n.formattedXAxis,
n.note?"Note":null,n.note?b.getNoteTipTemplate_(n.note.text):null,b.getTipTemplate_(p)],f=1,g=[];(n["y"+f]||0===n["y"+f])&&f<=b.MAXIMUM_BULLET_ITEMS;)q.push(parseFloat(n["y"+f])),q.push(n["annotation"+f]||null),q.push(b.getAnnotationTemplate_(p,f,l)),q.push(n["certaintyY"+f]),e[b.topIndexes[f-1]]&&g.push(b.colors_.getHexValues(e[b.topIndexes[f-1]].value.color)),f++;c.push(q)});this.numberOfLines=f-1;this.fillLineWithEmptyData_(c[0]);"tv_broadcast"!==this.template_||k||(this.tooltipXAxisIndexValue=
null);a={lineWidth:this.calcLineWidth_(),colors:g};this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,a);return c};
d.setBulletTextAndColor_=function(){var a=this,b=this.terms.length-1,c=this.scope_.widget.fields.bullets.items;c.forEach(function(e,f){angular.isUndefined(e.value.text)&&(e.value.text=a.terms[f]);angular.isUndefined(e.value.color)&&(e.value.color="PALETTE_COLOR_"+(f+1));a.bulletsColors_[f]=a.colors_.getHexValues(e.value.color)});angular.isUndefined(c[b])||angular.isUndefined(c[b].value.text)||(this.shouldSetBulletTextAndColor_=!1)};
d.onCSVChange_=function(){this.setBulletsTextAndColor_&&this.setBulletTextAndColor_();if(!this.widget.isQuerying&&this.scope_.isScrolledInto&&this.widget.fields.XAxisLines){this.widget.fields.XAxisLines&&(this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,{hAxis:{maxTextLines:this.widget.fields.XAxisLines.value}}));var a=this.widget.fields.csv.getValues();this.chartData=this.getLineData_(a);this.scope_.$applyAsync()}};
d.calcLineWidth_=function(){return["fe_featured","fe_explore_example","fe_featured_homepage"].includes(this.scope_.template)?3:2<this.numberOfLines?3:4};d.selectHandler_=function(a){if(a){var b=this.widget.fields.csv.getValues();this.widget.fields.tooltipXValue.value=b[a].formattedXAxis;this.scope_.$apply()}};
d.onTooltipXChange_=function(){var a=this;this.tooltipXAxisIndexValue=null;var b=this.widget.fields.tooltipXValue.value;this.widget.fields.csv.getValues().forEach(function(c,e){c.formattedXAxis===b&&(a.tooltipXAxisIndexValue=e)});this.onCSVChangeBind_()};d.hasBulletTextAtIndex_=function(a,b){return a[b]&&a[b].value?!!a[b].value.text:!1};
d.getTipTemplate_=function(a){var b=this.widget.fields,c=b.bullets.items;a=b.csv.items[a].value;b='<div class="fe-line-chart-tooltip">';a.formattedXAxis&&(b+='<div class="fe-line-chart-tooltip-title">'+C(a.formattedX)+"</div>");for(var e=1,f,g=!1;!isNaN(parseFloat(a["y"+e]))&&8>e;)-1!==a["y"+e]&&(!1===a["certaintyY"+e]&&(g=!0),f=a.formattedXAxis?"":C(a["formattedTime"+e]),e<=c.length&&this.hasBulletTextAtIndex_(c,this.topIndexes[e-1])&&(f+=f?", ":"",f+=C(c[this.topIndexes[e-1]].value.text)),f='\n          <div class="fe-line-chart-tooltip-item-wrapper">\n            <span class="fe-line-chart-tooltip-label fe-atoms-generic-elipssis">\n              '+
f+'\n            </span>\n            <span class="fe-line-chart-tooltip-value"\n                  style="color:'+this.bulletsColors_[this.topIndexes[e-1]]+'">\n              '+C(a["formattedY"+e])+"\n            </span>\n          </div>",b+=f),e++;g&&(b+='<div class="partial-data">Values for this point have partial (incomplete) data available</div>');return b+"</div>"};d.getNoteTipTemplate_=function(a){return'<div class="fe-line-chart-tooltip note-tooltip" ng-non-bindable>'+C(a)+"</div>"};
d.getAnnotationTemplate_=function(a,b,c){a=this.widget.fields.csv.items[a].value;this.scope_.annotationIcon=a["annotationIcon"+b];this.scope_.annotationTitle=C(a["annotationTitle"+b]);this.scope_.annotationSubtitle=C(a["annotationSubtitle{seriesLineIndex}"]);return c(this.scope_)};d.shouldShowAvgsBars_=function(){return this.widget.fields.showAverages.value&&530<=this.window_.innerWidth};
d.getOptionsForDesktop_=function(){var a=this.shouldShowAvgsBars_();return{hAxis:{minTextSpacing:250,textStyle:{fontSize:12}},vAxis:{textPosition:"out"},height:220,chartArea:{left:a?32:30,right:a?8:6,width:"100%",height:this.widget.fields.showLegend.value?180:186},lineWidth:this.calcLineWidth_()}};d.getOptionsForNonDesktop_=function(){return{hAxis:{minTextSpacing:60,textStyle:{fontSize:10}},height:180,chartArea:{left:30,width:"100%",height:150},lineWidth:this.calcLineWidth_()}};
d.getOptionsForBarChartDesktop_=function(){return{width:112,height:220,chartArea:{left:0,bottom:20,width:112,height:this.widget.fields.showLegend.value?180:186},vAxis:{textStyle:{fontSize:12}},hAxis:{textStyle:{fontSize:12}}}};d.getOptionsForBarChartNonDesktop_=function(){return{width:60,height:180,chartArea:{left:0,bottom:20,width:"100%",height:150},vAxis:{textStyle:{fontSize:10}},hAxis:{textStyle:{fontSize:10}}}};
d.updateOptions_=function(){if(Object.keys(this.widget.fields).length){this.showBarChart=this.shouldShowAvgsBars_();var a=this.globalsService_.isDesktopMode?this.getOptionsForDesktop_():this.getOptionsForNonDesktop_();this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,a);this.showBarChart&&(this.barChartOptions=this.globalsService_.immutableMerge(this.barChartOptions,this.globalsService_.isDesktopMode?this.getOptionsForBarChartDesktop_():this.getOptionsForBarChartNonDesktop_()))}};
d.setBarChartDataTable_=function(a){var b=this;if(this.widget.fields.bullets){var c={type:"string",role:"tooltip",p:{html:!0}},e=[],f=[];e.push("x1");f.push("Average");var g=this.widget.fields.bullets.getValues();if(g.length){var k=[];a.forEach(function(l,n){k.push({name:g[b.topIndexes[n]].text,value:a[b.topIndexes[n]]})});k.forEach(function(l,n){e.push(l.name);e.push(c);f.push(l.value);f.push(b.createBarChartToolTip_(l,n))});return[e,f]}}};
d.createBarChartToolTip_=function(a,b){return'\n        <div class="fe-bar-chart-tooltip">\n          <div class="fe-bar-chart-tooltip-title">\n            Average\n          </div>\n          <div class="fe-bar-chart-tooltip-item-wrapper">\n            <span class="fe-bar-chart-tooltip-label">'+a.name+'</span>\n            <span class="fe-bar-chart-tooltip-value"\n                  style="color:'+this.colors_.getHexValues()[b]+'">\n              '+a.value+"\n            </span>\n          </div>\n        </div>"};
d.fillFeOrFeEmbedChartOptions_=function(){var a=this;this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.FE_OR_EMBED_OPTIONS);var b=angular.element(this.window_),c=function(){return a.updateOptions_(a.scope_)},e=this.utilsService_.throttle(c,50,{trailing:!0});this.scope_.$watchGroup(["ctrl.widget.fields.showAverages.value","ctrl.widget.fields.showLegend.value"],c,!0);c();b.bind("resize",e);this.scope_.$on("$destroy",function(){b.unbind("resize",
e)})};
d.fillChartOptions_=function(){switch(this.scope_.template){case "fe":case "fe_embed":this.fillFeOrFeEmbedChartOptions_();break;case "fe_featured":case "fe_explore_example":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.FEATURED_OR_EXAMPLE_OPTIONS);break;case "fe_featured_homepage":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.FEATURED_HOMEPAGE_OPTIONS);break;case "now_card":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,
this.defaultLineChartDataService_.NOW_CARD_OPTIONS);break;case "tv_broadcast":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.TV_BROADCAST_OPTIONS)}};
da.Object.defineProperties(Lp,{TYPE:{configurable:!0,enumerable:!0,get:function(){return"fe_line_chart"}},DISPLAY_TYPE:{configurable:!0,enumerable:!0,get:function(){return"Multi Line"}},VERSION:{configurable:!0,enumerable:!0,get:function(){return 1}},TEMPLATES:{configurable:!0,enumerable:!0,get:function(){return"fe fe_featured fe_featured_homepage fe_embed now_card tv_broadcast".split(" ")}},FULL_WIDTH_BY_TEMPLATE:{configurable:!0,enumerable:!0,get:function(){return{"*":!0,now_card:!1}}},HIDE_IN_EDITOR:{configurable:!0,
enumerable:!0,get:function(){return!1}},GROUP_TYPE:{configurable:!0,enumerable:!0,get:function(){return{FE:["fe","fe_featured","fe_featured_homepage","fe_embed"],NOW_CARD:["now_card"],TV:["tv_broadcast"]}}}});Lp.$inject="$scope $window $templateCache $interpolate utilsService globalsService colorsFactory widgetFactory bidiService defaultLineChartDataService lineChartWidgetApisService $timeout".split(" ");U.FeLineChartV1Ctrl=Lp;var Mp=function(a,b){this.lodash_=b;this.DEFAULT_PALETTE=a.Colors.DEFAULT_PALETTE_12;this.colorsFactory_=a;this.defaultWidgetData=[{name:"topic",type:"string",placeholder:"Title",value:"Interest over time hour after attack",translation:{translate:!0,description:"Title of the widget. http://goo.gl/aH9hb6"}},{name:"subTopic",type:"string",placeholder:"Sub Title",value:"Binders of woman spiked by 300%",templates:["tv_broadcast"]},{name:"tooltipPosition",type:"string",placeholder:"Tooltip Position",options:["top",
"right","bottom","left"],value:"bottom",templates:["tv_broadcast"]},{name:"tooltipAnnotation",type:"string",placeholder:"Tooltip Annotation",value:"97%",templates:["tv_broadcast"]},{name:"tooltipXValue",type:"string",placeholder:"Tooltip X Value",value:"",templates:["tv_broadcast"]},{name:"XAxisLines",type:"number",value:2,options:[{value:1,name:"One line X axis"},{value:2,name:"Two lines X axis"}],templates:["tv_broadcast"]},{name:"bullets",type:"list",subtype:"map",keys:["index","text","color"],
keysConfig:{index:{gridSpan:2,label:!0},text:{placeholder:"Legend text",gridSpan:10},color:{gridSpan:12}},values:[{index:1,text:"Charlie Hebdo",color:"PALETTE_COLOR_1"},{index:2,text:"Paris",color:"PALETTE_COLOR_2"}],translation:{translate:!0,keys:[{name:"text",description:"The text of the tooltip and legend. http://goo.gl/aH9hb6"}]}},{name:"csv",type:"list",subtype:"map",visible:!1,keys:"x formattedXAxis formattedX y1 formattedY1 annotation1 annotationIcon1 annotationTitle1 annotationSubtitle1 y2 formattedY2 annotation2 annotationIcon2 annotationTitle2 annotationSubtitle2 annotationSubtitle2 y3 formattedY3 annotation3 annotationIcon3 annotationTitle3 annotationSubtitle3 y4 formattedY4 annotation4 annotationIcon4 annotationTitle4 annotationSubtitle4 y5 formattedY5 annotation5 annotationIcon5 annotationTitle5 annotationSubtitle5 y6 formattedY6 annotation6 annotationIcon6 annotationTitle6 annotationSubtitle6 y7 formattedY7 annotation7 annotationIcon7 annotationTitle7 annotationSubtitle7 certaintyY1 certaintyY2 certaintyY3 certaintyY4 certaintyY5 certaintyY6 certaintyY7".split(" "),
values:[]},{name:"showLegend",type:"boolean",value:!0,visible:!1},{name:"showAverages",type:"boolean",value:!1,visible:!1}];this.DEFAULT_CHART_OPTIONS={backgroundColor:{fill:"transparent"},pointsVisible:!1,legend:"none",vAxis:{viewWindow:{max:100,min:.01},baseline:.01},hAxis:{gridlines:{color:"transparent"},baselineColor:"white"}};this.DEFAULT_BAR_CHART_OPTIONS={legend:"none",vAxis:{textStyle:{color:"#BDBDBD",fontName:"Roboto, Arial, sans-serif"},gridlines:{color:"white"},baselineColor:"#9E9E9E",
viewWindow:{max:100,min:.01},baseline:.01},hAxis:{textStyle:{color:"#9E9E9E",fontName:"Roboto, Arial, sans-serif"},gridlines:{color:"#E0E0E0"},baselineColor:"#9E9E9E"},tooltip:{isHtml:!0}};this.FE_OR_EMBED_OPTIONS={tooltip:{isHtml:!0,showTitle:!1},vAxis:{gridlines:{color:"#E0E0E0"},baselineColor:"#9E9E9E",textStyle:{fontSize:12,color:"#BDBDBD",fontName:"Roboto, Arial, sans-serif"}},hAxis:{maxAlternation:1,maxTextLines:1,slantedText:!1,textStyle:{color:"#9E9E9E",fontName:"Roboto, Arial, sans-serif"}},
crosshair:{color:"#E0E0E0",orientation:"vertical",trigger:"focus",opacity:.3},focusTarget:"category"};this.FEATURED_OR_EXAMPLE_OPTIONS={enableInteractivity:!1,vAxis:{baselineColor:"transparent",gridlines:{color:"transparent"}},height:168,chartArea:{width:"100%",height:168}};this.FEATURED_HOMEPAGE_OPTIONS={enableInteractivity:!1,vAxis:{baselineColor:"transparent",gridlines:{color:"transparent"},textPosition:"none"},hAxis:{textPosition:"none"},chartArea:{width:"100%"}};this.NOW_CARD_OPTIONS={crosshair:{color:"#E0E0E0",
opacity:.3,orientation:"vertical",trigger:"focus"},focusTarget:"category",hAxis:{minTextSpacing:80,textStyle:{color:"#BDBDBD",fontName:"Roboto, Arial, sans-serif",fontSize:10},maxAlternation:1,maxTextLines:1,slantedText:!1},vAxis:{baselineColor:"#9E9E9E",gridlines:{color:"#E0E0E0",count:3},textPosition:"none"},height:103,width:312,enableInteractivity:!1,annotations:{stemColor:"none",textStyle:{opacity:0}},chartArea:{left:0,right:0,width:"100%"}};this.TV_BROADCAST_OPTIONS={tooltip:{isHtml:!0,showTitle:!1,
trigger:"selection"},enableInteractivity:!0,pointsVisible:!0,pointSize:30,series:{0:{type:"linear",color:"#4285F4",lineWidth:10}},height:760,width:1600,chartArea:{left:90,top:80,width:1353,height:462},vAxis:{gridlines:{color:"transparent"},baselineColor:"transparent",textStyle:{fontSize:35,color:"transparent",fontName:"FuturaBold",bold:!0},viewWindow:{max:101,min:-1}},hAxis:{maxAlternation:1,slantedText:!1,textStyle:{fontSize:24,color:"#434343",fontName:"FuturaBold",bold:!0}}}};
Mp.prototype.fillDefaultData=function(a,b,c){var e=this.lodash_.findIndex(this.defaultWidgetData,{name:"bullets"});this.defaultWidgetData[e].maxLimit=c;this.defaultWidgetData[e].colorPalette=new this.colorsFactory_.Colors(b);this.defaultWidgetData[e].keysConfig.color.options=this.lodash_.map(b,function(f){return{name:f.caption,value:f.name}});"tv_broadcast"===a&&(a=this.lodash_.findIndex(this.defaultWidgetData,{name:"csv"}),this.defaultWidgetData[a].values=Np);return this.defaultWidgetData};
Mp.$inject=["colorsFactory","lodash"];
var Np=[{x:"7:00",formattedXAxis:"7:00 AM",formattedX:"7:00 AM",y1:"0",formattedY1:"0"},{x:"8:00",formattedXAxis:"8:00 AM",formattedX:"8:00 AM",y1:"5",formattedY1:"5"},{x:"9:00",formattedXAxis:"9:00 AM",formattedX:"9:00 AM",y1:"20",formattedY1:"20"},{x:"10:00",formattedXAxis:"10:00 AM",formattedX:"10:00 AM",y1:"100",formattedY1:"100"},{x:"11:00",formattedXAxis:"11:00 AM",formattedX:"11:00 AM",y1:"40",formattedY1:"40"},{x:"12:00",formattedXAxis:"12:00 AM",formattedX:"12:00 AM",y1:"32",formattedY1:"32"},
{x:"13:00",formattedXAxis:"1:00 PM",formattedX:"1:00 PM",y1:"30",formattedY1:"30"},{x:"14:00",formattedXAxis:"2:00 PM",formattedX:"2:00 PM",y1:"30",formattedY1:"30"},{x:"15:00",formattedXAxis:"3:00 PM",formattedX:"3:00 PM",y1:"40",formattedY1:"40"}];var Op=function(a){this.MULTI_RANGE_API={params:{req:{requestOptions:{backend:"IZG"},comparisonItem:[{phrase:"OBAMA",time:"2013-05-18 2015-05-18"},{phrase:"CLINTON",time:"2011-05-18 2013-05-18"}],resolution:"WEEK",locale:"en-US"},tz:"300"},settings:[{path:"req.resolution",title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},{path:"req.requestOptions.backend",title:"Backend",type:"select",
invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem.0.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(b){for(var c=
[],e=0;e<b.length;e++)c.push(b[e].phrase);return c},setValue:function(b,c){for(var e=[],f=0;f<b.length;f++)e.push({geo:c.req.comparisonItem[0].geo,phrase:b[f],time:c.req.comparisonItem[0].time});return e}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:a.TIME_ZONES,invalidMessage:"Timezone is required."}]};this.FE_LINE_API={params:{req:{requestOptions:{backend:"CM"},geo:{country:"US"},time:"2015-06-14T17\\:00\\:00 2015-06-18T11\\:25\\:00",
resolution:"FOUR_HOUR",term:["Benedict Cumberbatch"],locale:"en-US"},tz:"300"},settings:[{path:"req.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.resolution",title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},
{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.term",title:"Terms",type:"list",invalidMessage:"Terms is required.",maxLimit:7},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:a.TIME_ZONES,invalidMessage:"Timezone is required."}]};this.TOP_FE_LINE_API={params:{req:{multilineRequest:{requestOptions:{backend:"CM"},geo:{country:"US"},
time:"2015-06-14T17\\:00\\:00 2015-06-18T11\\:25\\:00",resolution:"FOUR_HOUR",term:["London","Paris"],locale:"en-US"},topLimit:2},tz:"300"},settings:[{path:"req.multilineRequest.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.multilineRequest.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.multilineRequest.resolution",
title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},{path:"req.multilineRequest.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.multilineRequest.term",title:"Terms",type:"list",invalidMessage:"Terms is required.",maxLimit:15,setValue:function(b,c,e){return e.api.ctrl.terms=b}},{path:"req.multilineRequest.locale",
title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:a.TIME_ZONES,invalidMessage:"Timezone is required."},{path:"req.topLimit",setValue:function(b,c,e){e=e.api.ctrl.MAXIMUM_BULLET_ITEMS;return c.req.multilineRequest.term.length>e?e:c.req.multilineRequest.term.length}}]}};Op.$inject=["helpersFactory"];var Pp=angular.module("publishAppFeLineChartV1",["publishAppFramework","publishAppWidgetsFeLineChartV1Views"]);Pp.controller("FeLineChartV1Ctrl",U.FeLineChartV1Ctrl);Pp.service("defaultLineChartDataService",Mp);Pp.service("lineChartWidgetApisService",Op);angular.module("publishAppWidgetsFeListV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_list_v1/views/content.html",'<div class="fe-list-content"\n     ng-style="{\'background-color\': forcedColor || ctrl.colors.getHexValue(fields.color.value)}"\n     ng-class="{\'show-expended\': ctrl.showMoreExpanded, \'mobile-elastic\': fields.bullets.getValues().length < 5}">\n  <div class="fe-list-item"\n       ng-repeat="value in fields.bullets.getValues() | limitTo:ctrl.getItemsLimit() track by $index">\n    <span ng-if="ctrl.widget.fields.bulletSelector.value == \'Bullets\'"\n          class="fe-list-question-bullet">\n      &bull;\n    </span>\n    <span ng-if="ctrl.widget.fields.bulletSelector.value == \'Numbers\'"\n          class="fe-list-question-index">\n      {{$index + 1}}\n    </span>\n    <span class="fe-list-item-text">\n      <a href="https://www.google.com/search?q={{ctrl.encode(value)}}" target="_blank">\n        {{value}}\n      </a>\n    </span>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_list_v1/views/fe.html",'<div class="fe-atoms-generic-container fe-list-container"\n     ng-init="fields = ctrl.widget.fields"\n     dir="{{getHeaderDirection()}}">\n  <div class="fe-atoms-generic-header-container"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">\n      {{fields.topic.value}}\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_list_v1/views/content.html\'"></ng-include>\n  <div class="show-more"  ng-click="ctrl.showHideFields()"\n       ng-click="ctrl.showHideFields()" ng-if="fields.bullets.getValues().length > 5"\n       ng-style="{\'background-color\': forcedColor || ctrl.colors.getHexValue(fields.color.value)}">\n    <div class="show-hide-position"\n         ng-class="{\'transparent-arrow-up\': ctrl.showMoreExpanded, \'transparent-arrow-down\': !ctrl.showMoreExpanded}">\n    </div>\n\n    <div class="show-hide-label" ng-show="!ctrl.showMoreExpanded">\n      Show more\n    </div>\n\n    <div class="show-hide-label" ng-show="ctrl.showMoreExpanded">\n      Show less\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_list_v1/views/fe_embed.html",'<div class="fe-list-container embed-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="embed-header">\n    <div class="embed-title">\n      {{fields.topic.value}}. {{widgetIsCurated || isEditor ? \'\' : storyCountry + \'. \' + storyTimeRange}}\n    </div>\n    <div class="embed-subtitle">{{storyTitleArray.length ? storyTitleArrayWrapped : storyTitle}}</div>\n    <div class="embed-logo">\n      <a href="/trends/story/{{storyId}}" target="_blank">\n        <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n      </a>\n    </div>\n  </div>\n  <ng-include class="embed-content" src="\'/widgets_library/fe_list_v1/views/content.html\'"></ng-include>\n  <div class="embed-footer">\n    <div class="embed-title-wrapper">\n      <div class="embed-title">{{storyTitleArray.length ? storyTitleArrayWrapped : storyTitle}}</div>\n    </div>\n    <div class="embed-logo">\n      <a href="/trends/{{ storyId ? \'story/\' + storyId : \'\'}}" target="_blank">\n        <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n      </a>\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_list_v1/views/fe_featured.html",'<div class="fe-featured-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields"\n     dir="{{getHeaderDirection()}}">\n  <div class="fe-featured-generic-container-content fe-featured-list-content">\n    <div class="fe-featured-list-item"\n        ng-repeat="value in fields.bullets.getValues() | limitTo: 5">\n      <div class="list-item-number">{{$index+1}}</div>\n      <div class="list-item-text">{{value}}</div>\n    </div>\n  </div>\n  <div class="fe-featured-atoms-generic-container-title">{{fields.topic.value | typography}}</div>\n</div>\n'))}]);var Qp=function(a,b,c,e,f){this.lodash_=b;this.colors=new e.Colors(a.palette);this.globals=f;this.template=a.template;b=[{name:"topic",type:"string",placeholder:"Title",value:"Top Questions",translation:{translate:!0,description:"Title of the widget. http://goo.gl/CnRV2e"}},{name:"bullets",type:"list",placeholder:"New list item",values:["Jennifer Lawrence","Renee Zellweger","Betty White","Ellen Page","Kim Novak"],translation:{translate:!0,description:"The list content of text of the widget. http://goo.gl/CnRV2e"}},
{name:"bulletSelector",type:"string",value:"Numbers",options:["Bullets","Numbers"]},{name:"color",type:"string",value:"PALETTE_COLOR_1",colorPalette:this.colors,options:b.map(e.Colors.DEFAULT_PALETTE,function(g){return{name:g.caption,value:g.name}})}];this.widget=new c(b,a.isEditor);this.csvField=this.widget.fields.bullets;this.showMoreExpanded=!1;this.storyNumberOfItems=a.storyNumberOfItems};t("$jscomp.scope.FeListV1Ctrl",Qp,void 0);Qp.$inject=["$scope","lodash","widgetFactory","colorsFactory","globalsService"];
Qp.TYPE="fe_list";Qp.VERSION=1;Qp.DISPLAY_TYPE="Top Questions";Qp.FULL_WIDTH=!0;Qp.HIDE_IN_EDITOR=!1;Qp.GROUP_TYPE="FE";Qp.TEMPLATES=["fe","fe_featured","fe_embed"];Qp.prototype.getItemsLimit=function(){return this.globals.isMobileMode&&"fe_embed"===this.template?this.storyNumberOfItems?this.storyNumberOfItems:5:this.globals.isMobileMode&&"fe"===this.template?this.showMoreExpanded?Infinity:5:Infinity};Qp.prototype.exploreItemByValue=function(a){a&&Xc(window.location,"/trends/explore#q="+encodeURIComponent(a))};
Qp.prototype.showHideFields=function(){this.showMoreExpanded=!this.showMoreExpanded};Qp.prototype.encode=function(a){return encodeURIComponent(String(a))};U.FeListV1=Qp;var Rp=angular.module("publishAppFeListV1",["publishAppFramework","publishAppWidgetsFeListV1Views"]);Rp.controller("FeListV1Ctrl",U.FeListV1);angular.module("publishAppWidgetsFeListV2Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_list_v2/views/content.html",'<div class="fe-list-content-v2"\n     ng-class="{\'no-pagination\': !ctrl.isPaginationMode()}">\n  <div class="fe-list-item-v2"\n       ng-repeat="value in ctrl.getListItems() | limitTo: ctrl.getLimitNumber() track by $index">\n    <div class="fe-list-question-index-v2 number-surrounding-circle"\n         ng-style="{\'background-color\': forcedColor || ctrl.colors.getHexValue(fields.color.value)}">\n      {{$index + ctrl.getFirstItemIndex() + 1}}\n    </div>\n    <span class="fe-list-item-text-v2">\n      <a ng-if="value.text" href="https://www.google.com/search?q={{ctrl.encode(value.text)}}"\n         target="_blank">{{value.text}}</a>\n    </span>\n    <span class="fe-list-item-search-volume-v2"\n          ng-if="fields.searchVolumesFlag && fields.searchVolumesFlag.value === ctrl.showSearchVolumeText">\n      {{value.searchVolume}}\n    </span>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_list_v2/views/fe.html",'<div class="fe-atoms-generic-container fe-list-container"\n     ng-class="{\'no-pagination-container\': !ctrl.isPaginationMode()}"\n     ng-init="fields = ctrl.widget.fields"\n     dir="{{getHeaderDirection()}}">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">\n      {{fields.topic.value}}\n      <span class="list-v2-title-date"\n            ng-if="fields.searchVolumesFlag && fields.searchVolumesFlag.value === ctrl.showSearchVolumeText">\n        {{fields.date.value}}\n      </span>\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_list_v2/views/content.html\'"></ng-include>\n  <div class="pagination-container"\n       ng-class="{\'no-display\': !ctrl.isPaginationMode()}">\n    <pagination ng-if="ctrl.isPaginationMode()"\n                max-items-per-page="ctrl.pageSize"\n                total-number-of-items="ctrl.numberOfItems"\n                pagination-text="\'items\'"\n                current-page="ctrl.currentPage">\n    </pagination>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_list_v2/views/fe_embed.html",'<div class="fe-list-container embed-container"\n     ng-class="{\'no-pagination-container\': !ctrl.isPaginationMode()}"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="embed-header">\n    <div class="embed-title">\n      {{fields.topic.value}}. {{widgetIsCurated || isEditor ? \'\' : storyCountry + \'. \' + storyTimeRange}}\n      <span class="list-v2-embed-title-date"\n            ng-if="fields.searchVolumesFlag && fields.searchVolumesFlag.value === ctrl.showSearchVolumeText">\n        <span>(</span>\n        {{fields.date.value}}\n        <span>)</span>\n      </span>\n    </div>\n    <div class="embed-subtitle">\n      {{storyTitleArray.length ? storyTitleArrayWrapped : storyTitle}}\n    </div>\n    <div class="embed-logo">\n      <a href="/trends/story/{{storyId}}" target="_blank">\n        <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n      </a>\n    </div>\n  </div>\n  <ng-include class="embed-content"\n              ng-class="{\'no-pagination-container\': !ctrl.isPaginationMode()}"\n              src="\'/widgets_library/fe_list_v2/views/content.html\'"></ng-include>\n  <div class="pagination-container"\n       ng-class="{\'no-display\': !ctrl.isPaginationMode()}">\n    <pagination ng-if="ctrl.isPaginationMode()"\n                max-items-per-page="ctrl.pageSize"\n                total-number-of-items="ctrl.numberOfItems"\n                update-list-items-display="ctrl.getListItems()"\n                pagination-text="\'items\'"\n                current-page="ctrl.currentPage">\n    </pagination>\n  </div>\n  <div class="embed-footer">\n    <div class="embed-title-wrapper">\n      <div class="embed-title">\n        {{storyTitleArray.length ? storyTitleArrayWrapped : storyTitle}}\n      </div>\n    </div>\n    <div class="embed-logo">\n      <a href="/trends/{{ storyId ? \'story/\' + storyId : \'\'}}" target="_blank">\n        <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n      </a>\n    </div>\n  </div>\n</div>\n'))}]);var Sp=function(a,b,c,e){var f=this;this.colors=new c.Colors(a.palette);this.globals=e;this.template=a.template;c=[{name:"topic",type:"string",placeholder:"Title",value:Sp.DISPLAY_TYPE,translation:{translate:!0,description:"Title of the widget. http://goo.gl/CnRV2e"}},{name:"date",type:"string",placeholder:"Date",value:e.getCurrentDateString(),translation:{translate:!0,description:"The date for which the widget is relevant"}},{name:"searchVolumesFlag",type:"string",value:"Hide search volume",options:["Hide search volume",
Sp.SHOW_SEARCH_VOLUME_TEXT]},{name:"bullets",type:"list",subtype:"map",keys:["text","searchVolume"],placeholder:"New list item",keysConfig:{text:{gridSpan:12},searchVolume:{gridSpan:12}},values:[{text:"Jennifer Lawrence",searchVolume:"5k+ searches"},{text:"Renee Zellweger",searchVolume:"5k+ searches"},{text:"Betty White",searchVolume:"5k+ searches"},{text:"Ellen Page",searchVolume:"5k+ searches"},{text:"Kim Novak",searchVolume:"5k+ searches"}],translation:{translate:!0,description:"The list content of text of the widget. http://goo.gl/CnRV2e"}},
{name:"color",type:"string",value:"PALETTE_COLOR_1",colorPalette:this.colors,options:c.Colors.DEFAULT_PALETTE.map(function(g){return{name:g.caption,value:g.name}})}];this.widget=new b(c,a.isEditor);this.csvField=this.widget.fields.bullets;this.showSearchVolumeText=Sp.SHOW_SEARCH_VOLUME_TEXT;a.$watch("ctrl.widget.fields.bullets.items",function(){return f.updateBulletsAndListDisplay_()},!0);this.currentPage=this.numberOfItems=0;this.pageSize=4};d=Sp.prototype;
d.exploreItemByValue=function(a){a&&Xc(window.location,"/trends/explore#q="+encodeURIComponent(a))};d.encode=function(a){return encodeURIComponent(String(a))};d.updateBulletsAndListDisplay_=function(){var a=this.widget.fields.bullets.getValues();this.numberOfItems=a.length;this.currentPage=0;a.length||this.widget.fields.bullets.items.forEach(function(b){b.value={text:b.value.value,searchVolume:""}})};d.getFirstItemIndex=function(){return 4*this.currentPage};d.getListItems=function(){return this.widget.fields.bullets.getValues().slice(this.getFirstItemIndex())};
d.isPaginationMode=function(){return 5<this.numberOfItems};d.getLimitNumber=function(){return this.isPaginationMode()?4:Infinity};
da.Object.defineProperties(Sp,{FULL_WIDTH:{configurable:!0,enumerable:!0,get:function(){return!0}},DISPLAY_TYPE:{configurable:!0,enumerable:!0,get:function(){return"Top Questions"}},GROUP_TYPE:{configurable:!0,enumerable:!0,get:function(){return{FE:["fe"],ELE:["fe"]}}},HIDE_IN_EDITOR:{configurable:!0,enumerable:!0,get:function(){return!1}},TEMPLATES:{configurable:!0,enumerable:!0,get:function(){return["fe","fe_embed"]}},TYPE:{configurable:!0,enumerable:!0,get:function(){return"fe_list"}},VERSION:{configurable:!0,
enumerable:!0,get:function(){return 2}},SHOW_SEARCH_VOLUME_TEXT:{configurable:!0,enumerable:!0,get:function(){return"Show search volume"}}});Sp.$inject=["$scope","widgetFactory","colorsFactory","globalsService"];U.FeListV2=Sp;var Tp=angular.module("publishAppFeListV2",["publishAppFramework","publishAppWidgetsFeListV2Views"]);Tp.controller("FeListV2Ctrl",U.FeListV2);angular.module("publishAppWidgetsFeMultiHeatMapV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){function c(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}b()&&(a.put("/widgets_library/fe_multi_heat_map_v1/views/content.html",'<div class="fe-multi-heat-map-content-flex has-error"\n     ng-class="{\'embed\': ctrl.isEmbedView()}"\n     ng-if="ctrl.showError">\n  <div class="widget-error">\n    <i class="material-icons-extended size-80-40 gray-alert">warning</i>\n    <p class="widget-error-title">Hmm, your search doesn\'t have enough data to show here.\n    </p>\n    <p class="widget-error-desc">Please make sure everything is spelled correctly, or try a more general term.\n    </p>\n  </div>\n</div>\n\n<div class="fe-multi-heat-map-content-flex"\n     ng-class="{\'embed\': ctrl.isEmbedView(),\n                \'no-min-percentage-checkbox\': !ctrl.isEmbedView() && !ctrl.shouldDisplayLowSearchVolumeFilter}"\n     ng-init="fields = ctrl.widget.fields"\n     ng-if="!ctrl.showError">\n  <div class="multi-heat-map-and-legends-container"\n       ng-class="{\'side-by-side\': sideBySide, \'remove-cursor-pointer\': ctrl.isFranceMetro,\n                  \'embed\': ctrl.isEmbedView(),\n                  \'no-min-percentage-checkbox\': !ctrl.isEmbedView() && !ctrl.shouldDisplayLowSearchVolumeFilter}"\n       ng-if="showMultiHeatMap">\n    <div class="multi-heat-map-and-legends-and-explanation-container">\n      <div class="multi-heat-map-and-legends-without-explanation-container">\n        <div ng-class="ctrl.legendsContainerClass"\n             ng-attr-id="{{ctrl.getElementId(ctrl.legendsContainerClass)}}"\n             ng-init="ctrl.setMapDimensions(this)"\n             ng-if="ctrl.chartRows.length">\n          <div ng-repeat="bullet in fields.bullets.getValues() | limitTo: ctrl.maxNumTerms"\n               ng-if="bullet.value && bullet.color"\n               class="fe-multi-heat-map-legend-item">\n            <div class="fe-multi-heat-map-legend-item-bullet"\n                 ng-style="{\'background-color\': ctrl.colors.getHexValue(bullet.color)}">\n            </div>\n            <div class="fe-multi-heat-map-legend-item-text" bidi="bullet.value">\n              {{bullet.value}}\n            </div>\n          </div>\n        </div>\n        <div class="multi-heat-map-explanation" ng-if="!ctrl.isEmbedView() && ctrl.chartRows.length && !ctrl.isDesktopMode">\n          Color intensity represents percentage of searches&nbsp\n          <a class="learn-more-text"\n             ng-href="https://support.google.com/trends/answer/4355212"\n             target="_blank"\n             track="[\'Multi heat map\',\'click\', \'Lean more link\']">\n            LEARN MORE\n          </a>\n        </div>\n        <map-adapter class="fe-multi-heat-map-adapter {{ctrl.globals.getIECssClass()}}"\n                     ng-class="{\'embed\': ctrl.isEmbedView(),\n                                \'disable-user-interactions\': ctrl.shouldShowMultiHeatMapMessage}"\n                     ng-if="fields.bullets.items && ctrl.chartRows.length"\n                     data="fields.geoData.items"\n                     legend="ctrl.legend"\n                     custom-tooltips="ctrl.tooltips"\n                     enable-tooltip="true"\n                     center-tooltip="true"\n                     is-color-chart="true"\n                     is-svg-map="ctrl.isFranceMetro"\n                     is-multi-heat-map="true"\n                     show-legend="!fields.showLegend.value"\n                     options="ctrl.geoOptions"\n                     columns="ctrl.chartColumnsConfig"\n                     chart-rows="ctrl.chartRows"\n                     on-region-click="triggerEvent(\'regionClick\', {\'region\': region})"\n                     should-display-low-filter-checkbox="ctrl.shouldDisplayLowSearchVolumeFilter">\n        </map-adapter>\n      </div>\n      <div class="multi-heat-map-explanation" ng-if="!ctrl.isEmbedView() && ctrl.chartRows.length && ctrl.isDesktopMode">\n        Color intensity represents percentage of searches&nbsp\n        <a class="learn-more-text"\n           ng-href="https://support.google.com/trends/answer/4355212"\n           target="_blank"\n           track="[\'Multi heat map\',\'click\', \'Lean more link\']">\n          LEARN MORE\n        </a>\n      </div>\n    </div>\n    <low-search-volume-filter\n      ng-if="ctrl.shouldDisplayLowSearchVolumeFilter && ctrl.isDesktopMode && ctrl.chartRows.length"\n      is-filter-volume-checked="ctrl.applyLowSearchVolumeFilter"\n      filter-toggle-handler="ctrl.updateLowSearchVolume.bind(ctrl)"\n      should-display-low-filter-checkbox="ctrl.shouldDisplayLowSearchVolumeFilter">\n    </low-search-volume-filter>\n  </div>\n  <div class="multi-heat-map-related-queries-wrapper"\n       ng-class="{\'side-by-side\': sideBySide}"\n       ng-if="showGeoList">\n    <widget type="fe_related_queries"\n            version="1"\n            template="{{ctrl.template}}"\n            fields="ctrl.geoListFields"\n            on-event="ctrl.onItemClickEvent(event)"\n            is-editor="isEditor"\n            is-multi-heat-map="true"\n            story-id="storyId"\n            story-title="storyTitle"\n            story-title-array="storyTitleArray"\n            story-country="storyCountry"\n            story-time-range="storyTimeRange"\n            story-number-of-items="storyNumberOfItems"\n            palette="palatte"\n            forced-color="{{::forcedColor}}"\n            is-scrolled-into="true"\n            pagination-resolution-text="ctrl.geoResolution"\n            is-france-metro="ctrl.isFranceMetro"\n            is-side-by-side="true"\n            ng-if="ctrl.geoListFields && ctrl.shouldRefreshGeoList && ctrl.chartRows.length">\n    </widget>\n  </div>\n  <low-search-volume-filter\n    class="multi-heat-map-low-volume-filter"\n    ng-if="ctrl.shouldDisplayLowSearchVolumeFilter && !ctrl.isDesktopMode && ctrl.chartRows.length"\n    is-filter-volume-checked="ctrl.applyLowSearchVolumeFilter"\n    filter-toggle-handler="ctrl.updateLowSearchVolume.bind(ctrl)"\n    should-display-low-filter-checkbox="ctrl.shouldDisplayLowSearchVolumeFilter">\n  </low-search-volume-filter>\n</div>\n'),
a.put("/widgets_library/fe_multi_heat_map_v1/views/embed_map_resolution_selector.html",'<div class="embed-map-resolution-selector-wrapper">\n  <md-menu class="embed-map-resolution-selector"\n           ng-if="widget.apis.fe_multiheatmap.isActive"\n           md-offset="{{ctrl.isDesktopMode ? \'-132 -67\' : \'-132 8\'}}">\n    <md-button class="bottom-button md-icon-button"\n               ng-click="$mdOpenMenu($event)">\n      <md-icon class="ic_googleplus_reshare"></md-icon>\n    </md-button>\n    <md-menu-content width="3">\n      \x3c!-- TODO(b/71348529): refactor this into ng-repeat style. --\x3e\n      <md-menu-item ng-if="fields.geo.value === \'world\'">\n        <md-button ng-click="ctrl.setSelectedResolution(\'region\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              Region\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n      <md-menu-item ng-if="fields.geo.value.length === 2">\n        <md-button ng-click="ctrl.setSelectedResolution(\'subregion\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              Subregion\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n      <md-menu-item ng-if="ctrl.displayMetroResolution(fields.geo.value)">\n        <md-button ng-click="ctrl.setSelectedResolution(\'metro\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              Metro\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n      <md-menu-item>\n        <md-button ng-click="ctrl.setSelectedResolution(\'city\')">\n          <div layout="row">\n            <p class="md-menu-item-text">\n              City\n            </p>\n          </div>\n        </md-button>\n      </md-menu-item>\n    </md-menu-content>\n  </md-menu>\n</div>\n'),
a.put("/widgets_library/fe_multi_heat_map_v1/views/fe.html",'<div class="fe-multi-heat-map-generated fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields"\n     side-by-side\n     ng-show="!ctrl.widget.isQuerying">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">\n      {{fields.topic.value}}\n      <help-dialog ng-show="$root.globals.isDesktopMode && helpDialog"\n                   data="helpDialog"></help-dialog>\n    </div>\n    <div class="resolution-selector-container"\n         ng-class="{\'flatten-padding\': ctrl.window_.enableFlatShareMenuExperiment}"\n         ng-include="\'/widgets_library/fe_multi_heat_map_v1/views/resolution_selector.html\'">\n    </div>\n    <div class="fe-atoms-generic-toggle-button"\n         ng-if="ctrl.chartRows.length"\n         ng-include="\'/widgets_library/fe_multi_heat_map_v1/views/toggle_button.html\'">\n    </div>\n    <widget-actions ng-if="ctrl.template === \'fe\'"></widget-actions>\n  </div>\n  <div class="new-feature-message-container" ng-if="ctrl.shouldShowMultiHeatMapMessage">\n    <div class="new-feature-message-arrow"></div>\n    <div class="new-feature-message-title">\n      New compared breakdown\n    </div>\n    <div class="new-feature-message-content">\n      The color intensity of each region represents the percentage of searches of the leading search term in that region.\n    </div>\n    <div class="got-it-button" ng-click="ctrl.dismissIntroMessage()">\n      got it\n    </div>\n  </div>\n  <ng-include src="\'/widgets_library/fe_multi_heat_map_v1/views/content.html\'">\n  </ng-include>\n  \x3c!-- This div is used for rendering the GVIZ tooltips\' donut charts in advance, getting their\n       images and finally creating the tooltips html strings using the generated gviz donut images.\n  --\x3e\n  <div class="hiddenDiv" ng-attr-id="{{ctrl.getElementId(\'hiddenDiv\')}}"></div>\n</div>\n'),
a.put("/widgets_library/fe_multi_heat_map_v1/views/fe_embed.html",'<div class="multi-heat-map-embed embed-container">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n\n  <div ng-if="ctrl.widget.isQuerying"\n       class="fe-geo-chart-loader">\n    <md-progress-circular class="md-default-theme"\n                          md-diameter="30px"\n                          md-mode="indeterminate"\n                          aria-valuemin="0" aria-valuemax="100">\n    </md-progress-circular>\n  </div>\n\n  <ng-include src="\'/widgets_library/fe_multi_heat_map_v1/views/content.html\'"\n              ng-if="!ctrl.widget.isQuerying">\n  </ng-include>\n  \x3c!-- This div is used for rendering the GVIZ tooltips\' donut charts in advance, getting their\n       images and finally creating the tooltips html strings using the generated gviz donut images.\n  --\x3e\n  <div class="hiddenDiv" ng-attr-id="{{ctrl.getElementId(\'hiddenDiv\')}}"></div>\n\n  <div class="embed-icons-wrapper">\n    <ng-include src="\'/widgets_library/fe_multi_heat_map_v1/views/toggle_button.html\'">\n    </ng-include>\n  </div>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_multi_heat_map_v1/views/fe_featured.html",'<div class="fe-featured-atoms-generic-container">\n  <map-adapter class="fe-multi-heat-map-adapter {{ctrl.globals.getIECssClass()}}"\n               ng-class="{\'embed\': ctrl.isEmbedView()}"\n               ng-if="showMultiHeatMap"\n               ng-show="ctrl.chartRows.length"\n               enable-tooltip="false"\n               is-color-chart="true"\n               show-legend="!ctrl.widget.fields.showLegend.value"\n               options="ctrl.geoOptions"\n               columns="ctrl.chartColumnsConfig"\n               chart-rows="ctrl.chartRows"\n               on-region-click="triggerEvent(\'regionClick\', {\'region\': region})">\n  </map-adapter>\n  \x3c!-- This div is used for rendering the GVIZ tooltips\' donut charts in advance, getting their\n       images and finally creating the tooltips html strings using the generated gviz donut images.\n  --\x3e\n  <div class="hiddenDiv" ng-attr-id="{{ctrl.getElementId(\'hiddenDiv\')}}"></div>\n  <div class="fe-featured-atoms-generic-container-title">\n    {{::ctrl.widget.fields.topic.value | typography}}\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_multi_heat_map_v1/views/fe_featured_homepage.html",'<div class="fe-featured-homepage-container"\n     height-adjustable-editorial-widget\n     graph-options="ctrl.geoOptions"\n     is-main-editorial-item="isMainEditorialItem">\n  <line-chart-legends class="fe-multi-heat-map-featured-legends"\n                      colors="ctrl.bulletColors"\n                      items="ctrl.items"\n                      max-lines="ctrl.items.length > 5 ? 3 : 2">\n  </line-chart-legends>\n  <map-adapter class="fe-multi-heat-map-adapter {{ctrl.globals.getIECssClass()}}"\n               enable-tooltip="false"\n               is-color-chart="true"\n               show-legend="!ctrl.widget.fields.showLegend.value"\n               options="ctrl.geoOptions"\n               columns="ctrl.chartColumnsConfig"\n               chart-rows="ctrl.chartRows"\n               watch-options="true">\n  </map-adapter>\n  <div class="fe-featured-homepage-title">\n    {{::ctrl.widget.fields.topic.value | typography}}\n  </div>\n</div>\n<div class="hiddenDiv" ng-attr-id="{{ctrl.getElementId(\'hiddenDiv\')}}"></div>\n'),
a.put("/widgets_library/fe_multi_heat_map_v1/views/resolution_selector.html",'<md-select class="resolution-selector"\n           aria-label="Select resolution"\n           ng-model="ctrl.geoResolution"\n           placeholder="Resolution"\n           md-container-class="geo-resolution"\n           ng-change="ctrl.updateResolution()"\n           ng-if="ctrl.widget.apis.fe_multiheatmap.isActive">\n  \x3c!-- TODO(b/71348529): refactor this into ng-repeat style. --\x3e\n  <md-option value="region"\n             ng-if="fields.geo.value === \'world\'">\n    Region\n  </md-option>\n  <md-option value="subregion"\n             class="resolution-selector-option"\n             ng-if="fields.geo.value.length === 2">\n    Subregion\n  </md-option>\n  <md-option value="metro"\n             class="resolution-selector-option"\n             ng-if="ctrl.displayMetroResolution(fields.geo.value)"\n             ng-disabled="!ctrl.isMetroResolutionClickable(fields.geo.value)"\n             ng-class="{\'disabled\':!ctrl.isMetroResolutionClickable(fields.geo.value)}">\n    Metro\n    <div ng-if="!ctrl.isMetroResolutionClickable(fields.geo.value)"\n         class="metro-available-msg">\n      Data available from 2/21/17\n    </div>\n  </md-option>\n  <md-option value="city" class="resolution-selector-option">\n    City\n  </md-option>\n</md-select>\n'),
a.put("/widgets_library/fe_multi_heat_map_v1/views/toggle_button.html",['<div class="fe-atoms-generic-hide-in-mobile toggle-button-wrapper">\n  <button class="toggle-button list-image"','          title="'+c("List view")+'"','          track="[\'Widget\', type, \'List\']"\n          ng-click="ctrl.showGeoListView = !ctrl.showGeoListView"\n          ng-if="!sideBySide && !ctrl.showGeoListView">\n  </button>\n  <button class="toggle-button globe-image"','          title="'+c("Map view")+'"','          track="[\'Widget\', type, \'Map\']"\n          ng-click="ctrl.showGeoListView = !ctrl.showGeoListView"\n          ng-if="!sideBySide && ctrl.showGeoListView">\n  </button>\n</div>\n'].join("\n")))}]);var Up=function(a,b,c,e,f,g,k,l,n,p,q,u){this.scope_=b;this.http_=f;this.q_=g;this.timeout_=k;this.window_=c;this.colorsFactory_=l;this.defaultMultiHeatMapDataV1_=p;this.colors=new l.Colors(b.palette);this.globalsService_=n;this.utilsService_=u;this.template=b.template;this.defaultWidgetData_=p.defaultWidgetData;this.chartColumnsConfig=p.REGIONS_COLUMNS_CONFIG;this.maxNumTerms=p.MAX_NUM_TERMS;this.apis=q.apis;this.widget=new e(this.defaultWidgetData_,b.isEditor);this.csvField=this.widget.fields.geoData;
this.chartRows=null;this.geoOptions=p.geoOptions;this.shouldRefreshGeoList=this.showError=this.showGeoListView=this.isFranceMetro=!1;this.geoListFields=null;this.tooltips=[];this.geoResolution="";this.resolutionValues_=[];this.applyLowSearchVolumeFilter=!1;this.GVIZ_WORLD_COUNTRIES_DISPLAY_=p.GVIZ_WORLD_COUNTRIES_DISPLAY;this.items=[];this.bulletColors=[];this.controllerTimestamp=(new Date).getTime();this.isDesktopMode=this.globalsService_.isDesktopMode;this.legendsContainerClass="fe-multi-heat-map-legends";
this.shouldShowMultiHeatMapMessage=b.showMultiHeatMapMessage;this.init_()};d=Up.prototype;
d.initAngularWatchers_=function(){var a=this,b=this.utilsService_.debounce(function(){return a.onGeoDataChange_()},50);this.scope_.$watch("ctrl.widget.fields.resolution.value",function(){return a.updateIsFranceMetro_()});this.scope_.$watchGroup(["ctrl.widget.fields.geo.value","ctrl.widget.fields.resolution.value"],function(){return a.onGeoOptionsChange_()});this.scope_.$watchGroup(["ctrl.widget.fields.geoData.items","ctrl.isDesktopMode"],b);this.scope_.$watch("ctrl.widget.fields.bullets.items",b,
this.scope_.isEditor);this.scope_.$watchGroup(["sideBySide","ctrl.showGeoListView","ctrl.isDesktopMode"],function(){return a.updateViews_()});this.scope_.$watch("ctrl.globalsService_.isDesktopMode",function(c){a.isDesktopMode=c;a.geoOptions.enableRegionInteractivity=a.isDesktopMode});this.scope_.$on("sideBySideMsg",function(c,e){return c.currentScope.sideBySide=e.isSideBySide})};
d.initApi_=function(){var a=this,b=this.middleware_.bind(this);this.widget.registerAPI("fe_multiheatmap",Up.API_URL+this.globalsService_.testStoryID,this.utilsService_.cloneDeep(this.apis.v1Api.params),this.utilsService_.cloneDeep(this.apis.v1Api.settings)).middleware(b).toggle(function(c){return a.widget.fields.geoData.config.translation.translate=!c}).initialDispatch(this.scope_.isEditor)};
d.initEventListeners_=function(){var a=this;if("fe_featured_homepage"!==this.scope_.template){var b=this.utilsService_.throttle(function(){return a.adjustMapDimensions_()},50);angular.element(this.window_).on("resize",b);this.scope_.$on("$destroy",function(){return angular.element(a.window_).off("resize",b)})}};d.init_=function(){this.initAngularWatchers_();this.initApi_();this.initEventListeners_()};
d.updateViews_=function(){this.scope_.showMultiHeatMap=this.scope_.sideBySide||!this.showGeoListView||!this.isDesktopMode;this.scope_.showGeoList=this.scope_.sideBySide||this.showGeoListView||!this.isDesktopMode};d.middleware_=function(a){return{geoData:a["default"].geoMapData.filter(function(b){return b.hasData.some(function(c){return c})})}};d.onGeoOptionsChange_=function(){this.geoOptions.region=this.widget.fields.geo.value;this.geoOptions.resolution=this.widget.fields.resolution.value};
d.updateIsFranceMetro_=function(){this.isFranceMetro=this.widget.fields.geo.value===Up.FRANCE_ABBREVIATION&&"metros"===this.widget.fields.resolution.value.toLowerCase()};d.displayMetroResolution=function(a){return"FR"===a?-1===this.window_.location.href.search("&geo=FR-"):/^(US(-[a-z]{2})?)$/i.test(a)};
d.isMetroResolutionClickable=function(a){if(!/^(FR(-[a-z]{2})?)$/i.test(a))return!0;a=(this.scope_.timeRange||this.scope_.$parent.$parent.timeRange).split(" ")[0];a=new Date(a.split("T")[0]);return Up.METRO_START_TRACKING_DATE<=a};d.updateResolution=function(){this.resolutionValues_=Up.RESOLUTION_VALUES[this.geoResolution];this.dispatchAPIRequest()};d.updateLowSearchVolume=function(a){this.applyLowSearchVolumeFilter=a;this.updateResolution()};
d.shouldDisplayMinPercentageCheckbox_=function(){var a=this.scope_.storyId,b=this.scope_.isEditor;return("region"===this.geoResolution||"city"===this.geoResolution)&&!a&&!b};d.getResolutionByFieldValue_=function(a,b){if("markers"===b)return"city";if(a===this.GVIZ_WORLD_COUNTRIES_DISPLAY_)return"region";var c="";Object.entries(Up.RESOLUTION_VALUES).some(function(e){if(e[1][1]===a)return c=e[0],!0});return c};
d.dispatchAPIRequest=function(){var a=this,b=this.widget.apis.fe_multiheatmap,c=this.resolutionValues_[0];b.params.req.includeLowSearchVolumeGeos=this.applyLowSearchVolumeFilter;this.widget.fields.resolution.setValue("world"===this.geoOptions.region?this.GVIZ_WORLD_COUNTRIES_DISPLAY_:this.resolutionValues_[1]);this.widget.fields.displayMode.setValue(this.resolutionValues_[2]);b.params.req.resolution=c;this.chartRows=this.geoListFields=null;b.isActive=!0;b.dispatch().then(function(){a.widget.storyId||
a.scope_.isEditor||(a.widget.fields.topic.value="Compared breakdown by "+a.geoResolution)})};d.onItemClickEvent=function(a){return!this.isFranceMetro&&this.scope_.onEvent({event:a})};d.hasSomeGeoData_=function(a){return a.some(function(b){return b.hasData&&b.hasData.some(function(c){return c})})};
d.onGeoDataChange_=function(){var a=this;if(!this.widget.isQuerying&&this.scope_.isScrolledInto&&Object.keys(this.widget.fields).length){this.legend=this.widget.fields.bullets.getValues().map(function(l){return{value:l}});var b=this.widget.fields.geoData.getValues();if(b.length&&this.hasSomeGeoData_(b)){this.geoResolution=this.getResolutionByFieldValue_(this.widget.fields.resolution.value,this.widget.fields.displayMode.value);this.shouldDisplayLowSearchVolumeFilter=this.shouldDisplayMinPercentageCheckbox_();
this.chartRows=[];this.chartColumnsConfig=b[0]&&b[0].coordinates?this.defaultMultiHeatMapDataV1_.MARKERS_COLUMNS_CONFIG:this.defaultMultiHeatMapDataV1_.REGIONS_COLUMNS_CONFIG;var c=b[0].value.length;this.items=c=this.getFilteredBullets_(this.widget.fields.bullets.getValues(),c);var e={colors:[],values:[]},f=c.map(function(l){return l.value}).filter(Boolean);this.bulletColors=this.widget.fields.bullets.items.filter(function(l){return""!==l.value.value}).map(function(l){return a.colors.getHexValue(l.value.color)});
this.tooltips=[];var g=document.getElementById("hiddenDiv#"+this.controllerTimestamp),k={pieHole:.65,legend:{position:"none"},pieSliceText:"none",backgroundColor:"transparent",chartArea:{height:"80%",width:"80%"},height:60,width:60,colors:this.bulletColors};b.forEach(function(l,n){var p=l.coordinates?[l.coordinates.lat,l.coordinates.lng]:[l.geoCode||l.geoName];a.globalsService_.applyGViz(function(q){var u=[["Term","Value"]].concat(a.utilsService_.zip(f,l.value)),x=q.arrayToDataTable(u);a.donutChart_=
new q.PieChart(g);google.visualization.events.addListener(a.donutChart_,"ready",function(){return a.setChartData_(u,p,b,l,n,e)});"fe_featured_homepage"!==a.scope_.template&&a.adjustMapDimensions_();a.donutChart_.draw(x,k)})},this)}else this.showError=!0}};d.getFilteredBullets_=function(a,b){return a.filter(function(c){return angular.isUndefined(c.value.value)?""!==c.value:""!==c.value.value}).slice(0,b)};
d.setChartData_=function(a,b,c,e,f,g){a=e.value.every(function(n){return 0===n});var k=c[0].value.length,l=this.getFilteredBullets_(this.widget.fields.bullets.getValues(),k);e=this.isDesktopMode?this.createCustomTooltipData_(e,l,this.donutChart_):this.createCustomMobileTooltipData_(e,l,this.donutChart_);a?b.push(f,""):b.push(f,e);this.tooltips.push(e);this.chartRows.push(b);f===c.length-1&&(c.forEach(function(n,p){var q=l[n.maxValueIndex].color;q=Up.HEX_COLOR_FORMAT_REGEX.test(q)?this.colors.getColorRange(q):
this.colors.getColorRange(this.colors.getHexValue(q));var u=n.value[n.maxValueIndex];n=n.hasData[n.maxValueIndex]?this.colors.getRgbRatio(q.startColorObj,q.endColorObj,u/100):this.colorsFactory_.Colors.GEO_MAP_DEFAULT_COLOR;g.colors.push(n);g.values.push(p)},this),this.geoOptions.colorAxis=g,this.onGeoOptionsChange_(),this.resetGeoListFields_(),this.scope_.$applyAsync())};
d.adjustMapDimensions_=function(){this.legendContainerId=this.getLegendContainerId();var a=document.getElementById(this.legendContainerId);a?this.setMapDimensions(a,this.legendContainerId):this.geoOptions.height=168};d.getLegendContainerId=function(){return this.getElementId("fe-multi-heat-map-legends")};d.getElementId=function(a){return a+"#"+this.controllerTimestamp};d.getMapHeight_=function(a,b,c,e){b=336-e;return a?(b-=16,c?b-48:b):b-56};
d.setMapDimensions=function(a,b){var c=this;this.legendContainerId=b||this.getLegendContainerId();angular.element(a).ready(function(){var e=document.getElementById(c.legendContainerId);e&&(e=e.getBoundingClientRect().height+32,c.geoOptions.height=c.getMapHeight_(c.isEmbedView(),!c.isDesktopMode,c.shouldDisplayLowSearchVolumeFilter,e))})};d.isEmbedView=function(){return"fe_embed"===this.scope_.template};
d.getPercentagesValuesForGeo_=function(a){return a.value.map(function(b,c){return{value:a.hasData[c]?b:0,formattedValue:a.hasData[c]?a.formattedValue[c]:"0%"}})};
d.resetGeoListFields_=function(){var a=this,b=this.widget.fields.geoData.getValues(),c=this.getFilteredBullets_(this.widget.fields.bullets.items,b[0].value.length),e=c.map(function(k){return k.value.color}),f=c.map(function(k){return k.value.value}),g=b.map(function(k,l){var n=a.getPercentagesValuesForGeo_(k);return{text:k.geoName,geoCode:k.geoCode,volumes:n,colors:e,topics:f,tooltip:a.tooltips[l],link:!1}});this.showError=this.shouldRefreshGeoList=!1;this.timeout_(function(){a.geoListFields=[{name:"topic",
value:""},{name:"bullets",values:g}];a.shouldRefreshGeoList=!0},100)};
d.createCustomTooltipData_=function(a,b,c){var e=this,f=this.getPercentagesValuesForGeo_(a),g="Percentages calculated out of searches for all "+(a.value.length+(" terms in "+a.geoName)),k='\n      <div class="multi-heatmap-tooltip">\n        <div class="multi-heatmap-tooltip-title">\n          '+C(a.geoName)+'\n        </div>\n        <div class="multi-heatmap-tooltip-content">\n          <div class="tooltip-percentage-section">';b.forEach(function(l,n){l.value&&(k+='\n            <div class="tooltip-percentage-container">\n              <div class="tooltip-percentage-caption" ng-non-bindable>\n                '+
l.value+'\n              </div>\n              <div class="tooltip-percentage"\n                  style="color: '+e.colors.getHexValue(l.color)+'">\n                '+f[n].formattedValue+"\n              </div>\n            </div>")},this);return k+='\n          </div>\n            <div class="tooltip-pie-container">\n              <img class="tooltip-pie-img" src="'+c.getImageURI()+'">\n            </div>\n          </div>\n          <div class="multi-heatmap-tooltip-explanation">\n            '+
g+"\n          </div>\n        </div>\n      </div>"};
d.createCustomMobileTooltipData_=function(a,b,c){var e=this,f=this.getPercentagesValuesForGeo_(a),g='\n      <div class="multi-heatmap-tooltip mobile">\n        <div class="multi-heatmap-tooltip-title mobile">\n          '+C(a.geoName)+'\n        </div>\n        <div class="multi-heatmap-tooltip-content">\n          <div class="tooltip-percentage-section">';b.forEach(function(k,l){k.value&&(g+='\n            <div class="tooltip-percentage mobile"\n                style="color: '+e.colors.getHexValue(k.color)+
'">\n              '+f[l].formattedValue+"\n            </div>")},this);return g+='\n          </div>\n            <div class="tooltip-pie-container">\n              <img class="tooltip-pie-img" src="'+c.getImageURI()+'">\n            </div>\n          </div>\n        </div>\n      </div>'};d.dismissIntroMessage=function(){this.shouldShowMultiHeatMapMessage=!1;this.http_({method:"POST",url:"/trends/api/updatepref",params:{pref:"EXPLORE_COMPARISON_MAP_MESSAGE",option:"DONT_SHOW",token:this.window_.xsrfToken}})};
da.Object.defineProperties(Up,{TYPE:{configurable:!0,enumerable:!0,get:function(){return"fe_multi_heat_map"}},VERSION:{configurable:!0,enumerable:!0,get:function(){return 1}},DISPLAY_TYPE:{configurable:!0,enumerable:!0,get:function(){return"Multi Heat Map"}},FULL_WIDTH:{configurable:!0,enumerable:!0,get:function(){return!0}},HIDE_IN_EDITOR:{configurable:!0,enumerable:!0,get:function(){return!!window.location.host.match(/tpt-public/)}},GROUP_TYPE:{configurable:!0,enumerable:!0,get:function(){return"FE"}},
TEMPLATES:{configurable:!0,enumerable:!0,get:function(){return["fe","fe_featured","fe_featured_homepage","fe_embed"]}},RESOLUTION_VALUES:{configurable:!0,enumerable:!0,get:function(){return{region:["COUNTRY","countries","regions"],subregion:["REGION","provinces","regions"],metro:["DMA","metros","regions"],city:["CITY","provinces","markers"]}}},METRO_START_TRACKING_DATE:{configurable:!0,enumerable:!0,get:function(){return new Date("2017-02-21")}},FRANCE_ABBREVIATION:{configurable:!0,enumerable:!0,
get:function(){return"FR"}},HEX_COLOR_FORMAT_REGEX:{configurable:!0,enumerable:!0,get:function(){return/^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\b$/i}},API_URL:{configurable:!0,enumerable:!0,get:function(){return"/trends/api/widgetdata/comparedgeo/"}}});Up.$inject="$rootScope $scope $window widgetFactory $http $q $timeout colorsFactory globalsService defaultMultiHeatMapDataV1 multiHeatMapV1WidgetApis utilsService".split(" ");U.FeMultiHeatMapV1=Up;var Vp=function(a,b){var c=this;this.MAX_NUM_TERMS=5;this.defaultPalette=a.Colors.DEFAULT_PALETTE;this.colors=new a.Colors(this.defaultPalette);this.GVIZ_WORLD_COUNTRIES_DISPLAY="none";this.defaultWidgetData=[{name:"topic",type:"string",placeholder:"Title",value:"United States Politicians",translation:{translate:!0,description:"Title of the widget."}},{name:"displayMode",type:"string",placeholder:"Display mode",value:"regions",options:["regions","markers"]},{name:"geo",type:"string",placeholder:"Region",
value:"US"},{name:"resolution",type:"string",placeholder:"Resolution",value:"provinces",options:["none","countries","provinces","metros"]},{name:"geoData",type:"list",subtype:"map",visible:!1,keys:["geoName","maxValueIndex","value","formattedValue"],csvKeys:["geoName","maxValueIndex"].concat(b.flatten(Array.from({length:this.MAX_NUM_TERMS}).reduce(function(e,f,g){return e.concat(["value"+(g+1),"formattedValue"+(g+1)])},[]))),csvGetter:function(e){return c.csvGetter(e)},csvSetter:function(e){return c.csvSetter(e)},
values:[],translation:{translate:!0,keys:[{name:"geoName",description:"The tooltip text that holds the geo name."},{name:"value",description:"The tooltip text that holds the value."}]}},{name:"bullets",type:"list",subtype:"map",keys:["value","color"],maxLimit:this.MAX_NUM_TERMS,colorPalette:this.colors,keysConfig:{value:{gridSpan:12},color:{gridSpan:12,options:Object.entries(this.defaultPalette).filter(function(e){return"Grey"!==e[1].caption}).map(function(e){return{name:e[1].caption,value:e[1].name}})}},
values:[{value:"Barack Obama",color:this.defaultPalette[0].name},{value:"Hillary Clinton",color:this.defaultPalette[1].name},{value:"George W. Bush",color:this.defaultPalette[2].name},{value:"",color:this.defaultPalette[3].name},{value:"",color:this.defaultPalette[4].name}]},{name:"showLegend",type:"boolean",value:!0,visible:!1}];this.geoOptions={backgroundColor:{fill:"transparent"},datalessRegionColor:a.Colors.GEO_MAP_DEFAULT_COLOR,legend:"none",sizeAxis:{maxSize:6,minSize:6},tooltip:{isHtml:!0,
showTitle:!1,trigger:"focus"},enableRegionInteractivity:!1};this.REGIONS_COLUMNS_CONFIG=[{type:"string"},{type:"number"},{type:"string",role:"tooltip",p:{html:!0}}];this.MARKERS_COLUMNS_CONFIG=[{type:"number"},{type:"number"},{type:"number"},{type:"string",role:"tooltip",p:{html:!0}}]};
Vp.prototype.csvGetter=function(a){var b=this;return a.map(function(c){for(var e={formattedValue:[],geoName:c.geoName,maxValueIndex:parseInt(c.maxValueIndex),value:[],hasData:[]},f=0;f<b.MAX_NUM_TERMS;f++){var g=c["value"+(f+1)];g&&(e.value[f]=parseInt(g),e.formattedValue[f]=c["formattedValue"+(f+1)],e.hasData.push(!0))}return e})};
Vp.prototype.csvSetter=function(a){a.values=a.values.map(function(b){var c={geoName:b.geoName,maxValueIndex:b.maxValueIndex};b.value.forEach(function(e,f){c["value"+(f+1)]=e;c["formattedValue"+(f+1)]=b.formattedValue[f]});return c});return a};Vp.$inject=["colorsFactory","utilsService"];var Wp,Xp,Yp=function(){this.restrict="A"};Yp.prototype.link=function(a,b){a.widgetElement=b;var c=this.resizeHandler_.bind(this,a);Wp.bind("resize",c);this.resizeHandler_(a);a.$on("$destroy",function(){return Wp.unbind("resize",c)})};Yp.prototype.resizeHandler_=function(a){var b=a.widgetElement[0].getBoundingClientRect().width>=Xp.tabletWidth;a.$emit("sideBySideMsg",{isSideBySide:b})};var Zp=function(a,b){Wp=angular.element(a);Xp=b;return new Yp};Zp.$inject=["$window","globalsService"];var $p={params:{req:{requestOptions:{backend:"CM"},geo:{country:"US"},resolution:"REGION",comparisonItem:[{phrase:"obama",time:"now 7-d"},{phrase:"clinton",time:"now 7-d"},{phrase:"bush",time:"now 7-d"}],locale:"en",dataMode:"PERCENTAGES"}},settings:[{path:"req.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or empty string for worldwide."},{path:"req.resolution",title:"Resolution",type:"select",
options:["DMA","CITY","COUNTRY","REGION"],invalidMessage:"Resolution is required."},{path:"req.requestOptions.backend",title:"Backend",type:"select",options:["IZG","CM","FRESH"],invalidMessage:"Backend is required."},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(a){return a.map(function(b){return b.phrase})},setValue:function(a,b){return a.map(function(c){return{phrase:c,
time:b.req.comparisonItem[0].time}})}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."}]};var aq=angular.module("publishAppFeMultiHeatMapV1",["publishAppFramework","publishAppWidgetsFeMultiHeatMapV1Views",hp.name]);aq.controller("FeMultiHeatMapV1Ctrl",U.FeMultiHeatMapV1);aq.service("defaultMultiHeatMapDataV1",Vp);aq.service("multiHeatMapV1WidgetApis",function(){this.apis={v1Api:$p}});aq.directive("sideBySide",Zp);angular.module("publishAppWidgetsFeTopNewsV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_top_news_v1/views/country_list.html",'<md-select class="fe-top-news-olympics-country-selector"\n           ng-if="ctrl.athletesAPI.isActive"\n           ng-model="ctrl.selectedCountry"\n           ng-change="ctrl.onSelectedCountryChange()">\n  <md-option value="{{ ::country.id }}" ng-repeat="country in ctrl.countriesList">\n    {{ ::country.name }}\n  </md-option>\n</md-select>\n'),
a.put("/widgets_library/fe_top_news_v1/views/fe.html",'<div class="fe-top-news fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-top-news-header fe-atoms-generic-header-container fe-atoms-generic-separator"\n       ng-if="ctrl.globalsService.isDesktopMode"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">Most relevant articles</div>\n    <a class="more-articles-link fe-atoms-generic-link fe-atoms-generic-hide-in-mobile"\n       ng-href="{{fields.more_articles_link.value}}" target="_blank"\n       track="[\'Widget\', type, \'More news\']"\n       ng-if="fields.more_articles_link.value">\n      More news articles\n    </a>\n  </div>\n  <div class="fe-atoms-generic-content-container">\n    <carousel tracking-name="Top News">\n      <div class="article-container"\n           ng-init="itemTitle = ctrl.htmlToPlainText(item.value.title);\n                    itemTitleDecoded = ctrl.decodeArticleTitle(itemTitle);"\n           ng-repeat="item in fields.bullets.items track by $index"\n           ng-if="item.value.title">\n        <a class="article article-item"\n             href="{{item.value.link}}" target="_blank">\n          <div class="article-content">\n            <div class="article-title"\n                 title="{{itemTitle}}"\n                 bidi="isEditor ?\n                    ctrl.decodeArticleTitle(ctrl.htmlToPlainText(item.value.title)) :\n                    itemTitleDecoded">\n            </div>\n            <div class="article-source-time fe-atoms-generic-hide-in-mobile">\n              <div class="article-source" bidi="item.value.source">\n                {{item.value.source}}\n              </div><div class="article-time">, {{item.value.time}}</div>\n            </div>\n            <div class="article-source-time fe-atoms-generic-hide-in-desktop">\n              <div bidi="item.value.source">{{item.value.source}}</div>\n              <div>{{item.value.time}}</div>\n            </div>\n          </div>\n\n          <div class="article-media">\n            <div class="image-placeholder-wrapper " ng-if="!item.value.image">\n              <div class="image-placeholder"></div>\n            </div>\n\n            <div bidi="item.value.source"\n                 class="article-image-source" ng-if="item.value.image">\n              {{item.value.source}}\n            </div>\n\n            <img class="article-image"\n                 alt="{{itemTitleDecoded}}"\n                 title="{{itemTitleDecoded}}"\n                 width="96"\n                 height="96"\n                 ng-src="{{item.value.image}}"\n                 ng-if="item.value.image"/>\n          </div>\n        </a>\n      </div><div class="article-container">\n        <a class="more-articles article"\n           ng-href="{{fields.more_articles_link.value}}" target="_blank"\n           track="[\'Widget\', type, \'More news\']"\n           ng-if="!ctrl.globalsService.isDesktopMode && fields.more_articles_link.value">\n          <div class="arrow-forward flip-rtl"></div>\n          <div class="more-articles-link">More news articles</div>\n        </a>\n      </div>\n    </carousel>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_top_news_v1/views/fe_olympics.html",'<div class="fe-top-news-olympics fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-top-news-olympics-header fe-atoms-generic-header-container\n              fe-atoms-generic-separator">\n    <div class="fe-atoms-generic-title fe-top-news-olympics-title">{{fields.topic.value}}</div>\n    <ng-include ng-if="ctrl.globalsService.isDesktopMode"\n                src="\'/widgets_library/fe_top_news_v1/views/country_list.html\'">\n    </ng-include>\n  </div>\n  <div class="fe-atoms-generic-content-container">\n    <carousel tracking-name="fields.topic.value">\n      <div class="article-container"\n           ng-repeat="item in fields.bullets.items track by $index"\n           ng-if="item.value.title">\n        <a class="article article-item" ng-href="{{ctrl.createItemLink(item)}}"\n           track="[\'Widget\', type + \' \' + template, item.value.mid + \' \' + ctrl.selectedCountry]">\n          <div class="article-content">\n            <div class="article-image"\n                 ng-style="item.value.image &&\n                     {\'background-image\': \'url(\\\'{{item.value.image}}\\\')\'}">\n            </div>\n            <div class="article-text">\n              <div class="article-title">{{item.value.title}}</div>\n              <div class="article-subtitle">{{item.value.source}}</div>\n              <div class="article-country">\n                <img class="article-country-image" src="{{item.value.countryImage}}"></img>\n                <div class="article-country-name">{{item.value.countryName}}</div>\n              </div>\n            </div>\n          </div>\n        </a>\n      </div>\n    </carousel>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_top_news_v1/views/fe_olympics_sports.html",'<div class="fe-top-news-olympics fe-top-news-olympics-sports fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-top-news-olympics-header fe-atoms-generic-header-container fe-atoms-generic-separator">\n    <div class="fe-atoms-generic-title fe-top-news-olympics-title">{{fields.topic.value}}</div>\n  </div>\n  <div class="fe-atoms-generic-content-container">\n    <carousel tracking-name="fields.topic.value">\n      <div class="article-container"\n           ng-repeat="item in fields.bullets.items track by $index"\n           ng-if="item.value.title">\n        <a class="article article-item"\n           ng-href="{{ctrl.createItemLink(item)}}"\n           track="[\'Widget\', type + \' \' + template, item.value.mid]">\n          <div class="article-content">\n            <div class="article-image"\n                 ng-style="item.value.image &&\n                     {\'background-image\': \'url(\\\'{{item.value.image}}\\\')\'}">\n            </div>\n            <div class="article-text">\n              <div class="article-title">{{item.value.title}}</div>\n            </div>\n          </div>\n        </a>\n      </div>\n    </carousel>\n  </div>\n</div>\n'))}]);var cq=function(a,b,c,e,f,g){this.lodash_=b;this.globalsService=e;this.widget=new c([{name:"topic",type:"string",placeholder:"Widget name",value:"News widget",translation:{translate:!0,description:"Title of the widget. https://goo.gl/F4lYA5"}},{name:"more_articles_link",type:"string",placeholder:"More articles link",value:"http://www.google.com/trends/hottrends",templates:["fe"]},{name:"bullets",type:"list",subtype:"map",keys:"title source time image countryImage countryName mid link".split(" "),
notification:"",translation:{translate:!0,keys:[{name:"title",description:"Title of the entity (name of athlete or sport). https://goo.gl/F4lYA5"},{name:"source",description:"Sub title of the entity. https://goo.gl/F4lYA5"},{name:"countryName",description:"Country name. https://goo.gl/F4lYA5"}]},keysConfig:{title:{gridSpan:12},source:{gridSpan:12},time:{gridSpan:12},image:{gridSpan:12},link:{gridSpan:12},countryImage:{gridSpan:12},countryName:{gridSpan:12}},values:bq}],a.isEditor);"fe_olympics"==
a.template?(this.athletesAPI=this.widget.registerAPI("fe_top_news_athletes","/trends/api/olympics/trendingathletes",{geo:""},[{path:"geo",title:"Geo",type:"text",invalidMessage:"Geo is required."}]).middleware(b.bindKey(this,"middlewareAthletes_")).toggle(b.bindKey(this,"toggleAPI_")),this.countriesList=g.getSortedList()):"fe_olympics_sports"==a.template&&this.widget.registerAPI("fe_top_news_sports","/trends/api/olympics/trendingsports").middleware(b.bindKey(this,"middlewareSports_")).toggle(b.bindKey(this,
"toggleAPI_"));this.trackingService=f;this.csvField=this.widget.fields.bullets;this.storyId=a.storyId;this.storyTitle=a.storyTitle;this.selectedCountry="";b=b.bind(this.onBulletsChange_,this);a.$watch("ctrl.widget.fields.bullets.items",b,!0);this.topNewsData=null};t("$jscomp.scope.FeTopNewsV1Ctrl",cq,void 0);cq.$inject="$scope lodash widgetFactory globalsService trackingService feTopNewsCountries".split(" ");cq.TYPE="fe_top_news";cq.VERSION=1;cq.DISPLAY_TYPE="News widget";cq.FULL_WIDTH=!0;
cq.HIDE_IN_EDITOR=!1;cq.GROUP_TYPE={FE:["fe"],OLY:["fe_olympics","fe_olympics_sports"]};cq.TEMPLATES=["fe","fe_olympics","fe_olympics_sports"];
var bq=[{title:"Nam fringilla turpis <b>non neque</b> egestas, egestas hendrerit mauris venenatis. Nulla porta mi nisl, <i>luctus tincidunt</i> velit egestas at. Etiam aliquet blandit rutrum.",source:"Nam fringilla",time:"1 hour ago",image:"",link:"https://www.google.com"},{title:"Nullam quis pharetra felis. Nunc vel dui malesuada, vehicula ante vel, dapibus mauris. Cras tempus quam eget dolor dapibus accumsan.",source:"Nullam quis",time:"2 hours ago",image:"https://upload.wikimedia.org/wikipedia/commons/c/c6/Google_favicon.png",
link:"https://www.google.com"},{title:"Integer venenatis rhoncus erat, nec feugiat ante. Proin nec risus nunc. Phasellus egestas neque commodo leo aliquet, ac imperdiet lectus laoreet.",source:"Integer venenatis",time:"1 day ago",image:"https://upload.wikimedia.org/wikipedia/commons/c/c6/Google_favicon.png",link:"https://www.google.com"},{title:"Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.",source:"Cum sociis",time:"3 days ago",image:"https://upload.wikimedia.org/wikipedia/commons/c/c6/Google_favicon.png",
link:"https://www.google.com"},{title:"Proin sodales orci nec ex iaculis dapibus. Quisque suscipit imperdiet massa, et elementum justo eleifend id. Nam quis tempus arcu. Mauris volutpat est sed lacinia tincidunt.",source:"Proin sodales",time:"1 week ago",image:"https://upload.wikimedia.org/wikipedia/commons/c/c6/Google_favicon.png",link:"https://www.google.com"}];d=cq.prototype;d.decodeArticleTitle=function(a){return this.lodash_.unescape(a)};
d.htmlToPlainText=function(a){return a.replace(/<[^>]+>/gm,"")};d.middlewareAthletes_=function(a){return{bullets:this.lodash_.map(a["default"].athlete,function(b){return{title:b.name,source:b.sport,countryName:b.country,countryImage:b.countryFlagImageUrl,image:b.image,mid:b.mid}})}};d.middlewareSports_=function(a){return{bullets:this.lodash_.map(a["default"].sport,function(b){return{title:b.name,image:b.image,mid:b.mid}})}};d.onBulletsChange_=function(){this.topNewsData=this.widget.fields.bullets.getValues()};
d.onSelectedCountryChange=function(){var a=this.widget.apis.fe_top_news_athletes;a.params.geo=this.selectedCountry;a.dispatch()};d.toggleAPI_=function(a){this.widget.fields.bullets.config.translation.translate=!a};d.createItemLink=function(a){var b="explore?q="+a.value.mid+"&e="+this.storyTitle+"&s="+this.storyId+"&date=now 7-d";return encodeURI((this.widget.apis.fe_top_news_sports||this.widget.apis.fe_top_news_athletes).isActive?b:a.value.link)};U.FeTopNewsV1=cq;var dq=function(a){this.lodash_=a};t("$jscomp.scope.FeTopNewsCountries",dq,void 0);dq.$inject=["lodash"];var eq=function(a,b){return{id:b.replace(/^MSG_COUNTRY_/,""),name:a}};dq.prototype.getSortedList=function(){var a=eq("Worldwide",""),b=this.lodash_.chain(fq).map(eq).sortBy("name").value();return[a].concat(b)};
var fq={MSG_COUNTRY_AF:"Afghanistan",MSG_COUNTRY_AL:"Albania",MSG_COUNTRY_DZ:"Algeria",MSG_COUNTRY_AS:"American Samoa",MSG_COUNTRY_AD:"Andorra",MSG_COUNTRY_AO:"Angola",MSG_COUNTRY_AG:"Antigua and Barbuda",MSG_COUNTRY_AR:"Argentina",MSG_COUNTRY_AM:"Armenia",MSG_COUNTRY_AW:"Aruba",MSG_COUNTRY_AU:"Australia",MSG_COUNTRY_AT:"Austria",MSG_COUNTRY_AZ:"Azerbaijan",MSG_COUNTRY_BS:"Bahamas",MSG_COUNTRY_BH:"Bahrain",MSG_COUNTRY_BD:"Bangladesh",MSG_COUNTRY_BB:"Barbados",MSG_COUNTRY_BY:"Belarus",MSG_COUNTRY_BE:"Belgium",
MSG_COUNTRY_BZ:"Belize",MSG_COUNTRY_BJ:"Benin",MSG_COUNTRY_BM:"Bermuda",MSG_COUNTRY_BT:"Bhutan",MSG_COUNTRY_BO:"Bolivia",MSG_COUNTRY_BA:"Bosnia and Herzegovina",MSG_COUNTRY_BW:"Botswana",MSG_COUNTRY_BR:"Brazil",MSG_COUNTRY_VG:"British Virgin Islands",MSG_COUNTRY_BN:"Brunei",MSG_COUNTRY_BG:"Bulgaria",MSG_COUNTRY_BF:"Burkina Faso",MSG_COUNTRY_BI:"Burundi",MSG_COUNTRY_KH:"Cambodia",MSG_COUNTRY_CM:"Cameroon",MSG_COUNTRY_CA:"Canada",MSG_COUNTRY_CV:"Cape Verde",MSG_COUNTRY_KY:"Cayman Islands",MSG_COUNTRY_CF:"Central African Republic",
MSG_COUNTRY_TD:"Chad",MSG_COUNTRY_CL:"Chile",MSG_COUNTRY_CN:"China",MSG_COUNTRY_CO:"Colombia",MSG_COUNTRY_KM:"Comoros",MSG_COUNTRY_CG:"Congo",MSG_COUNTRY_CK:"Cook Islands",MSG_COUNTRY_CR:"Costa Rica",MSG_COUNTRY_CI:"C\u00f4te d\u2019Ivoire",MSG_COUNTRY_HR:"Croatia",MSG_COUNTRY_CU:"Cuba",MSG_COUNTRY_CY:"Cyprus",MSG_COUNTRY_CZ:"Czech Republic",MSG_COUNTRY_CD:"Democratic Republic of the Congo",MSG_COUNTRY_DK:"Denmark",MSG_COUNTRY_DJ:"Djibouti",MSG_COUNTRY_DM:"Dominica",MSG_COUNTRY_DO:"Dominican Republic",
MSG_COUNTRY_EC:"Ecuador",MSG_COUNTRY_EG:"Egypt",MSG_COUNTRY_SV:"El Salvador",MSG_COUNTRY_GQ:"Equatorial Guinea",MSG_COUNTRY_ER:"Eritrea",MSG_COUNTRY_EE:"Estonia",MSG_COUNTRY_ET:"Ethiopia",MSG_COUNTRY_FM:"Federated States of Micronesia",MSG_COUNTRY_FJ:"Fiji",MSG_COUNTRY_FI:"Finland",MSG_COUNTRY_FR:"France",MSG_COUNTRY_GA:"Gabon",MSG_COUNTRY_GM:"Gambia",MSG_COUNTRY_GE:"Georgia",MSG_COUNTRY_DE:"Germany",MSG_COUNTRY_GH:"Ghana",MSG_COUNTRY_GR:"Greece",MSG_COUNTRY_GD:"Grenada",MSG_COUNTRY_GU:"Guam",MSG_COUNTRY_GT:"Guatemala",
MSG_COUNTRY_GN:"Guinea",MSG_COUNTRY_GW:"Guinea-Bissau",MSG_COUNTRY_GY:"Guyana",MSG_COUNTRY_HT:"Haiti",MSG_COUNTRY_HN:"Honduras",MSG_COUNTRY_HK:"Hong Kong",MSG_COUNTRY_HU:"Hungary",MSG_COUNTRY_IS:"Iceland",MSG_COUNTRY_IN:"India",MSG_COUNTRY_ID:"Indonesia",MSG_COUNTRY_IR:"Iran",MSG_COUNTRY_IQ:"Iraq",MSG_COUNTRY_IL:"Israel",MSG_COUNTRY_IT:"Italy",MSG_COUNTRY_JM:"Jamaica",MSG_COUNTRY_JP:"Japan",MSG_COUNTRY_JO:"Jordan",MSG_COUNTRY_KZ:"Kazakhstan",MSG_COUNTRY_KE:"Kenya",MSG_COUNTRY_KI:"Kiribati",MSG_COUNTRY_XK:"Kosovo",
MSG_COUNTRY_KG:"Kyrgyzstan",MSG_COUNTRY_LA:"Laos",MSG_COUNTRY_LV:"Latvia",MSG_COUNTRY_LB:"Lebanon",MSG_COUNTRY_LS:"Lesotho",MSG_COUNTRY_LR:"Liberia",MSG_COUNTRY_LY:"Libya",MSG_COUNTRY_LI:"Liechtenstein",MSG_COUNTRY_LT:"Lithuania",MSG_COUNTRY_LU:"Luxembourg",MSG_COUNTRY_MG:"Madagascar",MSG_COUNTRY_MW:"Malawi",MSG_COUNTRY_MY:"Malaysia",MSG_COUNTRY_MV:"Maldives",MSG_COUNTRY_ML:"Mali",MSG_COUNTRY_MT:"Malta",MSG_COUNTRY_MH:"Marshall Islands",MSG_COUNTRY_MR:"Mauritania",MSG_COUNTRY_MU:"Mauritius",MSG_COUNTRY_MX:"Mexico",
MSG_COUNTRY_MD:"Moldova",MSG_COUNTRY_MC:"Monaco",MSG_COUNTRY_MN:"Mongolia",MSG_COUNTRY_ME:"Montenegro",MSG_COUNTRY_MA:"Morocco",MSG_COUNTRY_MZ:"Mozambique",MSG_COUNTRY_MM:"Myanmar",MSG_COUNTRY_NA:"Namibia",MSG_COUNTRY_NR:"Nauru",MSG_COUNTRY_NP:"Nepal",MSG_COUNTRY_NL:"Netherlands",MSG_COUNTRY_NZ:"New Zealand",MSG_COUNTRY_NI:"Nicaragua",MSG_COUNTRY_NE:"Niger",MSG_COUNTRY_NG:"Nigeria",MSG_COUNTRY_KP:"North Korea",MSG_COUNTRY_NO:"Norway",MSG_COUNTRY_OM:"Oman",MSG_COUNTRY_PK:"Pakistan",MSG_COUNTRY_PW:"Palau",
MSG_COUNTRY_PA:"Panama",MSG_COUNTRY_PG:"Papua New Guinea",MSG_COUNTRY_PY:"Paraguay",MSG_COUNTRY_PE:"Peru",MSG_COUNTRY_PH:"Philippines",MSG_COUNTRY_PL:"Poland",MSG_COUNTRY_PT:"Portugal",MSG_COUNTRY_PR:"Puerto Rico",MSG_COUNTRY_QA:"Qatar",MSG_COUNTRY_IE:"Republic of Ireland",MSG_COUNTRY_MK:"Republic of Macedonia",MSG_COUNTRY_RO:"Romania",MSG_COUNTRY_RU:"Russia",MSG_COUNTRY_RW:"Rwanda",MSG_COUNTRY_KN:"Saint Kitts and Nevis",MSG_COUNTRY_LC:"Saint Lucia",MSG_COUNTRY_VC:"Saint Vincent and the Grenadines",
MSG_COUNTRY_WS:"Samoa",MSG_COUNTRY_SM:"San Marino",MSG_COUNTRY_ST:"S\u00e3o Tom\u00e9 and Pr\u00edncipe",MSG_COUNTRY_SA:"Saudi Arabia",MSG_COUNTRY_SN:"Senegal",MSG_COUNTRY_RS:"Serbia",MSG_COUNTRY_SC:"Seychelles",MSG_COUNTRY_SL:"Sierra Leone",MSG_COUNTRY_SG:"Singapore",MSG_COUNTRY_SK:"Slovakia",MSG_COUNTRY_SI:"Slovenia",MSG_COUNTRY_SB:"Solomon Islands",MSG_COUNTRY_SO:"Somalia",MSG_COUNTRY_ZA:"South Africa",MSG_COUNTRY_KR:"South Korea",MSG_COUNTRY_SS:"South Sudan",MSG_COUNTRY_ES:"Spain",MSG_COUNTRY_LK:"Sri Lanka",
MSG_COUNTRY_PS:"State of Palestine",MSG_COUNTRY_SD:"Sudan",MSG_COUNTRY_SR:"Suriname",MSG_COUNTRY_SZ:"Swaziland",MSG_COUNTRY_SE:"Sweden",MSG_COUNTRY_CH:"Switzerland",MSG_COUNTRY_SY:"Syria",MSG_COUNTRY_TW:"Taiwan",MSG_COUNTRY_TJ:"Tajikistan",MSG_COUNTRY_TZ:"Tanzania",MSG_COUNTRY_TH:"Thailand",MSG_COUNTRY_TL:"Timor-Leste",MSG_COUNTRY_TG:"Togo",MSG_COUNTRY_TO:"Tonga",MSG_COUNTRY_TT:"Trinidad and Tobago",MSG_COUNTRY_TN:"Tunisia",MSG_COUNTRY_TR:"Turkey",MSG_COUNTRY_TM:"Turkmenistan",MSG_COUNTRY_TV:"Tuvalu",
MSG_COUNTRY_UG:"Uganda",MSG_COUNTRY_UA:"Ukraine",MSG_COUNTRY_AE:"United Arab Emirates",MSG_COUNTRY_GB:"United Kingdom",MSG_COUNTRY_US:"United States of America",MSG_COUNTRY_VI:"United States Virgin Islands",MSG_COUNTRY_UY:"Uruguay",MSG_COUNTRY_UZ:"Uzbekistan",MSG_COUNTRY_VU:"Vanuatu",MSG_COUNTRY_VE:"Venezuela",MSG_COUNTRY_VN:"Vietnam",MSG_COUNTRY_YE:"Yemen",MSG_COUNTRY_ZM:"Zambia",MSG_COUNTRY_ZW:"Zimbabwe"};var gq=angular.module("publishAppFeTopNewsV1",["publishAppFramework","publishAppWidgetsFeTopNewsV1Views"]);gq.controller("FeTopNewsV1Ctrl",U.FeTopNewsV1);gq.service("feTopNewsCountries",dq);angular.module("publishAppWidgetsFeTrendingSearchesV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_trending_searches_v1/views/fe_embed.html",'<div class="fe-trending_searches-container embed-container" ng-init="init()">\n  <ng-include src="\'/widgets_library/fe_trending_searches_v1/views/fe_embed_header.html\'">\n  </ng-include>\n  <ng-include src="\'/widgets_library/fe_trending_searches_v1/views/fe_embed_body.html\'">\n  </ng-include>\n  <ng-include src="\'/widgets_library/fe_trending_searches_v1/views/fe_embed_footer.html\'">\n  </ng-include>\n</div>\n'),
a.put("/widgets_library/fe_trending_searches_v1/views/fe_embed_body.html",'<div class="body-wrapper">\n  <div class="list-wrapper">\n    <a class="item-wrapper"\n         ng-repeat="item in ctrl.visibleItems"\n         ng-href="{{item.value.trendingSearchUrl}}"\n         target="_blank">\n      <div class="title">{{item.value.title}}</div>\n      <div class="traffic-count">{{::ctrl.getFormattedSearchCount(item.value.formattedTraffic)}}</div>\n    </a>\n  </div>\n  <pagination max-items-per-page="ctrl.maxItemsPerPage"\n              total-number-of-items="ctrl.totalNumberOfItems"\n              current-page="ctrl.currentPage">\n  </pagination>\n</div>\n'),
a.put("/widgets_library/fe_trending_searches_v1/views/fe_embed_footer.html",'<div class="embed-footer">\n  <div class="geo-name">\n    {{ctrl.widget.fields.geo.value}}\n  </div>\n  <div class="embed-logo">\n    <a ng-href="/trends" target="_blank">\n      <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n    </a>\n  </div>\n</div>\n'),a.put("/widgets_library/fe_trending_searches_v1/views/fe_embed_header.html",'<div class="embed-header">\n  <div class="embed-title">{{::ctrl.title}}</div>\n  <div class="geo-name">\n    {{ctrl.widget.fields.geo.value}}\n  </div>\n  <div class="embed-logo">\n    <a ng-href="/trends" target="_blank">\n      <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n    </a>\n  </div>\n</div>\n'))}]);var iq=function(a,b){var c=this;this.title="Recently Trending searches";this.widget=new b(hq,a.isEditor);this.totalNumberOfItems=this.widget.fields.bullets.items.length;this.currentPage=0;this.maxItemsPerPage=4;a.$watch("ctrl.currentPage",function(){return c.updateVisibleItems()})};iq.prototype.updateVisibleItems=function(){this.visibleItems=this.widget.fields.bullets.items.slice(this.currentPage*this.maxItemsPerPage,(this.currentPage+1)*this.maxItemsPerPage);this.totalNumberOfItems=this.widget.fields.bullets.items.length};
iq.prototype.getFormattedSearchCount=function(a){return(new sd("{count} searches")).format({count:a})};
da.Object.defineProperties(iq,{DISPLAY_TYPE:{configurable:!0,enumerable:!0,get:function(){return"Trending Searches"}},GROUP_TYPE:{configurable:!0,enumerable:!0,get:function(){return{FE:["fe_embed"]}}},HIDE_IN_EDITOR:{configurable:!0,enumerable:!0,get:function(){return!0}},FULL_WIDTH:{configurable:!0,enumerable:!0,get:function(){return!1}},TEMPLATES:{configurable:!0,enumerable:!0,get:function(){return["fe_embed"]}},TYPE:{configurable:!0,enumerable:!0,get:function(){return"fe_trending_searches"}},VERSION:{configurable:!0,
enumerable:!0,get:function(){return 1}}});iq.$inject=["$scope","widgetFactory","$timeout"];var hq=[{name:"bullets",type:"list",values:[{title:"Jennifer Lawrence",formattedTraffic:"500K+"},{title:"Renee Zellweger",formattedTraffic:"200K+"},{title:"Betty White",formattedTraffic:"100K+"},{title:"Goofy",formattedTraffic:"50K+"},{title:"Dudo Zar",formattedTraffic:"5K+"}]},{name:"geo",type:"string",placeholder:"Geo",value:"Mongolia",translation:{translate:!0}}];U.FeTrendingSearchesV1Ctrl=iq;var jq=angular.module("publishAppFeTrendingSearchesV1",["publishAppFramework","publishAppWidgetsFeTrendingSearchesV1Views"]);jq.controller("FeTrendingSearchesV1Ctrl",U.FeTrendingSearchesV1Ctrl);angular.module("publishAppWidgetsFeUsStatesV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_us_states_v1/views/content.html",'<div class="fe-us-states-content"\n     ng-class="{\'has-error\': !fields.data.items.length, \'single-term\': ctrl.singleTermMode}"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="widget-error" ng-if="!fields.data.items.length">\n    <i class="material-icons-extended size-80-40 gray-alert">warning</i>\n    <p class="widget-error-title">Hmm, your search doesn\'t have enough data to show here.</p>\n    <p class="widget-error-desc">Please make sure everything is spelled correctly, or try a more general term.</p>\n  </div>\n  <div class="fe-us-states-chart-content">\n    <div class="fe-us-states-chart-wrapper">\n      <widget class="fe-us-states-svg-map-widget"\n              ng-if="ctrl.showHexChart && ctrl.svgMapFields.length"\n              type="svg_map"\n              version="1"\n              template="hex_states"\n              fields="ctrl.svgMapFields"\n              on-event="ctrl.onMapClickEvent(event);"\n              is-editor="isEditor"\n              palette="palatte"\n              forced-color="{{::forcedColor}}"\n              is-scrolled-into="true">\n      </widget>\n      <widget class="fe-us-states-geo-chart-widget"\n              ng-if="!ctrl.showHexChart && !ctrl.singleTermMode && ctrl.geoChartFields.length"\n              type="fe_geo_color_chart"\n              version="2"\n              template="us_states"\n              fields="ctrl.geoColorChartFields"\n              on-event="ctrl.onMapClickEvent(event);"\n              is-editor="isEditor"\n              palette="palatte"\n              forced-color="{{::forcedColor}}"\n              is-scrolled-into="true">\n      </widget>\n      <widget class="fe-us-states-geo-chart-widget"\n              ng-if="!ctrl.showHexChart && ctrl.singleTermMode && ctrl.geoChartFields.length"\n              type="fe_geo_chart"\n              version="1"\n              template="us_states"\n              fields="ctrl.geoChartFields"\n              on-event="ctrl.onMapClickEvent(event);"\n              is-editor="isEditor"\n              palette="palatte"\n              forced-color="{{::forcedColor}}"\n              is-scrolled-into="true">\n      </widget>\n    </div>\n  </div>\n  <span class="fe-us-states-chart-msg"\n        ng-class="{\'single-term\': ctrl.singleTermMode}">\n    CLICK ON THE MAP TO SEE STATE LEVEL COMPARISON\n  </span>\n  <div class="fe-us-states-legend-wrapper">\n    <div class="fe-us-states-legend"\n         ng-if="!ctrl.singleTermMode && this.widget.fields.showLegend.value">\n      <div class="fe-us-states-legend-items-wrapper">\n        <div ng-repeat="bullet in fields.bullets.getValues() | limitTo: 5"\n             ng-if="bullet.value && bullet.color"\n             class="fe-us-states-legend-item">\n          <div class="fe-us-states-legend-item-bullet"\n               ng-style="{\'background-color\': ctrl.colors.getHexValue(bullet.color)}">\n          </div>\n          <div class="fe-us-states-legend-item-text"\n               bidi="bullet.value">\n            {{bullet.value}}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="fe-us-states-legend"\n         ng-if="ctrl.singleTermMode && this.widget.fields.showLegend.value">\n      <div class="fe-us-states-legend-items-wrapper">\n        <div class="fe-us-states-legend-bar-wrapper">\n          <div class="fe-us-states-legend-bar-title">Search interest</div>\n          <div class="fe-us-states-legend-bar-values">Lowest</div>\n          <div class="fe-us-states-legend-bar-values high-value">Highest</div>\n          <div class="fe-us-states-legend-bar"\n               ng-style="{\'background\': \'linear-gradient(to right, \' + ctrl.getColorRange().low + \', \' + ctrl.getColorRange().high + \')\'}">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="fe-us-states-chart-switch-wrapper"\n         ng-click="ctrl.showHexChart = !ctrl.showHexChart">\n      <div class="fe-us-states-chart-switch-icon"\n           ng-class="{\'hex-button\': !ctrl.showHexChart, \'geo-button\': ctrl.showHexChart}"></div>\n      <span ng-if="!ctrl.showHexChart && $root.globals.isDesktopMode">\n        SWITCH TO HEX MAP\n      </span>\n      <span ng-if="ctrl.showHexChart && $root.globals.isDesktopMode">\n        SWITCH TO GEO MAP\n      </span>\n      <span ng-if="!ctrl.showHexChart && $root.globals.isMobileMode">\n        HEX MAP\n      </span>\n      <span ng-if="ctrl.showHexChart && $root.globals.isMobileMode">\n        GEO MAP\n      </span>\n    </div>\n    <div class="fe-us-states-dialog-msg"\n         ng-click="ctrl.showStateDialog()">\n      CLICK TO SEE STATE DATA\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_us_states_v1/views/fe.html",'<div class="fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">{{fields.topic.value}}\n      <help-dialog ng-show="$root.globals.isDesktopMode && helpDialog"\n                   data="helpDialog"></help-dialog>\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include src="\'/widgets_library/fe_us_states_v1/views/content.html\'">\n  </ng-include>\n</div>\n'),
a.put("/widgets_library/fe_us_states_v1/views/fe_embed.html",'<div class="embed-container" ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n  <ng-include class="embed-content"\n              src="\'/widgets_library/fe_us_states_v1/views/content.html\'"></ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_us_states_v1/views/state_dialog.html",'<md-dialog class="fe-us-states-region-dialog">\n  <md-toolbar layout="row" layout-align="start center"\n              class="fe-us-states-region-dialog-toolbar">\n    <a class="fe-us-states-region-dialog-button-wrapper"\n       ng-click="ctrl.cancelDialog()">\n      <div class="fe-us-states-region-dialog-button arrow-backward flip-rtl">\n      </div>\n    </a>\n    <div class="fe-us-states-region-dialog-title">\n      Explore state level\n    </div>\n  </md-toolbar>\n  <md-content class="fe-us-states-region-dialog-content">\n    <md-list>\n      <md-item ng-repeat="geo in ctrl.csvField.getValues() | orderBy:\'geoName\'"\n               ng-click="ctrl.onMapClickEvent({region: geo.geoCode, dialog: true})"\n               class="fe-us-states-region-dialog-item">\n        <div class="fe-us-states-region-dialog-item-text">\n          {{ geo.geoName }}\n        </div>\n      </md-item>\n    </md-list>\n  </md-content>\n</md-dialog>\n'))}]);angular.module("publishAppWidgetsSvgMapV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/svg_map_v1/views/content.html",'<div class="region-legend-container">\n  <ul class="region-legend">\n    <li ng-repeat="legendItem in fields.legend.items"\n        ng-if="legendItem.value.caption">\n    <span ng-style="{\'background-color\':\n        ctrl.colors.getHexValue(legendItem.value.color)}"></span>\n\n      {{ legendItem.value.caption }}\n    </li>\n  </ul>\n  <div class="multi-heatmap-legend-text"\n       ng-if="ctrl.isMultiHeatMap">\n    Darker colors represent higher search interest\n  </div>\n</div>\n<svg-map map-name="{{ fields.mapName.value }}"\n         colors="ctrl.colors"\n         legend="fields.legend.items"\n         data="fields.data.items"\n         default-color="PALETTE_COLOR_6"\n         enable-tooltip="ctrl.isFeOrEmbedTemplate"\n         center-tooltip="ctrl.isFeTemplate"\n         is-editor="isEditor"\n         is-svg-multi-heat-map="ctrl.isMultiHeatMap">\n</svg-map>\n'),
a.put("/widgets_library/svg_map_v1/views/fe.html",'<div class="fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator">\n    <p class="fe-atoms-generic-title">{{fields.topic.value}}</p>\n    <widget-actions ng-if="ctrl.isFeTemplate"></widget-actions>\n  </div>\n\n  <ng-include\n       class="region-chart-fe region-chart-wrapper"\n       ng-class="{\'multi-heatmap-region-chart-fe\': ctrl.isMultiHeatMap}"\n       src="\'/widgets_library/svg_map_v1/views/content.html\'">\n  </ng-include>\n</div>\n'),
a.put("/widgets_library/svg_map_v1/views/fe_embed.html",'<div class="embed-container" ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n  <ng-include class="embed-content region-chart-fe region-chart-wrapper"\n              src="\'/widgets_library/svg_map_v1/views/content.html\'">\n  </ng-include>\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/svg_map_v1/views/fe_featured.html",
'<div class="fe-featured-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <ng-include\n       class="region-chart-fe region-chart-wrapper"\n       src="\'/widgets_library/svg_map_v1/views/content.html\'">\n  </ng-include>\n  <div class="fe-featured-atoms-generic-container-title fe-featured-container-title">\n    {{fields.topic.value | typography}}\n  </div>\n</div>\n'),a.put("/widgets_library/svg_map_v1/views/hex_states.html",'<svg-map ng-init="fields = ctrl.widget.fields"\n         map-name="{{ $root.globals.isMobileMode ? \'hex_states_small\' : \'hex_states\' }}"\n         colors="ctrl.colors"\n         legend="fields.legend.items"\n         data="fields.data.items"\n         default-color="PALETTE_COLOR_6"\n         enable-tooltip="true"\n         center-tooltip="true"\n         on-region-click="triggerEvent(\'regionClick\', {\'region\': region})"\n         is-editor="isEditor">\n</svg-map>\n'),
a.put("/widgets_library/svg_map_v1/views/tv_broadcast.html",'<tv-broadcast ng-init="fields = ctrl.widget.fields"\n              main-title="{{fields.topic.value}}"\n              sub-title="{{fields.subTopic.value}}">\n  <ng-include\n       class="region-chart-tv region-chart-wrapper"\n       src="\'/widgets_library/svg_map_v1/views/content.html\'">\n  </ng-include>\n</tv-broadcast>\n'))}]);var nq=function(a,b,c,e,f){var g="tv_broadcast"==a.template?e.Colors.TV_PALETTE:e.Colors.DEFAULT_PALETTE;this.lodash_=b;this.colors=new e.Colors(g);e=[{name:"topic",type:"string",placeholder:"Title",value:"Top Searched"},{name:"subTopic",type:"string",placeholder:"Subtitle",value:"Candidates by county",templates:["tv_broadcast"]},{name:"mapName",type:"string",placeholder:"Map",value:"california",options:b.map(kq,function(k){return{name:k.replace(/_/g," "),value:k}})},{name:"mapType",type:"string",
value:"Regular Map",options:["Regular Map","Multi Heatmap"]},{name:"legend",type:"list",subtype:"map",keys:["caption","color"],values:b.times(5,function(k){return{caption:"Item "+(k+1),color:g[k].name}}),maxLimit:5,colorPalette:this.colors,keysConfig:{caption:{gridSpan:12},color:{gridSpan:12,options:b.map(g,function(k){return{name:k.caption,value:k.name}})}}},{name:"data",type:"list",subtype:"map",visible:!1,keys:["code","maxValueIndex","name","values"],csvKeys:["code","maxValueIndex","name"].concat(b.map(b.range(1,
6),function(k){return"value"+k})),csvGetter:b.bindKey(this,"csvGetter_"),csvSetter:b.bindKey(this,"csvSetter_"),values:lq}];this.widget=new f(e,a.isEditor);this.widget.registerAPI("svg_map","/trends/api/widgetdata/comparedgeo/"+c.testStoryID,mq,[{path:"req.geo.region",title:"Region",type:"text",matchValidation:/^US-([A-Z]{2})$/,invalidMessage:'Region must contain the prefix "US-" and exactly 2 uppercase english letters.'},{path:"req.resolution",title:"Resolution",type:"select",options:["DMA","COUNTY",
"CITY","COUNTRY","REGION"],invalidMessage:"Resolution is required."},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(k){return b.map(k,function(l){return l.phrase})},setValue:function(k,l){return b.map(k,function(n){return{phrase:n,
time:l.req.comparisonItem[0].time}})}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"req.dataMode",hidden:!0}]).middleware(b.bindKey(this,"middleware_"));this.csvField=this.widget.fields.data;this.isMultiHeatMap=!1;this.isFeTemplate="fe"===a.template;this.isFeOrEmbedTemplate="fe"===a.template||"fe_embed"===a.template;a.$watch("ctrl.widget.fields.mapType.value",b.bindKey(this,"setMultiHeatMap_"))};t("$jscomp.scope.SvgMapV1Ctrl",nq,void 0);
nq.$inject=["$scope","lodash","globalsService","colorsFactory","widgetFactory"];var mq={req:{requestOptions:{backend:"IZG"},geo:{region:"US-CA"},resolution:"COUNTY",comparisonItem:[{time:"2004-01-01 2016-08-18",phrase:"clinton"},{time:"2004-01-01 2016-08-18",phrase:"trump"}],locale:"en-GB"}};nq.TYPE="svg_map";nq.DISPLAY_TYPE="SVG Map";nq.VERSION=1;nq.TEMPLATES=["fe","fe_embed","fe_featured","hex_states","tv_broadcast"];nq.FULL_WIDTH=!0;
nq.GROUP_TYPE={ELE:["hex_states"],FE:["fe","fe_embed","fe_featured"],TV:["tv_broadcast"]};
var kq="alabama alaska arizona arkansas california colorado connecticut delaware district_of_columbia florida georgia hawaii hex_states hex_states_small idaho illinois indiana iowa kansas kentucky louisiana maine maryland massachusetts michigan minnesota mississippi missouri montana nebraska nevada new_hampshire new_jersey new_mexico new_york north_carolina north_dakota ohio oklahoma oregon pennsylvania rhode_island south_carolina south_dakota tennessee texas utah vermont virginia washington west_virginia wisconsin wyoming".split(" "),lq=
[{code:"US-OR",name:"Orlando",values:[50,20,40],maxValueIndex:0},{code:"US-RI",name:"Rhode Island",values:[10,0,90],maxValueIndex:2},{code:"US-HI",name:"Hawaii",values:[5,40,30],maxValueIndex:1},{code:"US-TX",name:"Texas",values:[100,10,0],maxValueIndex:0},{code:6019,name:"Fresno",values:[50,20,40],maxValueIndex:0},{code:6025,name:"Imperial",values:[10,0,90],maxValueIndex:2},{code:6061,name:"Placer",values:[5,40,30],maxValueIndex:1},{code:6107,name:"Tulare",values:[100,10,0],maxValueIndex:0},{code:8125,
name:"Yuma",values:[50,20,40],maxValueIndex:0},{code:8073,name:"Lincoln",values:[10,0,90],maxValueIndex:2},{code:8027,name:"Custer",values:[5,40,30],maxValueIndex:1},{code:8049,name:"Grand",values:[100,10,0],maxValueIndex:0},{code:12053,name:"Hernando",values:[50,20,40],maxValueIndex:0},{code:12029,name:"Dixie",values:[10,0,90],maxValueIndex:2},{code:12073,name:"Leon",values:[5,40,30],maxValueIndex:1},{code:12013,name:"Calhoun",values:[100,10,0],maxValueIndex:0},{code:19167,name:"Sioux",values:[50,
20,40],maxValueIndex:0},{code:19029,name:"Cass",values:[10,0,90],maxValueIndex:2},{code:19175,name:"Union",values:[5,40,30],maxValueIndex:1},{code:19013,name:"Black Hawk",values:[100,10,0],maxValueIndex:0},{code:32510,name:"Carson City",values:[50,20,40],maxValueIndex:0},{code:32001,name:"Churchill",values:[10,0,90],maxValueIndex:2},{code:32031,name:"Washoe",values:[5,40,30],maxValueIndex:1},{code:32033,name:"White Pine",values:[100,10,0],maxValueIndex:0},{code:33015,name:"Rockingham",values:[50,
20,40],maxValueIndex:0},{code:33013,name:"Merrimack",values:[10,0,90],maxValueIndex:2},{code:33011,name:"Hillsborough",values:[5,40,30],maxValueIndex:1},{code:33009,name:"Grafton",values:[100,10,0],maxValueIndex:0},{code:36005,name:"Bronx",values:[50,20,40],maxValueIndex:0},{code:36023,name:"Cortland",values:[10,0,90],maxValueIndex:2},{code:36043,name:"Herkimer",values:[5,40,30],maxValueIndex:1},{code:36097,name:"Schuyler",values:[100,10,0],maxValueIndex:0},{code:39017,name:"Butler",values:[50,20,
40],maxValueIndex:0},{code:39095,name:"Lucas",values:[10,0,90],maxValueIndex:2},{code:39171,name:"Williams",values:[5,40,30],maxValueIndex:1},{code:39141,name:"Ross",values:[100,10,0],maxValueIndex:0},{code:42127,name:"Wayne",values:[50,20,40],maxValueIndex:0},{code:42099,name:"Perry",values:[10,0,90],maxValueIndex:2},{code:42107,name:"Schuylkill",values:[5,40,30],maxValueIndex:1},{code:42011,name:"Berks",values:[100,10,0],maxValueIndex:0},{code:45003,name:"Aiken",values:[50,20,40],maxValueIndex:0},
{code:45051,name:"Horry",values:[10,0,90],maxValueIndex:2},{code:45075,name:"Orangeburg",values:[5,40,30],maxValueIndex:1},{code:45077,name:"Pickens",values:[100,10,0],maxValueIndex:0},{code:51191,name:"Washington",values:[50,20,40],maxValueIndex:0},{code:51071,name:"Giles",values:[10,0,90],maxValueIndex:2},{code:51143,name:"Pittsylvania",values:[5,40,30],maxValueIndex:1},{code:51079,name:"Greene",values:[100,10,0],maxValueIndex:0},{code:55083,name:"Oconto",values:[50,20,40],maxValueIndex:0},{code:55037,
name:"Florence",values:[10,0,90],maxValueIndex:2},{code:55031,name:"Douglas",values:[5,40,30],maxValueIndex:1},{code:55067,name:"Langlade",values:[100,10,0],maxValueIndex:0},{code:56019,name:"Johnson",values:[50,20,40],maxValueIndex:0},{code:56023,name:"Lincoln",values:[10,0,90],maxValueIndex:2},{code:56035,name:"Sublette",values:[5,40,30],maxValueIndex:1},{code:56017,name:"Hot Springs",values:[100,10,0],maxValueIndex:0}];
nq.prototype.middleware_=function(a){return{data:this.lodash_.map(a["default"].geoMapData,function(b){return{code:b.geoCode.replace(/(?:US-)?(?:0*)(\d+)/,"$1"),maxValueIndex:b.maxValueIndex,name:b.geoName,values:b.value,formattedValues:b.formattedValue}})}};
nq.prototype.csvGetter_=function(a){var b=this;return a=a.map(function(c){var e=parseInt(c.code);e={code:b.lodash_.isNaN(e)?null:e,maxValueIndex:c.maxValueIndex,name:c.name,values:[]};for(var f=0;5>f;f++){var g=c["value"+(f+1)];b.lodash_.isUndefined(g)||(e.values[f]=parseInt(g))}return e})};nq.prototype.csvSetter_=function(a){var b=this;a.values=a.values.map(function(c){var e=b.lodash_.pick(c,"code","maxValueIndex","name");b.lodash_.forEach(c.values,function(f,g){e["value"+(g+1)]=f});return e});return a};
nq.prototype.setMultiHeatMap_=function(){var a=this.widget.fields;this.isMultiHeatMap="Multi Heatmap"===a.mapType.value&&1<a.data.items[0].value.values.length;this.widget.apis.svg_map.params.req.dataMode=this.isMultiHeatMap?"PERCENTAGES":"NUMBERS"};U.SvgMapV1=nq;var oq=angular.module("publishAppSvgMapV1",["publishAppFramework","publishAppWidgetsSvgMapV1Views"]);oq.controller("SvgMapV1Ctrl",U.SvgMapV1);var rq=function(a,b,c,e,f,g){this.scope_=a;this.lodash_=c;this.colors=new f.Colors(a.palette||f.Colors.DEFAULT_PALETTE);this.colorsFactory_=f;this.globals=g;this.showHexChart=!0;this.geoColorChartFields=[];this.svgMapFields=[];f=[{name:"topic",type:"string",placeholder:"Title",value:"Obama vs Bush",translation:{translate:!0,description:"Title of the widget."}},{name:"data",type:"list",subtype:"map",visible:!1,keys:["geoCode","geoName","maxValueIndex","value","formattedValue"],csvKeys:["geoCode","geoName",
"maxValueIndex"].concat(c.flatten(c.times(5,function(l){return["value"+(l+1),"formattedValue"+(l+1)]}))),csvGetter:c.bindKey(this,"csvGetter_"),csvSetter:c.bindKey(this,"csvSetter_"),values:pq,translation:{translate:!0,keys:[{name:"geoName",description:"The tooltip text that holds the geo name."},{name:"value",description:"The tooltip text that holds the value."}]}},{name:"bullets",type:"list",subtype:"map",keys:["value","color"],maxLimit:5,colorPalette:this.colors,keysConfig:{value:{gridSpan:12},
color:{gridSpan:12,options:c.map(this.colors.palette_,function(l){return{name:l.caption,value:l.name}})}},values:[{value:"OBAMA",color:"PALETTE_COLOR_1"},{value:"BUSH",color:"PALETTE_COLOR_2"},{value:"",color:"PALETTE_COLOR_3"},{value:"",color:"PALETTE_COLOR_4"},{value:"",color:"PALETTE_COLOR_5"}]},{name:"showLegend",type:"boolean",value:!0,visible:!1},{name:"regionStoryIds",type:"list",subtype:"map",keys:["region","storyId"],keysConfig:{region:{gridSpan:4},storyId:{placeholder:"Story Id",gridSpan:8}},
values:qq}];this.widget=new e(f,a.isEditor);this.mdDialog=b;this.cancelDialog=c.bindKey(this,"cancelDialog_",a);this.showStateDialog=c.bindKey(this,"showStateDialog_",a);this.onMapClickEvent=c.bindKey(this,"onMapClickEvent_");b=c.bindKey(this,"onDataChange_");a.$watch("ctrl.widget.fields.data.items",b);a.$watch("ctrl.widget.fields.bullets.items",b,a.isEditor);this.csvField=this.widget.fields.data;var k=this;this.widget.registerAPI("fe_geo_color_map","/trends/api/widgetdata/comparedgeo/"+this.globals.testStoryID,
{req:{requestOptions:{backend:"IZG"},geo:{country:"US"},resolution:"REGION",comparisonItem:[{phrase:"OBAMA",time:"today 7-d"}],locale:"en"}},[{path:"req.geo.country",hidden:!0},{path:"req.resolution",hidden:!0},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",
getValue:function(l){for(var n=[],p=0;p<l.length;p++)n.push(l[p].phrase);return n},setValue:function(l,n){for(var p=[],q=0;q<l.length;q++)p.push({phrase:l[q],time:n.req.comparisonItem[0].time});return p}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."}]).middleware(c.bindKey(this,"middleware_")).toggle(function(l){l&&(k.geoChartFields=[],k.svgMapFields=[])})};t("$jscomp.scope.FeUsStatesV1Ctrl",rq,void 0);rq.$inject="$scope $mdDialog lodash widgetFactory colorsFactory globalsService".split(" ");
rq.TYPE="fe_us_states";rq.DISPLAY_TYPE="US states";rq.VERSION=1;rq.TEMPLATES=["fe","fe_embed"];rq.FULL_WIDTH=!0;rq.HIDE_IN_EDITOR=!1;rq.GROUP_TYPE={ELE:["fe"]};
var qq=[{region:"US-AK",storyId:"US_cu_QyZ6IVEBAABohM_en"},{region:"US-CT",storyId:"US_cu_lLsuIVEBAADrGM_en"},{region:"US-IL",storyId:"c5c95ce9-6b74-4939-b112-57e405ef0109"},{region:"US-MA",storyId:"olympics"},{region:"US-OH",storyId:"2015"}],pq=[{geoCode:"US-AK",geoName:"Alaska",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoCode:"US-CT",geoName:"Connecticut",value:[25,10],formattedValue:["25","10"],maxValueIndex:0},{geoCode:"US-IL",geoName:"Illinois",value:[20,40],formattedValue:["20",
"40"],maxValueIndex:1},{geoCode:"US-MA",geoName:"Massachusetts",value:[20,40],formattedValue:["20","40"],maxValueIndex:1},{geoCode:"US-OH",geoName:"Ohio",value:[20,40],formattedValue:["20","40"],maxValueIndex:1}];d=rq.prototype;
d.csvGetter_=function(a){return a=this.lodash_.map(a,function(b){for(var c={formattedValue:[],geoCode:b.geoCode,geoName:b.geoName,maxValueIndex:parseInt(b.maxValueIndex),value:[]},e=0;5>e;e++){var f=b["value"+(e+1)];f&&(c.value[e]=parseInt(f),c.formattedValue[e]=b["formattedValue"+(e+1)])}return c})};
d.csvSetter_=function(a){var b=this;a.values=this.lodash_.map(a.values,function(c){var e={geoCode:c.geoCode,geoName:c.geoName,maxValueIndex:c.maxValueIndex};b.lodash_.forEach(c.value,function(f,g){e["value"+(g+1)]=f;e["formattedValue"+(g+1)]=c.formattedValue[g]});return e});return a};d.middleware_=function(a){return{data:a["default"].geoMapData}};
d.onDataChange_=function(){if(!this.widget.isQuerying){this.singleTermMode=1===this.widget.fields.data.getValues()[0].value.length;this.geoChartFields=[{name:"bullets",values:this.widget.fields.bullets.getValues()},{name:"geoData",values:this.widget.fields.data.getValues()},{name:"region",value:"US"},{name:"resolution",value:"provinces"}];if(this.singleTermMode){var a=this.widget.fields.bullets.getValues()[0];this.geoChartFields=this.geoChartFields.concat([{name:"color",value:a.color},{name:"searchVolumeIndexLabel",
value:a.value},{name:"displayMode",value:"regions"}])}this.svgMapFields=[{name:"data",values:this.lodash_.map(this.widget.fields.data.getValues(),function(b){return{code:b.geoCode,maxValueIndex:b.maxValueIndex,name:b.geoName,values:b.value}})},{name:"legend",values:this.lodash_.map(this.widget.fields.bullets.getValues(),function(b){return{caption:b.value,color:b.color}})}]}};d.showStateDialog_=function(a){this.mdDialog.show({preserveScope:!0,scope:a,templateUrl:"/widgets_library/fe_us_states_v1/views/state_dialog.html"})};
d.cancelDialog_=function(){this.mdDialog.cancel()};d.onMapClickEvent_=function(a){(a.dialog||!this.globals.isMobileMode)&&(a=this.lodash_.find(this.widget.fields.regionStoryIds.getValues(),{region:a.region}))&&this.scope_.triggerEvent("storyIdRedirect",{storyId:a.storyId})};d.getColorRange=function(){var a=this.colorsFactory_.Colors.COLOR_RANGES[this.colors.getHexValue(this.widget.fields.bullets.getValues()[0].color)];return{low:a[0],high:a[1]}};U.FeUsStatesV1=rq;var sq=angular.module("publishAppFeUsStatesV1",["publishAppFramework","publishAppWidgetsFeUsStatesV1Views",tp.name,Bp.name,oq.name]);sq.controller("FeUsStatesV1Ctrl",U.FeUsStatesV1);angular.module("publishAppWidgetsFeVideoV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_video_v1/views/fe.html",'<div class="fe-video-container fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-atoms-generic-title">{{fields.topic.value}}</div>\n  </div>\n  <div class="fe-atoms-generic-content-container fe-atoms-generic-flex-container">\n    <div class="fe-video-media fe-atoms-generic-flex-item fe-atoms-generic-flex-order-second">\n      <iframe ng-if="ctrl.isPlayClicked"\n              ng-src="{{ ctrl.videoURL }}"\n              frameborder="0"\n              allowfullscreen>\n      </iframe>\n      <img class="fe-video-preview"\n           ng-src="{{fields.imageUrl.value}}"\n           ng-if="!ctrl.isPlayClicked"\n           alt="{{fields.description.value}}"/>\n      <div class="play-button"\n           ng-click="ctrl.isPlayClicked =! ctrl.isPlayClicked"\n           ng-show="!ctrl.isPlayClicked"></div>\n    </div>\n    <div class="fe-video-text-container fe-atoms-generic-flex-item">\n      <div class="fe-video-description" bidi="fields.description.value">\n        {{fields.description.value}}\n      </div>\n      <div class="fe-video-reference">\n        <div class="fe-video-publisher">\n          <a href="{{fields.ownerUrl.value}}"\n             target="_blank" bidi="fields.owner.value">\n            {{fields.owner.value}}\n          </a>\n        </div>\n        <div class="fe-video-date">{{fields.date.value}}</div>\n      </div>\n      <div class="fe-video-views">\n        <div class="fe-video-local-views">{{fields.localViews.value}}</div>\n        <div class="fe-video-global-views">{{fields.globalViews.value}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_video_v1/views/play_button.html",'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 48 48">\n  <path d="M0 0h48v48H0z" fill="none"/>\n  <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"/>\n</svg>\n'))}]);var tq=function(a,b,c,e){this.helpers_=e;this.widget=new b([{name:"topic",type:"string",value:"Trending YouTube video",translation:{translate:!0,description:"Title of the widget. http://goo.gl/mmeMYD"}},{name:"description",type:"string",value:"Lorem Ipsum is simply dummy text of the printing",translation:{translate:!0,description:"The description text of the widget. http://goo.gl/mmeMYD"}},{name:"videoUrl",type:"string",placeholder:"Youtube video url",value:"https://www.youtube.com/embed/DVwHCGAr_OE"},
{name:"imageUrl",type:"string",placeholder:"Image url",imageUpload:!0,value:"https://img.youtube.com/vi/DVwHCGAr_OE/maxresdefault.jpg",validation:[e.FIELD_VALIDATION.isHttps,e.FIELD_VALIDATION.isGstatic,e.FIELD_VALIDATION.isImageFormat]},{name:"owner",type:"string",placeholder:"Video owner",value:"By Google",translation:{translate:!0,description:"Owner prefix text. http://goo.gl/mmeMYD"}},{name:"ownerUrl",type:"string",placeholder:"Video owner URL",value:"https://www.google.com"},{name:"date",type:"string",
placeholder:"Video date",value:"Published on Dec 15, 2014",translation:{translate:!0,description:"The date text of the widget. http://goo.gl/mmeMYD"}},{name:"localViews",type:"string",placeholder:"Local views",value:"new local views 500,000+",translation:{translate:!0,description:"The local views text of the widget. http://goo.gl/mmeMYD"}},{name:"globalViews",type:"string",placeholder:"Global views",value:"new global views 32,335,821+",translation:{translate:!0,description:"The globals views text of the widget. http://goo.gl/mmeMYD"}}],
a.isEditor);this.isPlayClicked=!1;this.videoURL="";this.isEditor=a.isEditor;b=c.bind(this.onVideoUrlChange_,this);a.$watch("ctrl.widget.fields.videoUrl.value",b,!0)};t("$jscomp.scope.FeVideoV1Ctrl",tq,void 0);tq.$inject=["$scope","widgetFactory","lodash","helpersFactory"];tq.TYPE="fe_video";tq.VERSION=1;tq.DISPLAY_TYPE="Trending Video";tq.FULL_WIDTH=!0;tq.HIDE_IN_EDITOR=!1;tq.GROUP_TYPE="FE";tq.TEMPLATES=["fe"];var uq=/(?:(?:embed\/)|(?:watch\?v=))(.+)$/i,vq=/^[-_\w]{10,12}$/;
tq.prototype.createVideoUrl=function(a){return Ub(new Db(Bb,"https://www.youtube.com/embed/%{videoID}?autoplay=1"),{videoID:a.replace(/[^-_\w]/g,"")})};
tq.prototype.onVideoUrlChange_=function(a){var b=this.widget.fields.videoUrl;a=uq.test(a)?a.match(uq)[1]:a;this.isPlayClicked=!1;vq.test(a)?(b.config.notification=[],this.videoURL=this.createVideoUrl(a)):(b.config.notification=["Invalid youtube video ID/URL. Video identifier must be between 10 to 12 characters. Use the following template: https://www.youtube.com/embed/{VIDEO-ID}"],this.videoURL="")};U.FeVideoV1=tq;var wq=angular.module("publishAppFeVideoV1",["publishAppFramework","publishAppWidgetsFeVideoV1Views"]);wq.controller("FeVideoV1Ctrl",U.FeVideoV1);angular.module("publishAppWidgetsFeYisStoryCardV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){function c(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}b()&&(a.put("/widgets_library/fe_yis_story_card_v1/views/content.html",'<div class="fe-story-card-text">\n  <div class="fe-story-card-title" bidi="fields.topic.value | typography"></div>\n  <div class="fe-story-card-sub-title" bidi="fields.subTitle.value | typography"></div>\n  <div class="fe-story-card-publish-date" bidi="fields.publishDate.value | typography"></div>\n</div>\n<div class="fe-story-card-search-data-container"\n     ng-if="fields.SearchVolume.value">\n  <div class="fe-story-card-search-volume-container"\n       ng-class="{\'fe-story-card-separator-line\' : ctrl.sparklineAPI.isActive && ctrl.sparklineTicks.length}">\n    <div class="fe-story-card-search-volume">\n      <div class="fe-story-card-search-text">\n        {{fields.SearchVolume.value}}\n      </div>\n      <div class="fe-story-card-search-label">\n        Searches\n      </div>\n    </div>\n  </div>\n  <div class="fe-story-card-search-sparkline-container"\n       ng-if="ctrl.sparklineAPI.isActive && ctrl.sparklineTicks.length">\n    <div class="fe-story-card-search-sparkline">\n      <div class="fe-story-card-search-sparkline-placeholder">\n        <sparkline\n            ticks="ctrl.sparklineTicks"\n            thickness="2.5"\n            draw-area="false"\n            color="#ffffff"\n            width="{{ $root.globals.isDesktopMode ? 84 : 78 }}"\n            height="{{ $root.globals.isDesktopMode ? 40 : 28 }}">\n        </sparkline>\n      </div>\n    </div>\n  </div>\n</div>\n\n'),
a.put("/widgets_library/fe_yis_story_card_v1/views/fe.html",['<div class="fe-atoms-generic-container fe-story-card"\n     ng-init="fields = ctrl.widget.fields">\n  <a class="fe-story-card-container"\n     ng-href="{{ fields.storyLinkURL.value }}"\n     ng-style="{\'background-image\': \'url(\' + fields.storyImageURL.value + \')\'}">\n    <ng-include src="\'/widgets_library/fe_yis_story_card_v1/views/content.html\'">\n    </ng-include>\n  </a>\n  <button class="fe-story-card-share-wrapper"\n     ng-class="{\'fe-story-card-share-desktop\' : !$root.globals.isTouchDevice()}"\n     id="story-link"\n     track="[\'Widget\', type, \'Share\']"\n     ng-if="isEditor || share" ng-click="share()"',
'     title="'+c("Share")+'">','    <div class="fe-story-card-share share-image-white flip-rtl"></div>\n  </button>\n</div>\n'].join("\n")),a.put("/widgets_library/fe_yis_story_card_v1/views/fe_embed.html",'<div class="fe-atoms-generic-container fe-story-card"\n     ng-init="fields = ctrl.widget.fields">\n  <a class="fe-story-card-container"\n     ng-href="{{fields.storyLinkURL.value}}"\n     ng-style = "{ \'background-image\': \'url(\' +fields.storyImageURL.value + \')\'}">\n    <div class="logo-for-sharing"></div>\n    <ng-include class="embed-content"\n      src="\'/widgets_library/fe_yis_story_card_v1/views/content.html\'">\n    </ng-include>\n  </a>\n</div>\n'),
a.put("/widgets_library/fe_yis_story_card_v1/views/fe_goober.html",['<div class="fe-atoms-generic-container fe-goober-card {{ctrl.className}}"\n     ng-init="fields = ctrl.widget.fields"\n     track="[\'Goober Card\', \'Card Load\', fields.topic.value]"\n     track-type="load"\n     ng-style="{\'background-color\': ctrl.colors.getHexValue(fields.backgroundColor.value)}">\n  <button class="fe-goober-card-share-wrapper"\n     ng-class="{\'fe-goober-card-share-desktop\' : !$root.globals.isTouchDevice()}"\n     id="story-link"\n     track="[\'Widget\', type, \'Share\']"\n     ng-if="isEditor || share"\n     ng-click="share()"',
'     title="'+c("Share")+'">',"    <div class=\"fe-goober-card-share flip-rtl\"\n         ng-class=\"{'share-image': (fields.backgroundColor.value == 'White'),\n          'share-b-white-image': !(fields.backgroundColor.value == 'White')}\">\n    </div>\n  </button>\n  <ng-include src=\"'/widgets_library/fe_yis_story_card_v1/views/goober_content.html'\">\n  </ng-include>\n</div>\n"].join("\n")),a.put("/widgets_library/fe_yis_story_card_v1/views/fe_goober_embed.html",'<div class="fe-atoms-generic-container fe-goober-card fe-goober-embed-card {{ctrl.className}}"\n     ng-init="fields = ctrl.widget.fields"\n     ng-style="{\'background-color\': ctrl.colors.getHexValue(fields.backgroundColor.value)}">\n  <div class="fe-goober-embed-card-container">\n    <ng-include src="\'/widgets_library/fe_yis_story_card_v1/views/goober_content.html\'">\n    </ng-include>\n    <div class="goober-embed-card-logo-image"></div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_yis_story_card_v1/views/fe_goober_featured.html",'<div class="fe-atoms-generic-container fe-goober-featured-card"\n     ng-init="fields = ctrl.widget.fields"\n     track="[\'Goober Card\', \'Card Load\', fields.topic.value]"\n     track-type="load">\n  <div class="fe-goober-featured-card-text">\n    <div class="fe-goober-featured-card-title"\n         ng-style="{\'color\': ctrl.featuredGooberTitleColor()}">\n      {{fields.topic.value}}\n    </div>\n  </div>\n  <div class="fe-goober-featured-image-wrapper">\n    <div class="fe-goober-featured-card-image-container"\n         ng-style="{\'background-image\': \'url(\' + fields.storyImageURL.value + \')\'}">\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_yis_story_card_v1/views/fe_olympics.html",['<div class="fe-atoms-generic-container fe-olympics-card"\n     ng-init="fields = ctrl.widget.fields">\n  <a class="link-wrapper" href="{{ fields.storyLinkURL.value }}">\n    <div class="fe-olympics-card-img"\n         ng-style="{\'background-image\': \'url(\' + fields.storyImageURL.value + \')\'}">\n    </div>\n    <div class="fe-olympics-card-wrapper">\n      <div class="fe-olympics-card-title" bidi="fields.topic.value | typography"></div>\n      <div class="fe-olympics-card-info" bidi="fields.publishDate.value | typography"></div>\n      <div class="fe-olympics-card-graph">\n        <sparkline ticks="ctrl.sparklineTicks"\n                   thickness="{{ $root.globals.isDesktopMode ? 4 : 3 }}"\n                   draw-area="false"\n                   color="#4284F3"\n                   width="{{ $root.globals.isDesktopMode ? 144 : 128 }}"\n                   height="{{ $root.globals.isDesktopMode ? 48 : 32 }}">\n          <div bidi="fields.subTitle.value"></div>\n        </sparkline>\n      </div>\n    </div>\n  </a>\n  <button class="fe-story-card-share-wrapper"\n     ng-class="{\'fe-story-card-share-desktop\' : !$root.globals.isTouchDevice()}"\n     id="story-link"\n     track="[\'Widget\', type, \'Share\']"\n     ng-if="isEditor || share"\n     ng-click="share()"',
'     title="'+c("Share")+'">','    <div class="fe-story-card-share share-b-white-image flip-rtl"></div>\n  </button>\n</div>\n'].join("\n")),a.put("/widgets_library/fe_yis_story_card_v1/views/fe_olympics_embed.html",'<div class="fe-atoms-generic-container fe-olympics-embed-card"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-olympics-embed-image-mask"></div>\n  <a class="fe-olympics-embed-card-img"\n     href="{{ fields.storyLinkURL.value }}"\n     ng-style="{\'background-image\': \'url(\' + fields.storyImageURL.value + \')\'}">\n\n    <div class="fe-olympics-embed-trends-logo"></div>\n    <div class="fe-olympics-embed-card-info">\n      <div class="fe-olympics-embed-card-title" bidi="fields.topic.value | typography"></div>\n      <div class="fe-olympics-embed-card-date" bidi="fields.publishDate.value | typography"></div>\n    </div>\n\n    <div class="fe-olympics-embed-card-graph-wrapper">\n      <sparkline\n        ticks="ctrl.sparklineTicks"\n        thickness="3"\n        draw-area="false"\n        color="#ffffff"\n        width="123"\n        height="39">\n      </sparkline>\n      <div class="fe-olympics-embed-card-subtitle"\n           bidi="fields.subTitle.value | typography">\n      </div>\n    </div>\n  </a>\n</div>\n\n'),
a.put("/widgets_library/fe_yis_story_card_v1/views/fe_olympics_interactive.html",'<div class="fe-atoms-generic-container fe-olympics-interactive-card"\n     ng-init="fields = ctrl.widget.fields">\n  <a class="link-wrapper" href="{{ fields.storyLinkURL.value }}" target="_blank">\n    <div class="fe-olympics-interactive-card-img"\n         ng-style="{\'background-image\': \'url(\' + fields.storyImageURL.value + \')\'}">\n    </div>\n    <div class="fe-olympics-interactive-card-wrapper">\n      <div class="fe-olympics-interactive-card-title" bidi="fields.topic.value | typography"></div>\n      <div class="fe-olympics-interactive-card-info" bidi="fields.subTitle.value | typography"></div>\n    </div>\n    <div class="explore-button">\n      <div class="link-text">\n        CLICK TO EXPLORE\n        <div class="open-new-window link-button"></div>\n      </div>\n    </div>\n  </a>\n</div>\n'),
a.put("/widgets_library/fe_yis_story_card_v1/views/goober_content.html",'<div class="fe-goober-container fe-goober-text-container">\n  <div class="fe-goober-card-title"\n       ng-style="{\'color\': ctrl.colors.getHexValue(fields.color.value)}">\n    {{fields.topic.value}}\n  </div>\n</div><div class="fe-goober-container fe-goober-image-container">\n  <div class="fe-goober-image-top-space">\n  </div>\n  <div class="fe-goober-card-image-wrapper">\n    \x3c!--TODO(sdimenstein): See if we can do this with ng-if.--\x3e\n    <div class="fe-goober-card-image big-image"\n         ng-style="{\'background-image\': \'url(\' + fields.largeImageUrl.value + \')\'}">\n    </div>\n    <div class="fe-goober-card-image small-image"\n         ng-style="{\'background-image\': \'url(\' + fields.storyImageURL.value + \')\'}">\n    </div>\n  </div>\n</div>\n'))}]);var xq=function(a,b,c,e,f,g,k,l,n,p){this.sparklineTicks=[];this.palette="fe_goober"==a.template||"fe_goober_embed"==a.template||"fe_goober_featured"==a.template?p.Colors.OLYMPICS_PALETTE:p.Colors.DEFAULT_PALETTE;this.colors=new p.Colors(this.palette);this.className="";this.cardContainerElement=null;p="fe_goober"==a.template||"fe_goober_embed"==a.template||"fe_goober_featured"==a.template?"https://ssl.gstatic.com/trends_tpt/cf2ffb2da25b8b7f34caa878d72871fcae956865e943dd198578e7d27d968f44.png":"https://www.gstatic.com/images/branding/googlelogo/2x/googlelogo_color_520x172dp.png";
this.document_=c;c=[{name:"topic",type:"string",placeholder:"Title",value:"Nepal earthquake",translation:{translate:!0,description:"The main title text of the widget. http://goo.gl/s4kCJr"}},{name:"color",type:"string",value:"Blue",templates:["fe_goober","fe_goober_featured","fe_goober_embed"],colorPalette:this.colors,options:this.palette.map(function(q){return q.name})},{name:"backgroundColor",type:"string",value:"White",templates:["fe_goober","fe_goober_featured","fe_goober_embed"],colorPalette:this.colors,
options:this.palette.map(function(q){return q.name})},{name:"subTitle",type:"string",placeholder:"Sub title",value:"How did the world care about Nepal",templates:["fe","fe_embed","fe_olympics","fe_olympics_embed","fe_olympics_interactive"],translation:{translate:!0,description:"The sub title text of the widget. http://goo.gl/s4kCJr"}},{name:"publishDate",type:"string",placeholder:"Publish Date",value:"April 25",templates:["fe","fe_embed","fe_olympics","fe_olympics_embed"],translation:{translate:!0,
description:"The date in which this story got published. http://goo.gl/s4kCJr"}},{name:"SearchVolume",type:"string",placeholder:"Search volume",value:"80M+",templates:["fe","fe_embed"],translation:{translate:!0,description:"The total search volume short number. http://goo.gl/s4kCJr"}},{name:"storyImageURL",type:"string",placeholder:"Image URL",imageUpload:!0,value:p,validation:[n.FIELD_VALIDATION.isHttps,n.FIELD_VALIDATION.isGstatic,n.FIELD_VALIDATION.isImageFormat]},{name:"largeImageUrl",type:"string",
placeholder:"Large Image URL",imageUpload:!0,value:"https://ssl.gstatic.com/trends_tpt/4b7ca29ff080fbb43bd95b7a80baa0333be46b1f62b0a1942182911058fcc8a7.png",templates:["fe_goober","fe_goober_embed"],validation:[n.FIELD_VALIDATION.isHttps,n.FIELD_VALIDATION.isGstatic,n.FIELD_VALIDATION.isImageFormat]},{name:"storyLinkURL",type:"string",placeholder:"Link to the story",value:"https://google.com",templates:["fe","fe_embed","fe_olympics","fe_olympics_embed","fe_olympics_interactive"]}];this.widget=new g(c,
a.isEditor);f.includes(["fe_goober","fe_goober_featured","fe_goober_embed","fe_olympics_interactive"],a.template)||(this.sparklineAPI=this.widget.registerAPI("fe_yis_story_card_sparkline","/trends/api/widgetdata/timeline/"+k.testStoryID,{req:{geo:{country:"US"},time:"2015-06-05T17\\:00\\:00 2015-06-08T11\\:25\\:00",isRealTime:!0,resolution:"FOUR_HOUR",mid:["/m/01jddz","/m/05fjf"],locale:"en"},tz:"300"},[{path:"req.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,
invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.resolution",title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" "),setValue:function(q,u){u.req.isRealTime=f.includes(["MINUTE","HOUR","FOUR_HOUR"],q);return q}},{path:"req.mid",title:"Mid",type:"list",group:"midOrQuery",groupValue:"mid",
invalidMessage:"Mid is required."},{path:"req.query",title:"Query",type:"text",group:"midOrQuery",groupValue:"query",invalidMessage:"Query is required."},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:n.TIME_ZONES,invalidMessage:"Timezone is required."}]).runInBackground().setService(f.bind(function(q,u){this.sparklineTicks=[];return l.getSparkline(q,u)},this)).middleware(f.bind(function(q){this.sparklineTicks=
q},this)));if("fe_goober"==a.template||"fe_goober_embed"==a.template)a=f.bindKey(this,"onResize_",a),angular.element(b).bind("resize",a),e(a,200)};t("$jscomp.scope.FeYisStoryCardV1Ctrl",xq,void 0);xq.$inject="$scope $window $document $timeout lodash widgetFactory globalsService storyCardSparklineService helpersFactory colorsFactory".split(" ");xq.TYPE="fe_yis_story_card";xq.DISPLAY_TYPE="Story Card";xq.VERSION=1;xq.TEMPLATES="fe fe_embed fe_goober fe_goober_featured fe_goober_embed fe_olympics fe_olympics_embed fe_olympics_interactive".split(" ");
xq.FULL_WIDTH=!0;xq.GROUP_TYPE={YIS:["fe","fe_embed"],OLY:["fe_olympics","fe_olympics_embed","fe_olympics_interactive"],OLY_GOOBERS:["fe_goober","fe_goober_featured","fe_goober_embed"]};xq.prototype.onResize_=function(a){this.className=960>=a.widgetDirectiveElement[0].clientWidth?"fe-goober-small-card":""};xq.prototype.featuredGooberTitleColor=function(){var a=this.widget.fields;return this.colors.getHexValue("White"==a.backgroundColor.value?a.color.value:a.backgroundColor.value)};
U.FeYisStoryCardV1=xq;var yq=function(a,b,c,e){var f=c.bindKey(this,"queueIteration_");this.http_=a;this.q_=b;this.lodash_=c;this.queue_=new e.Queue(f,{batchSize:1,delayTime:0,parallelBatches:4})};t("$jscomp.scope.SparklineService",yq,void 0);yq.$inject=["$http","$q","lodash","queueFactory"];d=yq.prototype;d.responseMiddleware_=function(a){this.lodash_.isObject(a)&&a["default"]&&(a=a["default"].timelineData);return a};d.responseTransform_=function(a){return this.http_.defaults.transformResponse.concat(a)};
d.timelineQuery_=function(a,b){var c=this.responseTransform_(this.lodash_.bindKey(this,"responseMiddleware_"));a=this.http_.get(a,{params:b,transformResponse:c});return this.q_.when(a)};d.getSparkline=function(a,b){return this.queue_.push({url:a,req:b}).promise};d.queueIteration_=function(a,b){a=a[0];this.timelineQuery_(a.data.url,a.data.req).then(this.lodash_.bindKey(a,"resolve"),this.lodash_.bindKey(a,"reject"))["finally"](b)};var zq=angular.module("publishAppFeYisStoryCardV1",["publishAppFramework","publishAppWidgetsFeYisStoryCardV1Views"]);zq.controller("FeYisStoryCardV1Ctrl",U.FeYisStoryCardV1);zq.service("storyCardSparklineService",yq);angular.module("publishAppWidgetsHorseraceChartV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/horserace_chart_v1/views/chart_directive.html",'<svg class="timeline-svg"\n    preserveAspectRatio="none">\n  <g class="timeline-svg-bg-lines"\n      ng-attr-stroke-width="{{ strokeSize - 0.1 }}">\n    <polyline\n        ng-repeat="i in [] | range:1:6"\n        ng-attr-points="{{ [0, i].join(\',\') }} {{ [chartSizeX, i].join(\',\') }}" />\n  </g>\n\n  <svg ng-attr-height="{{ maxViewportY + strokeSize / 2 + belowLineHeight}}"\n      ng-if="pointsSeries.length">\n    <g class="timeline-svg-color-lines"\n        ng-attr-stroke-width="{{ strokeSize }}">\n      <path ng-repeat="points in pointsSeries"\n          ng-attr-d="M{{ ::lodash.map(points, \'svgPoint\').join(\'L\') }}"\n          ng-attr-stroke="{{ colors.getHexValue(legend.items[displayedLegends[$index]].value.color) }}" />\n    </g>\n  </svg>\n\n  <g class="timeline-svg-labels">\n    <text ng-repeat="label in xAxisLabels"\n        ng-attr-x="{{ label.x }}"\n        ng-attr-y="{{ maxViewportY + 0.8 }}">\n      {{ label.text }}\n    </text>\n  </g>\n</svg>\n\n<div class="timeline-legend-item"\n    ng-repeat="displayedLegendsItem in displayedLegends | limitTo:pointsSeries.length">\n  <span ng-style="{\'background-color\':\n      colors.getHexValue(legend.items[displayedLegendsItem].value.color)}"></span>\n  {{ legend.items[displayedLegendsItem].value.value }}\n</div>\n'),
a.put("/widgets_library/horserace_chart_v1/views/content.html",'<div class="timeline-chart-fe">\n  <div class="timeline-chart-content-top-fe fe-atoms-generic-separator">\n    <ul class="timeline-y-axis-labels">\n      <li ng-repeat="legendItem in fields.legend.items | limitTo: ctrl.MAX_DISPLAYED_RESULTS"\n          ng-if="legendItem.value.value">\n        #{{ $index + 1 }}\n      </li>\n    </ul>\n    <horserace-chart\n      colors="ctrl.colors"\n      displayed-legends="ctrl.displayedLegends"\n      legend="fields.legend"\n      data="fields.data"\n      anchor="ctrl.anchor"\n      velocity="ctrl.velocity"\n      on-generate="ctrl.onChartGenerate(pointsSeries)">\n    </horserace-chart>\n  </div>\n  <div>\n    <div ng-show="ctrl.velocity === 0"\n         ng-click="ctrl.anchor = ctrl.anchor === 100 ? 0 : ctrl.anchor; ctrl.velocity = 1"\n         class="timeline-chart-fe-play-pause play-circle"></div>\n    <div ng-show="ctrl.velocity !== 0"\n         ng-click="ctrl.velocity = 0"\n         class="timeline-chart-fe-play-pause pause-circle"></div>\n    <div class="timeline-chart-fe-slider-wrapper">\n      <div class="timeline-chart-fe-slider-label">{{ ctrl.sliderLabels[0] }}</div>\n      <md-slider class="timeline-chart-fe-slider"\n                 aria-label="Position slider"\n                 min="1"\n                 max="{{ ctrl.maxSteps }}"\n                 ng-model="ctrl.sliderGetterSetter"\n                 ng-model-options="{ getterSetter: true }"\n                 ng-if="ctrl.step && ctrl.maxSteps">\n      </md-slider>\n      <div class="timeline-chart-fe-slider-label">{{ ctrl.sliderLabels[1] }}</div>\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/horserace_chart_v1/views/fe.html",'<div class="fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-atoms-generic-separator">\n    <div class="fe-atoms-generic-title">\n      {{fields.topic.value}}\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include class="embed-content" src="\'/widgets_library/horserace_chart_v1/views/content.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/horserace_chart_v1/views/fe_embed.html",
'<div class="embed-container timeline-embed" ng-init="fields = ctrl.widget.fields">\n  <div class="embed-header timeline-embed-header">\n    <div class="embed-title">\n      {{fields.topic.value}}\n    </div>\n    <div class="embed-logo">\n      <a href="/trends/{{ storyId ? \'story/\' + storyId : \'\'}}" target="_blank">\n        <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n      </a>\n    </div>\n  </div>\n  <ng-include class="embed-content" src="\'/widgets_library/horserace_chart_v1/views/content.html\'"></ng-include>\n</div>\n'))}]);var Aq,Bq,Cq,Dq=function(){this.restrict="E";this.templateUrl="/widgets_library/horserace_chart_v1/views/chart_directive.html";this.scope={colors:"=",legend:"=",data:"=",displayedLegends:"=",anchor:"=?",velocity:"=?",onGenerate:"&?"};this.viewportTemplate_=Aq.template("<%= left %> <%= top %> <%= right %> <%= bottom %>");this.link=Aq.bind(this.link,this)};d=Dq.prototype;
d.animationCycle_=function(a,b,c){a.isAnimationRequested=!1;this.isPaused(a)||(b&&c&&this.changeAnchor_(a,a.anchor+(c-b)/18E3*100*a.velocity),this.requestAnimation_(a,c))};d.changeAnchor_=function(a,b){b=Math.max(0,Math.min(b,100));a.anchor!=b&&(a.skipInputChangeCallback=!0,a.anchor=b,a.$applyAsync(),this.updateViewport_(a))};d.createLabels_=function(a){var b=a[0].length,c=Math.min(80/3.5,b);b/=c;var e=Math.ceil(b),f=[];e!=b&&(c=c*b/e,b=e);for(e=0;e<c;e++){var g=a[0][e*b];f.push({x:g.x,text:g.text})}return f};
d.createPointsSeries_=function(a){var b=[];Aq.forEach(a,function(c,e){var f=e/(a.length-1)*80,g=c.displayDate||c.date;Aq.forEach(c.values,function(k,l){b[l]||(b[l]=[]);b[l].push({x:f,y:k,svgPoint:[f,k].join(),text:g})})});return b};d.createHorserace_=function(a){var b=this,c=a.data.getValues();c=this.createPointsSeries_(c);a.pointsSeries=c;a.xAxisLabels=this.createLabels_(c);a.elements=null;if(a.onGenerate)a.onGenerate(a);Bq(function(){b.updateViewport_(a);b.requestAnimation_(a)},0)};
d.isPaused=function(a){return 0==a.velocity};
d.link=function(a,b){var c=angular.element(Cq),e=Aq.bindKey(this,"updateViewport_",a);a.lodash=Aq;a.containerElement=b;a.elements=null;a.chartSizeX=80;a.chartSizeY=10;a.maxViewportX=24;a.maxViewportY=5;a.belowLineHeight=.26;a.strokeSize=.12;a.skipInputChangeCallback=!0;a.isAnimationRequested=!1;a.svgPaths=[];a.xAxisLabels=[];Aq.defaults(a,{anchor:0,velocity:0});a.$watch("data.items",Aq.bindKey(this,"createHorserace_",a));a.$watchGroup(["anchor","velocity"],Aq.bindKey(this,"onInputChange_",a));c.bind("resize",
e);a.$on("$destroy",function(){c.unbind("resize",e)})};d.onInputChange_=function(a,b,c){a.skipInputChangeCallback?a.skipInputChangeCallback=!1:0==a.velocity?this.updateViewport_(a):0==c[1]&&0!=b[1]&&this.requestAnimation_(a)};d.requestAnimation_=function(a,b){if(!a.isAnimationRequested&&0<a.velocity&&100>a.anchor||0>a.velocity&&0<a.anchor)b=Aq.bindKey(this,"animationCycle_",a,b),a.isAnimationRequested=!0,Cq.requestAnimationFrame(b)};
d.updateViewport_=function(a){var b=this.getDomElements_(a),c=24*Math.min(b.container[0].offsetWidth/888,1),e=80*a.anchor/100;c={top:.28,left:Math.max(0,e-c),bottom:5.84,right:c};b.innerSvg.attr("width",e);b.outerSvg.attr("viewBox",this.viewportTemplate_(c));this.updateLegendPosition_(a,c)};
d.updateLegendPosition_=function(a,b){var c=this,e=this.getDomElements_(a),f=e.container[0].offsetWidth,g=e.container[0].offsetHeight;Aq.forEach(e.paths,function(k,l){if(l=e.legend[l]){k=c.getPathPointByAnchor_(k,a.anchor);var n="",p="";5.38>=k.y&&(n=g*(k.y-b.top)/b.bottom+"px",p=(b.right-b.left>k.x?f*(k.x-b.left)/b.right:f)+"px");l.style.top=n;l.style.left=p}})};
d.getDomElements_=function(a){if(!a.elements){var b=a.containerElement,c=b.find("svg").eq(0);a.elements={container:b,innerSvg:c.find("svg"),legend:b[0].querySelectorAll(".timeline-legend-item"),outerSvg:c,paths:c[0].querySelectorAll("path")}}return a.elements};
d.getPathPointByAnchor_=function(a,b){var c=a.getTotalLength();if(0==b)var e=a.getPointAtLength(0);else if(100==b)e=a.getPointAtLength(c);else{var f=b/100*80;e=c-80;b=Math.max(0,b/100*c);c=e/500;var g=b-e,k=b+e;do{b=(g+k)/2;e=a.getPointAtLength(b);if(Math.abs(e.x-f)<=c)break;e.x<f?g=b:e.x>f&&(k=b)}while(g<k)}return e};var Eq=function(a,b,c,e){Cq=b;Bq=c;Aq=e;return new Dq};t("$jscomp.scope.directiveInjector$jscomp$20",Eq,void 0);Eq.$inject="$document $window $timeout lodash globalsService helpersFactory".split(" ");var Gq=function(a,b,c,e,f,g){this.lodash_=b;this.colors=new c.Colors(a.palette||c.Colors.SOCIAL_PALETTE);this.displayedLegends=[0,1,2,3,4];this.MAX_DISPLAYED_RESULTS=5;c=[{name:"topic",type:"string",placeholder:"Title",value:"Oscars 2016 - Top best picture searches",translation:{translate:!0,description:"Title of the horse race widget."}},{name:"legend",type:"list",subtype:"map",keys:["index","value","color"],maxLimit:15,colorPalette:this.colors,keysConfig:{index:{gridSpan:2,label:!0},value:{gridSpan:10},
color:{gridSpan:12,options:b.map(this.colors.palette_,function(k){return{name:k.name,value:k.name}})}},values:[{index:1,value:"Bridge of Spies",color:"Blue"},{index:2,value:"The Revenant",color:"Red"},{index:3,value:"The Big Short",color:"Yellow"},{index:4,value:"The Martian",color:"Green"},{index:5,value:"Mad Max: Fury Road",color:"Purple"},{index:6,value:"Brooklyn",color:"Teal"},{index:7,value:"Room",color:"Orange"},{index:8,value:"Spotlight",color:"Olive"},{index:9,value:"",color:"Dark Blue"},
{index:10,value:"",color:"Pink"}]},{name:"data",type:"list",subtype:"map",visible:!1,keys:["date","displayDate","values"],csvKeys:["date","displayDate"].concat(b.map(b.range(1,11),function(k){return"value"+k})),csvGetter:b.bindKey(this,"csvGetter_"),csvSetter:b.bindKey(this,"csvSetter_"),values:Fq}];this.widget=new f(c,a.isEditor);f="/trends/api/widgetdata/multiline/"+g.testStoryID;this.widgetAPI_=this.widget.registerAPI("horse_race_top","/trends/api/widgetdata/topmultiline/"+g.testStoryID,{req:{multilineRequest:{requestOptions:{backend:"CM"},
time:"now 60-M",resolution:"MINUTE",locale:"en-US",dataMode:"RANKINGS",comparisonItem:[{phrase:"Bridge of Spies",geo:{country:"US"}},{phrase:"The Revenant",geo:{country:"US"}},{phrase:"The Big Short",geo:{country:"US"}},{phrase:"The Martian",geo:{country:"US"}},{phrase:"Mad Max Fury Road",geo:{country:"US"}},{phrase:"Brooklyn",geo:{country:"US"}},{phrase:"Room",geo:{country:"US"}},{phrase:"Spotlight",geo:{country:"US"}}]},topLimit:this.MAX_DISPLAYED_RESULTS},tz:"300"},[{path:"req.multilineRequest.time",
title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.multilineRequest.resolution",title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},{path:"req.multilineRequest.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"req.multilineRequest.dataMode",title:"DataMode",type:"text",invalidMessage:"DataMode is required.",hidden:!0},{path:"req.multilineRequest.requestOptions.backend",
title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.multilineRequest.comparisonItem.0.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.multilineRequest.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(k){for(var l=[],n=0;n<k.length;n++)l.push(k[n].phrase);
return l},setValue:function(k,l){var n=[];l=l.req.multilineRequest.comparisonItem?l.req.multilineRequest.comparisonItem[0].geo.country:!1;for(var p=0;p<k.length;p++)n.push(!1===l?{phrase:k[p]}:{phrase:k[p],geo:{country:l}});return n}},{path:"tz",title:"Timezone",type:"select",options:e.TIME_ZONES,invalidMessage:"Timezone is required."},{path:"req.topLimit",setValue:function(k,l,n){return l.req.multilineRequest.comparisonItem.length>n.api.ctrl.MAX_DISPLAYED_RESULTS?n.api.ctrl.MAX_DISPLAYED_RESULTS:
l.req.multilineRequest.comparisonItem.length}}]).middleware(b.bindKey(this,"middleware_")).setCtrl(this);this.widgetApiOld_=this.widget.registerAPI("horse_race",f,{req:{requestOptions:{backend:"CM"},time:"now 60-M",resolution:"MINUTE",locale:"en-US",dataMode:"RANKINGS",comparisonItem:[{phrase:"Bridge of Spies",geo:{country:"US"}},{phrase:"The Revenant",geo:{country:"US"}},{phrase:"The Big Short",geo:{country:"US"}},{phrase:"The Martian",geo:{country:"US"}},{phrase:"Mad Max Fury Road",geo:{country:"US"}},
{phrase:"Brooklyn",geo:{country:"US"}},{phrase:"Room",geo:{country:"US"}},{phrase:"Spotlight",geo:{country:"US"}}]},tz:"300"},[{path:"req.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.resolution",title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"req.dataMode",title:"DataMode",
type:"text",invalidMessage:"DataMode is required.",hidden:!0},{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem.0.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",
getValue:function(k){var l=[];k=h(k);for(var n=k.next();!n.done;n=k.next())l.push(n.value.phrase);return l},setValue:function(k,l){var n=[];l=l.req.multilineRequest.comparisonItem?l.req.multilineRequest.comparisonItem[0].geo.country:null;k=h(k);for(var p=k.next();!p.done;p=k.next())p=p.value,n.push(l?{phrase:p}:{phrase:p,geo:{country:l}});return n}},{path:"tz",title:"Timezone",type:"select",options:e.TIME_ZONES,invalidMessage:"Timezone is required."}]).middleware(b.bindKey(this,"middleware_")).setShowInEditor(!1);
this.csvField=this.widget.fields.data;this.initialAnchor_=100;this.initialVelocity_=0;this.velocity=this.maxSteps=this.step=this.anchor=this.previousData_=null;this.sliderLabels=[];this.seriesPoints_=[];a.$watch("ctrl.anchor",b.bindKey(this,"anchorChangeHandler_"))};t("$jscomp.scope.HorseraceChartV1Ctrl",Gq,void 0);Gq.$inject="$scope lodash colorsFactory helpersFactory widgetFactory globalsService".split(" ");Gq.TYPE="horserace_chart";Gq.DISPLAY_TYPE="Horse Race";Gq.VERSION=1;Gq.TEMPLATES=["fe","fe_embed"];
Gq.FULL_WIDTH=!0;Gq.GROUP_TYPE="FE";
var Fq=[{date:"Feb 22 2015",displayDate:"Feb 2015",values:[8,5,6,1,2,4,3,7]},{date:"Mar 01 2015",values:[8,5,6,1,2,4,3,7]},{date:"Mar 08 2015",values:[8,5,6,1,2,4,3,7]},{date:"Mar 15 2015",values:[7,6,5,2,1,4,3,8]},{date:"Mar 22 2015",values:[8,6,5,2,1,4,3,7]},{date:"Mar 29 2015",values:[7,6,5,2,1,4,3,8]},{date:"Apr 05 2015",values:[7,6,5,2,1,4,3,8]},{date:"Apr 12 2015",values:[7,6,5,2,1,4,3,8]},{date:"Apr 19 2015",values:[7,5,6,2,1,4,3,8]},{date:"Apr 26 2015",values:[8,5,6,2,1,4,3,7]},{date:"May 03 2015",
values:[8,5,6,2,1,4,3,7]},{date:"May 10 2015",values:[8,6,5,2,1,4,3,7]},{date:"May 17 2015",values:[8,6,5,2,1,4,3,7]},{date:"May 24 2015",values:[8,6,5,2,1,4,3,7]},{date:"May 31 2015",values:[3,7,6,2,1,5,4,8]},{date:"Jun 07 2015",values:[4,6,7,2,1,5,3,8]},{date:"Jun 14 2015",values:[6,7,5,2,1,4,3,8]},{date:"Jun 21 2015",values:[7,6,5,2,1,4,3,8]},{date:"Jun 28 2015",values:[7,6,5,2,1,4,3,8]},{date:"Jul 05 2015",values:[7,5,6,2,1,4,3,8]},{date:"Jul 12 2015",values:[7,2,6,3,1,5,4,8]},{date:"Jul 19 2015",
values:[6,2,7,3,1,5,4,8]},{date:"Jul 26 2015",values:[8,4,7,2,1,5,3,6]},{date:"Aug 02 2015",values:[5,4,8,2,1,6,3,7]},{date:"Aug 09 2015",values:[6,4,7,2,1,5,3,8]},{date:"Aug 16 2015",values:[6,4,7,2,1,5,3,8]},{date:"Aug 23 2015",values:[7,4,6,3,1,5,2,8]},{date:"Aug 30 2015",values:[6,4,7,3,1,5,2,8]},{date:"Sep 06 2015",values:[4,5,7,3,1,6,2,8]},{date:"Sep 13 2015",values:[4,5,8,2,1,6,3,7]},{date:"Sep 20 2015",values:[5,6,4,2,1,7,3,8]},{date:"Sep 27 2015",values:[5,4,6,1,2,7,3,8]},{date:"Oct 04 2015",
values:[4,5,7,1,2,6,3,8]},{date:"Oct 11 2015",values:[2,5,7,1,3,6,4,8]},{date:"Oct 18 2015",values:[2,5,8,1,3,6,4,7]},{date:"Oct 25 2015",values:[2,5,8,1,3,7,4,6]},{date:"Nov 01 2015",values:[2,7,8,1,3,6,4,5]},{date:"Nov 08 2015",values:[2,7,8,1,3,6,5,4]},{date:"Nov 15 2015",values:[2,7,8,1,3,5,6,4]},{date:"Nov 22 2015",values:[5,6,8,1,4,2,7,3]},{date:"Nov 29 2015",values:[7,2,5,1,3,4,8,6]},{date:"Dec 06 2015",values:[8,3,1,2,4,5,6,7]},{date:"Dec 13 2015",values:[8,1,2,3,4,5,6,7]},{date:"Dec 20 2015",
values:[7,1,2,3,4,6,5,8]},{date:"Dec 27 2015",values:[7,2,1,3,4,6,5,8]},{date:"Jan 03 2016",values:[7,1,2,3,4,6,5,8]},{date:"Jan 10 2016",values:[8,1,3,2,4,6,5,7]},{date:"Jan 17 2016",values:[7,1,3,2,4,6,5,8]},{date:"Jan 24 2016",values:[7,1,3,2,4,6,5,8]},{date:"Jan 31 2016",values:[4,1,2,3,5,8,6,7]},{date:"Feb 07 2016",values:[3,1,4,2,5,7,6,8]},{date:"Feb 14 2016",displayDate:"Feb 2016",values:[1,2,3,4,5,6,7,8]}];d=Gq.prototype;d.anchorChangeHandler_=function(a){100===a&&(this.velocity=0);this.updateSlider_(a)};
d.csvGetter_=function(a){return a=a.map(function(b){for(var c={date:b.date,displayDate:b.displayDate,values:[]},e=0;10>e;e++){var f=b["value"+(e+1)];f&&(c.values[e]=parseInt(f))}return c})};d.csvSetter_=function(a){var b=this;a.values=a.values.map(function(c){var e=b.lodash_.pick(c,"date","displayDate");c.values.forEach(function(f,g){e["value"+(g+1)]=f});return e},this);return a};
d.middleware_=function(a,b,c){a["default"].multilineResponse?(b=a["default"].multilineResponse.timelineData,this.displayedLegends=a["default"].topIndex):(b=a["default"].timelineData,this.displayedLegends=[0,1,2,3,4,5,6,7,8,9,10,11]);var e=c&&this.previousData_?this.lodash_.last(this.previousData_).date:0,f=[];b.forEach(function(g){g.time>e&&f.push({date:g.time,displayDate:g.formattedAxisTime,values:g.value})});a=f.length;if(e){if(0===a)return;f=this.lodash_.rest(this.previousData_,a).concat(f);this.initialAnchor_=
Math.max(0,Math.min(100,(this.anchor/100*(f.length-1)-a)/(f.length-1)*100));this.initialVelocity_=100==this.anchor?1:this.velocity}else this.initialAnchor_=100,this.initialVelocity_=0;this.previousData_=f;this.widgetAPI_.runInBackground();this.widgetApiOld_.runInBackground();return{data:f}};d.onChartGenerate=function(a){var b=a[0];this.seriesPoints_=a;this.maxSteps=10*b.length;this.sliderLabels=[b[0].text,b[b.length-1].text];this.anchor=this.initialAnchor_;this.velocity=this.initialVelocity_;this.updateSlider_(this.anchor)};
d.setAnchorByStep_=function(a){var b=this.seriesPoints_[0];this.anchor=100*b[Math.ceil(a/10)-1].x/b[b.length-1].x};d.sliderGetterSetter=function(a){this.lodash_.isUndefined(a)||(this.step=a,this.velocity=0,this.setAnchorByStep_(a));return this.step};d.updateSlider_=function(a){this.maxSteps&&(this.step=Math.max(1,a/100*this.maxSteps))};U.HorseraceChartV1=Gq;var Hq=angular.module("publishAppHorseraceChartV1",["publishAppFramework","publishAppWidgetsHorseraceChartV1Views"]);Hq.controller("HorseraceChartV1Ctrl",U.HorseraceChartV1);Hq.directive("horseraceChart",Eq);angular.module("publishAppWidgetsViews",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_image_v1/views/fe.html",'<div class="fe-atoms-generic-container fe-image"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-image-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-image-header-title">{{fields.topic.value | typography}}</div>\n  </div>\n  <div class="fe-image-container"\n       ng-style = "{ \'background-image\': \'url(\' +fields.imageURL.value + \')\'}">\n    <div class="fe-image-text">\n      <div class="fe-image-title" id="image-title">{{fields.title.value}}</div>\n      <div class="fe-image-detail-container">\n        <div id="image-createdBy">{{fields.createdBy.value}}</div>\n        <div id="image-publishDate">{{fields.publishDate.value}}</div>\n      </div>\n    </div>\n    <a class="fe-image-link" id= "image-link" ng-href="{{fields.interactLink.value}}"\n       target = "_blank">\n      {{fields.btnLabel.value}}\n    </a>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_image_v1/views/fe_featured_homepage.html",'<div class="fe-featured-homepage-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-image-container"\n       ng-style = "{\'background-image\': \'url(\' + fields.imageURL.value + \')\'}">\n  </div>\n</div>\n'),a.put("/widgets_library/fe_related_topics_v1/views/fe.html",'<div class="fe-related-topics-wrapper"\n     ng-init="fields = ctrl.widget.fields"\n     ng-if="ctrl.widget.fields.bullets.getValues().length">\n  <div class="fe-related-topics-header">\n    {{fields.topic.value}}\n  </div>\n  <div class="fe-related-topics-content">\n    <a class="fe-related-topics-item"\n        href="{{item.value.link}}"\n        track="[\'Widget\', type, item.value.text]"\n        ng-repeat="item in fields.bullets.items track by $index"\n        ng-if="item.value.text && item.value.desc">\n      <div class="fe-related-topics-title"\n           title="{{item.value.text}}">\n        {{item.value.text}}\n      </div>\n      <div class="fe-related-topics-subtitle"\n           title="{{item.value.desc}}">{{item.value.desc}}</div>\n    </a>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_text_v1/views/fe.html",'<div class="fe-text fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-content-container">\n    <i class="material-icons-extended size-80-40 gray-alert center" ng-if="ctrl.alertIcon">\n      {{ctrl.alertIcon}}\n    </i>\n    <pre bidi="fields.content.value" ng-class="{\'alert-text\': ctrl.alertIcon}">\n      {{fields.content.value}}\n    </pre>\n  </div>\n</div>\n'),a.put("/widgets_library/fe_text_v1/views/fe_centered_note.html",
'<div class="fe-text fe-atoms-generic-container fe-centered-note-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-content-container">\n    <span class="fe-centered-note-container-content" bidi="fields.content.value">\n    {{fields.content.value}}</span>\n    <a ng-if="fields.url.value" href="{{fields.url.value}}" target="_blank">\n      LEARN MORE</a>\n  </div>\n</div>\n'),a.put("/widgets_library/fe_text_v1/views/fe_elections_compare.html",'<div class="fe-text fe-atoms-generic-container fe-elections-compare-container"\n     ng-init="fields = ctrl.widget.fields">\n  <a class="fe-atoms-generic-content-container"\n     ng-href="{{fields.url.value}}"\n     target="_blank">\n    <span class="fe-elections-compare-container-content"\n          bidi="fields.content.value">\n      {{fields.content.value}}\n    </span>\n    <div ng-if="fields.url.value"\n         class="arrow-forward">\n    </div>\n  </a>\n</div>\n'),
a.put("/widgets_library/fe_text_v1/views/fe_explore.html",'<div class="fe-text fe-atoms-generic-container fe-explore-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-content-container">\n    <span class="fe-explore-container-content" bidi="fields.content.value">\n    {{fields.content.value}}</span>\n    <a ng-if="fields.url.value" href="{{fields.url.value}}" target="_blank">\n    Learn More</a>\n  </div>\n</div>\n'),a.put("/widgets_library/fe_text_v1/views/fe_explore_note.html",
'<div class="fe-text fe-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-content-container fe-explore-note-container">\n    <i class="material-icons-extended gray">error</i>\n    <div class="explore-note-container">\n      <div class="explore-note-text-container">\n        <div class="explore-note">Note:</div>\n        <span class="fe-explore-note-text" bidi="fields.content.value">\n        {{fields.content.value}}</span>\n      </div>\n      <a ng-if="fields.url.value" href="{{fields.url.value}}" target="_blank">\n        LEARN MORE</a>\n    </div>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_text_v1/views/fe_yis.html",'<div class="fe-text fe-atoms-generic-container fe-yis-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-content-container">\n    <pre bidi="fields.content.value" ng-bind-html="fields.content.value"></pre>\n  </div>\n</div>\n'),a.put("/widgets_library/fe_text_v1/views/fe_yis_related.html",'<div class="fe-text fe-yis-related-container"\n     ng-init="fields = ctrl.widget.fields">\n  <div>\n    <pre bidi="fields.content.value">{{fields.content.value}}</pre>\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_top_charts_v1/views/fe.html",'<div class="fe-text fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-content-container fe-top-charts-container">\n    <div class="title-text-wrapper">\n      <h1>{{fields.topic.value}}</h1>\n    </div>\n    <a class="fe-top-charts-btn save" href="{{fields.url.value}}"\n        track="[\'Widget\', type]">\n      {{fields.buttonText.value}}\n    </a>\n  </div>\n</div>\n'),a.put("/widgets_library/fe_top_charts_v1/views/fe_olympics.html",
'<div ng-init="fields = ctrl.widget.fields">\n  <div class="fe-top-charts-olympics-container">\n    <a class="fe-top-charts-btn save" href="{{fields.url.value}}" track="[\'Widget\', type]">\n      {{fields.buttonText.value}}\n    </a>\n  </div>\n</div>\n'),a.put("/widgets_library/fe_yis_download_v1/views/fe.html",'<div class="fe-download fe-atoms-generic-container" ng-init="fields = ctrl.widget.fields">\n  <a class="block-link" ng-href="{{fields.download_url.value}}" target="_blank">\n    <div class="download-button inline-block-image"></div>\n    <div class="download-text">{{fields.topic.value}}</div>\n  </a>\n</div>\n'))}]);var Iq=function(a,b,c){this.helpers_=c;this.widget=new b([{name:"topic",type:"string",placeholder:"Topic",value:"Interactive Map",translation:{translate:!0,description:"The topic text of the widget. http://goo.gl/0i9psE"}},{name:"title",type:"string",placeholder:"Title",value:"Most searched candidate by area: last six months",translation:{translate:!0,description:"The title text of the widget. http://goo.gl/0i9psE"}},{name:"interactLink",type:"string",placeholder:"Link for interact",value:"https://www.google.com"},
{name:"createdBy",type:"string",placeholder:"Created By",value:"Created by the Google News lab using CartoDB",translation:{translate:!0,description:"The created by text of the widget. http://goo.gl/0i9psE"}},{name:"publishDate",type:"string",placeholder:"Publish Date",value:"Published on Jul 6, 2015",translation:{translate:!0,description:"The publish date text of the widget. http://goo.gl/0i9psE"}},{name:"imageURL",type:"string",placeholder:"Image URL",value:"https://www.gstatic.com/images/branding/googlelogo/2x/googlelogo_color_520x172dp.png",
imageUpload:!0,validation:[c.FIELD_VALIDATION.isHttps,c.FIELD_VALIDATION.isGstatic,c.FIELD_VALIDATION.isImageFormat]},{name:"btnLabel",type:"string",placeholder:"Button Label",value:"CLICK HERE TO INTERACT",translation:{translate:!0,description:"The interaction button text of the widget. http://goo.gl/0i9psE"}}],a.isEditor)};t("$jscomp.scope.FeImageV1Ctrl",Iq,void 0);Iq.$inject=["$scope","widgetFactory","helpersFactory"];Iq.TYPE="fe_image";Iq.DISPLAY_TYPE="Image FE";Iq.VERSION=1;Iq.TEMPLATES=["fe"];
Iq.FULL_WIDTH=!0;Iq.HIDE_IN_EDITOR=!1;Iq.GROUP_TYPE="FE";U.FeImageV1=Iq;var Kq=function(a,b,c,e,f,g,k){var l=this;this.http_=f;this.q_=g;this.lodash_=b;this.globalsService_=k;this.widget=new c([{name:"topic",type:"string",placeholder:"Title",value:"Related Topics",translation:{translate:!0,description:"Title of the widget. http://goo.gl/5kJG0y"}},{name:"bullets",type:"list",subtype:"map",maxLimit:5,keys:["text","desc","link"],notification:"",keysConfig:{text:{gridSpan:12},desc:{gridSpan:12},link:{gridSpan:12}},values:Jq,translation:{translate:!0,keys:[{name:"text",description:"The title text of each list item.http://goo.gl/5kJG0y"},
{name:"desc",description:"The subtitle text of each list item.http://goo.gl/5kJG0y"}]}}],a.isEditor);this.trackingService=e;this.csvField=this.widget.fields.bullets;a=b.bindKey(this,"setService_");b=b.bindKey(this,"middleware_");this.widget.registerAPI("fe_relatedtopics","/trends/api/widgetdata/relatedtopics/"+this.globalsService_.testStoryID,{req:{geo:{country:"US"},mid:["/m/015nr6"],time:"2015-06-06T17\\:00\\:00 2015-06-08T12\\:55\\:00",locale:"en"}},[{path:"req.geo.country",title:"Country",type:"text",
matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.mid",title:"Mid",type:"list",group:"midOrQuery",groupValue:"mid",invalidMessage:"Mid is required."},{path:"req.query",title:"Query",type:"text",group:"midOrQuery",groupValue:"query",invalidMessage:"Query is required."},{path:"req.locale",title:"Locale",type:"text",
invalidMessage:"Locale is required."}]).setService(a).middleware(b).toggle(function(n){l.widget.fields.bullets.config.translation.translate=!n})};t("$jscomp.scope.FeRelatedTopicsV1Ctrl",Kq,void 0);Kq.$inject="$scope lodash widgetFactory trackingService $http $q globalsService".split(" ");Kq.prototype.setService_=function(a,b){return this.q_.when(this.http_.get(a,{params:b}))};
Kq.prototype.middleware_=function(a){a=this.lodash_.map(a["default"].topics,function(b){return{text:b.topic.title,desc:b.topic.type,link:b.link}});this.widget.fields.bullets.maxLimit=Math.min(a.length,5);return{bullets:a}};
var Jq=[{text:"Paris",desc:"Capital of France",link:"/trends/explore#q=paris"},{text:"Magazine",desc:"Website category",link:"/trends/explore#q=magazine"},{text:"Shooting",desc:"Disaster type",link:"/trends/explore#q=shooting"},{text:"Francois Hollande",desc:"President of France",link:"/trends/explore#q=Francois%20Hollande"},{text:"Terrorism Massacre",desc:"Type of criminal act",link:"/trends/explore#q=Terrorism%20Massacre"}];Kq.TYPE="fe_related_topics";Kq.VERSION=1;Kq.DISPLAY_TYPE="Related Topics";
Kq.FULL_WIDTH=!0;Kq.HIDE_IN_EDITOR=!1;Kq.GROUP_TYPE="FE";Kq.TEMPLATES=["fe"];U.FeRelatedTopicsV1=Kq;var Lq=function(a,b){this.scope=a;this.widget=new b([{name:"topic",type:"string",placeholder:"Widget name",value:"Text widget"},{name:"content",type:"string",placeholder:"Content",textarea:!0,value:"Cupcake ipsum dolor sit. Amet I love liquorice jujubes pudding croissant I love pudding. Apple pie macaroon toffee jujubes pie tart cookie applicake caramels. Halvah macaroon I love lollipop. Wypas I love pudding brownie cheesecake tart jelly-o. Bear claw cookie chocolate bar jujubes toffee.",translation:{translate:!0,
description:"The content of text widget. http://goo.gl/F1l3uP"}},{name:"url",type:"string",placeholder:"Link URL",value:"",templates:["fe_explore","fe_elections_compare","fe_centered_note"]}],a.isEditor);this.alertIcon=this.getAlertIcon_(this.scope.id)};t("$jscomp.scope.FeTextV1Ctrl",Lq,void 0);Lq.$inject=["$scope","widgetFactory"];Lq.prototype.getAlertIcon_=function(a){switch(a){case "rt_note":return"error";case "worldwide_note":case "backends_note":return"warning";default:return""}};Lq.TYPE="fe_text";
Lq.VERSION=1;Lq.DISPLAY_TYPE="Text widget";Lq.FULL_WIDTH=!0;Lq.GROUP_TYPE={ELE:["fe_elections_compare","fe_centered_note"],FE:["fe","fe_explore","fe_explore_note"],OLY:["fe_explore","fe_yis"],YIS:["fe_yis","fe_yis_related"]};Lq.TEMPLATES="fe fe_elections_compare fe_centered_note fe_explore fe_explore_note fe_yis fe_yis_related".split(" ");U.FeTextV1=Lq;var Mq=function(a,b){this.widget=new b([{name:"topic",type:"string",placeholder:"",value:"Top Charts",translation:{translate:!0,description:"The title text of the widget. https://goo.gl/AOOYil"}},{name:"buttonText",type:"string",placeholder:"",value:"VIEW THE LISTS",translation:{translate:!0,description:"The link button text. https://goo.gl/AOOYil"}},{name:"url",type:"string",placeholder:"",value:"/trends/topcharts"}],a.isEditor)};t("$jscomp.scope.FeTopChartsV1Ctrl",Mq,void 0);
Mq.$inject=["$scope","widgetFactory"];Mq.TYPE="fe_top_charts";Mq.VERSION=1;Mq.DISPLAY_TYPE="Top Charts";Mq.FULL_WIDTH=!0;Mq.GROUP_TYPE={YIS:["fe"],OLY:["fe_olympics"]};Mq.TEMPLATES=["fe","fe_olympics"];U.FeTopChartsV1=Mq;var Nq=function(a,b){this.widget=new b([{name:"topic",type:"string",placeholder:"",value:"DOWNLOAD THIS DATA",translation:{translate:!0,description:"The download action text of the widget. http://goo.gl/YnXwI7"}},{name:"download_url",type:"string",placeholder:"",textarea:!0,value:"https://www.google.com"}],a.isEditor)};t("$jscomp.scope.FeYisDownloadV1Ctrl",Nq,void 0);Nq.$inject=["$scope","widgetFactory"];Nq.TYPE="fe_yis_download";Nq.VERSION=1;Nq.DISPLAY_TYPE="Download";Nq.FULL_WIDTH=!0;
Nq.GROUP_TYPE="YIS";Nq.TEMPLATES=["fe"];U.FeYisDownloadV1=Nq;var Oq=angular.module("publishAppWidgets",["ngRoute","ngSanitize","ngAnimate","ngMaterial","publishAppFramework",No.name,So.name,Wo.name,Yo.name,tp.name,wp.name,Bp.name,Kp.name,Pp.name,Rp.name,Tp.name,aq.name,hp.name,gq.name,jq.name,sq.name,wq.name,zq.name,Hq.name,oq.name,"publishAppWidgetsViews"]);Oq.controller("FeImageV1Ctrl",U.FeImageV1);Oq.controller("FeRelatedTopicsV1Ctrl",U.FeRelatedTopicsV1);Oq.controller("FeTextV1Ctrl",U.FeTextV1);Oq.controller("FeTopChartsV1Ctrl",U.FeTopChartsV1);
Oq.controller("FeYisDownloadV1Ctrl",U.FeYisDownloadV1);Oq.factory("widgetsControllers",function(){return U});t("userfeedback.api.startFeedback",function(a,b,c){a.timeOfStartCall=(new Date).getTime();var e=c||r,f=e.document,g=a.nonce||va(e);g&&!a.nonce&&(a.nonce=g);if("help"==a.flow){var k=xa("document.location.href",e);!a.helpCenterContext&&k&&(a.helpCenterContext=k.substring(0,1200));k=!0;if(b&&JSON&&JSON.stringify){var l=JSON.stringify(b);(k=1200>=l.length)&&(a.psdJson=l)}k||(b={invalidPsd:!0})}b=[a,b,c];e.GOOGLE_FEEDBACK_START_ARGUMENTS=b;c=a.serverUri||"//www.google.com/tools/feedback";if(k=e.GOOGLE_FEEDBACK_START)k.apply(e,
b);else{e=c+"/load.js?";for(var n in a)b=a[n],null==b||Ca(b)||(e+=encodeURIComponent(n)+"="+encodeURIComponent(b)+"&");a=vg(f).createElement("SCRIPT");g&&a.setAttribute("nonce",g);g=new Nb(Lb,e);tb(a,"HTMLScriptElement");a.src=Ob(g);(g=va())&&a.setAttribute("nonce",g);f.body.appendChild(a)}},void 0);var Pq,Qq=function(a){this.nodesByID_={};this.rawData_=[];a&&this.generate(a)};Qq.prototype.generate=function(a){if(Pq.isArray(a)){var b={};Pq.forEach(a,function(c){Pq.isObject(c)&&(Pq.isString(c.id)||Pq.isNumber(c.id))&&(b[c.id]=c)});this.nodesByID_=b;this.rawData_=a}else console.warn("OrderedDict: called generate with invalid input")};Qq.prototype.iterator=function(){return this.rawData_};Qq.prototype.getNodeByID=function(a){return this.nodesByID_[a]};
var Rq=function(a){this.nodesByID_={};this.searchRegexString_="";this.rootNodes_=[];this.rootNode=null;a&&this.generate(a)};y(Rq,Qq);var Sq=/^(?:(\w+)-)(?:\w+-)?(\d+)$/;
Rq.prototype.generate=function(a){if(Pq.isPlainObject(a)){var b={},c=[],e=[];this.iterateTree_(a,function(f){var g=Pq.isString(f.id)?f.id.match(Sq):null;f.parent||c.push(f);b[f.id]=f;g&&(b[g[2]]=f,b[[g[1],g[2]].join("-")]=f);e.push(f.id+":"+f.name)});this.nodesByID_=b;this.searchRegexString_=e.join(";");this.rootNodes_=c;this.rootNode=a}else console.warn("DataTree: called generate with invalid input")};
Rq.prototype.getNodesByQuery=function(a,b){a=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");a=new RegExp("([^;]*):("+a+"|([^;]*\\s"+a+"))","gi");for(var c=[],e={},f;null!==(f=a.exec(this.searchRegexString_))&&(c.length<b||!Pq.isNumber(b));)if(f=f[1],!e[f]){var g=this.nodesByID_[f];g?(c.push(g),e[f]=!0):console.warn("DataTree: Node "+f+" is missing.")}return c};
Rq.prototype.iterator=function(a){Pq.isString(a)&&(a=this.getNodeByID(a));if(!a||a===this.rootNode)return this.rootNodes_;a=Pq.clone(a);a.isRoot=!0;return[a].concat(a.children)};
Rq.prototype.iterateTree_=function(a,b){var c=[{nodes:[a],parent:null,parentsIds:[]}];a=0;do{var e=c[a++],f=e.parent,g=e.parentsIds;Pq.forEach(e.nodes,function(k){var l=k.id;k.favorite||(k.parent=f,k.parentsIds=g,Pq.isString(l)&&(k.id=f&&f.id?[f.id,l].join("-"):l),b(k),k.children&&c.push({nodes:k.children,parent:l?k:null,parentsIds:l?g.concat([l]):g}))})}while(a<c.length)};var Tq=function(a){Pq=a;return{DataTree:Rq,OrderedDict:Qq}};t("$jscomp.scope.CollectionsService",Tq,void 0);Tq.$inject=["lodash"];var Uq=function(a,b,c,e,f,g,k){this.yisGeoPickerPerYear=a.yisGeoPickerPerYear;this.yisYearPickerPerGeo=a.yisYearPickerPerGeo;this.location_=k;this.injector_=c;this.enableWidgetShare=!!a.enableWidgetShare;this.pathPrefix=a.pathPrefix||"/trends";this.staticPathPrefix=a.staticPathPrefix||"/trends/static";this.staticResourceVersion=a.staticResourceVersion||"1";this.countiesStaticPathPrefix=a.countiesStaticPathPrefix||"/trends/static";this.jsResourcePathPrefix=a.jsResourcePathPrefix||"/trends/js";this.cssResourcePathPrefix=
a.cssResourcePathPrefix||"/trends/css";this.searchApiPath=a.searchApiPath||"/trends/api/autocomplete/";this.locale=a.locale||"en-US";this.userTimezoneOffset=(new Date).getTimezoneOffset();this.userEmail=a.userEmail;this.yisDefaultGeo=a.yisDefaultGeo||"GLOBAL";this.defaultGeoId=a.defaultGeo||"US";this.defaultCategoryId="all";this.dialogOpen=!1;this.docElement=angular.element(b[0].documentElement);this.availableYisYears=this.getAvailableYisYearsByGeoId_(this.getYisGeo());aa=f;var l=g.translate("MSG_GOOGLE_TRENDS");
e.$watch("pageTitle",function(n){return b[0].title=n?n+" - "+l:l})};t("$jscomp.scope.ConfigService",Uq,void 0);Uq.$inject="$window $document $injector $rootScope $log translationService $location".split(" ");d=Uq.prototype;d.updateAvailableYisYearsByGeo=function(a){this.availableYisYears=this.getAvailableYisYearsByGeoId_(a.id)};d.getAvailableYisYearsByGeoId_=function(a){return this.yisYearPickerPerGeo&&this.yisYearPickerPerGeo[a]};d.toggleDocClass=function(a,b){this.docElement.toggleClass(a,b)};
d.appendLocaleToURI=function(a){return this.appendQueryStringToURI(a,"hl",this.locale)};d.appendQueryStringToURI=function(a,b,c){var e=/\?([^#]*)(#.*)?$/;return e.test(a)?a.replace(e,"?$1&"+b+"="+c+"$2"):a+"?"+b+"="+c};d.requestInterceptor=function(a){-1<a.url.indexOf("/api/")&&(a.url=this.appendLocaleToURI(a.url),a.url=this.appendQueryStringToURI(a.url,"tz",this.userTimezoneOffset));return a};
d.embedRequestInterceptor=function(a,b){-1<b.url.indexOf("/api/")&&(a=this.injector_.get("helpersFactory").parseQueryStrings(a.location.search).ts)&&(b.url+="?ts="+a);return b};d.getCurrentGeoIdFromUrlParams=function(){return this.location_.search().geo};d.getYisParams_=function(a){a=void 0===a?this.location_.path():a;return(a=a.match(/\/yis\/(\d{4})\/?(GLOBAL|[A-Za-z]{2})?/i))?{yisYear:a[1],yisGeo:a[2]}:null};d.getYisYear=function(a){return(a=this.getYisParams_(a))?a.yisYear:void 0};
d.getYisGeoOptions=function(){var a=this.getYisYear();return this.yisGeoPickerPerYear[a]};d.getYisLocale=function(){return window.locale||"en"};d.getCurrentYisGeoIdFromPathParams=function(){var a=this.getYisParams_(this.location_.path());a=a&&a.yisGeo;return this.getAvailableYisYearsByGeoId_(a)?a:null};d.getYisGeo=function(){return this.getCurrentYisGeoIdFromPathParams()||this.yisDefaultGeo};
d.getYisGeoName=function(){var a=this.getYisGeo();if("GLOBAL"===a)return null;var b=this.getYisGeoOptions().find(function(c){return c.id===a});return b?b.name:""};var Vq=function(a,b){b=void 0===b?{}:b;this.logger_={log:aa,allow:{nameSpace:!1,storeParams:!1,showLogs:!!window.location.hostname.match(/localhost|ws.tlv.corp.google.com/),log:!1,info:!1,warn:!0,error:!0,debug:!1}};this.scope=a;this.logger_.allow.showLogs&&(b.debug=!0,b.storeParams=!0);this.update(b)};
Vq.prototype.update=function(a){function b(e,f){return"undefined"===typeof e?f:e}a=a||{};var c=this.logger_.allow;c.nameSpace=a.nameSpace||c.nameSpace;!c.nameSpace instanceof RegExp&&(c.nameSpace=!1);c.log=b(a.log,c.log);c.info=b(a.info,c.info);c.warn=b(a.warn,c.warn);c.error=b(a.error,c.error);c.debug=b(a.debug,c.debug);c.showLogs=b(a.showLogs,c.showLogs);c.storeParams=b(a.storeParams,c.storeParams)};
Vq.prototype.puts=function(a,b){b=Array.isArray(b)?b:[b];var c=this.puts.caller,e=this.scope.constructor.name,f=Math.floor(Date.now()/1E3);b=Object.assign([],b);b.push(c);b.push(f);b.unshift(this.scope);var g=this.logger_.allow;c=g.showLogs&&g[a]&&r.console;g=g.nameSpace;var k=g instanceof RegExp&&e.match(g);if(c&&(k||!g))this.logger_.log[a](b);this.logger_.allow.storeParams&&(window.putsLogger=window.putsLogger||{},window.putsLogger[e]=window.putsLogger[e]||{},window.putsLogger[e][f]=window.putsLogger[e][f]||
[],window.putsLogger[e][f].push(b))};Uq.prototype.DebugLogger=Vq;var Wq,Xq,Yq,Zq,$q=function(){this.restrict="E";this.templateUrl="/components/embed/embed-code-preview-directive.html";this.scope={storyId:"=",widgetId:"=",exploreParams:"=",exploreQuery:"=?",keepDataUpdated:"=",isLiveDataSupported:"=",timeRange:"=?",timestamp:"=?",geo:"@"};this.liveTimeRange=null;this.link=Wq.bind(this.link,this)};
$q.prototype.link=function(a,b){var c=Xq.jsResourcePathPrefix,e=/^https?:\/\//i.test(c);a.COPY_EVENT="copy";a.CLICK_EVENT="click";a.loaderScriptPathPrefix=(e?"":this.getSitePath_())+c;a.$applyAsync(function(){var f=b.find("textarea");f.bind("click",function(){f[0].select()})});a.yisYear=Xq.getYisYear();a.getWidgetConfig=Wq.bindKey(this,"getWidgetConfig_",a);a.trackEmbedPreviewEvent=function(f){Yq._gaq.push(["_trackEvent","Embed code preview",f,this.$parent.widgetId])}};
$q.prototype.getWidgetConfig_=function(a){var b={};a.geo&&(b.geo=a.geo);if(a.storyId)a.keepDataUpdated||(b.timeStamp=a.timestamp),a.yisYear&&(b.geo=Xq.getYisGeo());else if(a.exploreQuery){a.exploreParams.comparisonItem[0].time!=a.timeRange&&(this.liveTimeRange=a.exploreParams.comparisonItem[0].time);for(var c=a.exploreParams.comparisonItem.length,e=0;e<c;e++)a.keepDataUpdated&&a.isLiveDataSupported?a.exploreParams.comparisonItem[e].time=this.liveTimeRange:void 0!=a.timeRange&&(a.exploreParams.comparisonItem[e].time=
a.timeRange);c=a.exploreParams.comparisonItem.map(function(k){return k.time}).join(",");e=a.exploreQuery.split("&").filter(function(k){return-1!==k.indexOf("date")});if(0===e.length){var f="&date="+c;a.exploreQuery+=f;e.push(f)}e=e[0].match(/date=(...*)/);var g=c.split(",");f=g.every(function(k){return k===g[0]});b.exploreQuery=f?a.exploreQuery:a.exploreQuery.replace(e[1],c)}/www\.google\.com$/.test(Zq.host())||(b.guestPath=this.getSitePath_()+Xq.pathPrefix+"/embed/");return b};
$q.prototype.getSitePath_=function(){var a=80===Zq.port()?"":":"+Zq.port();return Zq.protocol()+"://"+Zq.host()+a};var ar=function(a,b,c,e){Zq=a;Yq=b;Wq=c;Xq=e;return new $q};t("$jscomp.scope.directiveInjector$jscomp$21",ar,void 0);ar.$inject=["$location","$window","lodash","configService"];var br=/^2(\d){3}$/,cr=function(a,b,c,e,f,g,k,l,n,p,q,u){this.mdDialog_=a;this.storyId=b;this.widgetId=c;this.exploreParams=e;this.timestamp=f;this.timeRange=g;this.hasExternalApi=k;this.keepDataUpdated=!0;this.isCurated=n||this.storyId&&this.storyId.match(br);this.exploreQuery=p;this.geo=q;this.wideView=u;this.isLiveDataSupported=this.isLiveDataSupported_();this.showLiveDataCheckbox=l&&this.isLiveDataSupported};t("$jscomp.scope.EmbedDialogCtrl",cr,void 0);cr.$inject="$mdDialog storyId widgetId exploreParams timestamp timeRange hasExternalApi showLiveDataCheckbox isCurated exploreQuery geo wideView".split(" ");
cr.prototype.isLiveDataSupported_=function(){return this.isCurated?this.hasExternalApi:!this.isExplorePageAndNotTimeSpecific_()};cr.prototype.isExplorePageAndNotTimeSpecific_=function(){var a=/today|now/ig;return this.exploreParams&&!(a.test(this.exploreParams.comparisonItem[0].time)&&this.timeRange)};cr.prototype.cancelDialog=function(){this.mdDialog_.cancel()};cr.prototype.setSelectedTab=function(a){this.activeTab=a};var dr,er,fr,gr,hr=function(){this.restrict="E";this.template="<div></div>";this.scope={storyId:"=",widgetId:"=",exploreParams:"=",timestamp:"=",forceMobileMode:"=",exploreQuery:"=?",geo:"@"};this.isIE_=-1!==dr.navigator.userAgent.search("MSIE")||-1!==dr.navigator.userAgent.search("Trident");this.link=er.bind(this.link,this)};
hr.prototype.link=function(a,b){var c={forceMobileMode:a.forceMobileMode,isPreviewMode:!0,guestPath:fr.pathPrefix+"/embed/",locale:fr.locale,timestamp:a.timestamp,exploreQuery:a.exploreQuery,geo:a.geo};gr(function(){var e=fr.getYisYear();a.exploreParams?Va(b[0],a.widgetId,a.exploreParams,c):e?(c.geo=fr.getYisGeo(),Ta(b[0],a.widgetId,c,e)):Sa(b[0],a.storyId,a.widgetId,c)},this.isIE_?2E3:1)};var ir=function(a,b,c,e){dr=a;gr=b;er=c;fr=e;return new hr};
t("$jscomp.scope.directiveInjector$jscomp$22",ir,void 0);ir.$inject=["$window","$timeout","lodash","configService"];var jr=function(a,b){return{restrict:"E",scope:{list:"<",title:"@",selectedTab:"<"},templateUrl:"/components/feed/feed-item-carousel-directive/feed-item-carousel-directive.html",link:function(c,e){return jr.prototype.link(c,e,a,b)}}};jr.prototype.link=function(a,b,c,e){var f=this;if(e.isSmallDisplayWidth)a.atomWidth="264px";else{var g=angular.element(c),k=function(){return f.onResize(a,b)};g.bind("resize",k);k();a.$on("$destroy",function(){return g.unbind("resize",k)})}};
jr.prototype.onResize=function(a,b){b=b.children()[0].clientWidth;a.numberOfViewableItems=776<=b?2.5:1.5;a.atomWidth=Math.floor(b/a.numberOfViewableItems)+"px"};jr.$inject=["$window","globalsService"];var kr=function(a,b,c,e,f,g,k,l,n,p,q,u,x,w,D){this.scope_=a;this.mdDialog_=b;this.mdBottomSheet_=c;this.carousel=f;this.chips=g;this.index=n;this.titleArray=u;this.share=q;this.currentFeedItemType=k;this.FeedItemType=l;this.timelineWidget=x;this.timeRange=w;this.searchCountMsg=D.translate("SEARCH_COUNT",{count:p});this.handleScroll=this.handleScroll_.bind(this);this.style={title:{opacity:this.calcOpacity_(0)},toolbar:{"box-shadow":this.calcShadow_(0)}};this.handleLocationChange_(e)};d=kr.prototype;
d.close=function(){this.mdDialog_.hide()};d.closeShareBottomSheet=function(){this.mdBottomSheet_.cancel()};d.handleScroll_=function(a){this.style.title.opacity=this.calcOpacity_(a);this.style.toolbar["box-shadow"]=this.calcShadow_(a)};d.calcShadow_=function(a){return"0 "+Math.min(a/40,3)+"px "+Math.min(a/20,4)+"px 0 rgba(0,0,0,0.12)"};d.calcOpacity_=function(a){return Math.min(a/100,1)};
d.handleLocationChange_=function(a){var b=this;a=a.$on("$locationChangeStart",function(c){c.preventDefault();b.close()});this.scope_.$on("$destroy",a)};kr.$inject="$scope $mdDialog $mdBottomSheet $rootScope carousel chips currentFeedItemType FeedItemType index searchCount share titleArray timelineWidget timeRange translationService".split(" ");var nr=function(a,b,c,e,f,g,k,l,n,p,q,u,x,w,D){this.rootScope_=a;this.scope_=b;this.timeout_=c;this.globalsService_=e;this.configService_=f;this.mdDialog_=g;this.shareService_=k;this.sparklineService=l;this.storyService_=n;this.http_=p;this.location_=u;this.trackingService_=x;this.window_=w;this.feedService_=q;this.showItemHeaderElements=!0;this.showItemBody=!1;this.feedItemTemplate=null;this.arrowIconUrl=this.configService_.staticPathPrefix+"/ic_keyboard_arrow_down_gray_48px.svg";this.isItemExpanded=
!1;this.blockAnimations=!0;this.noTransitions={transition:"unset"};this.sparklineConfig=lr;this.FeedItemType=mr;this.timelineWidget=null;this.storyTimeRange="";this.shouldAutoExpand=!1;this.currentFeedItemType=this.scope_.storyId?this.FeedItemType.REALTIME:this.FeedItemType.DAILY;this.relatedQueriesApi_=this.configService_.pathPrefix+"/api/widgetdata/relatedqueries";this.isTextRtlInLtrPage=!D.isPageRtl()&&D.hasAnyRtl(b.subtitles.articleSourceAndTime);this.init()};d=nr.prototype;
d.init=function(){var a=this;this.setTemplate_();this.scope_.$watch("ctrl.globalsService_.isSmallDisplayWidth",function(){return a.setTemplate_()});this.scope_.$on("feed-item-selected",function(c,e){return a.closeItemsByScope_(e)});this.getStory_(this.scope_.storyId);var b=this.location_.hash();this.getItemId_()===b&&(this.currentFeedItemType===this.FeedItemType.DAILY?this.selectAndScroll_():this.shouldAutoExpand=!0)};
d.toggleItem=function(a){a=void 0===a?null:a;a&&"A"===a.target.tagName||(this.blockAnimations=!1,this.getStory_(this.scope_.storyId),this.isItemExpanded||this.rootScope_.$broadcast("feed-item-selected",{id:this.scope_.$id}),a=!this.isItemExpanded,this.trackingService_.trackEvent("Trending Searches "+this.currentFeedItemType,"click",a?"expand":"collapse"),this.toggleItemAnimationFirstStep_(a))};
d.closeItemsByScope_=function(a){this.scope_.$id!==a&&this.isItemExpanded&&(this.toggleItem(),this.feedService_.isOtherItemExpanded=!0)};
d.showDialog=function(){var a=this,b=Object.assign({locals:{carousel:this.scope_.carousel,chips:this.scope_.chips,currentFeedItemType:this.currentFeedItemType,FeedItemType:this.FeedItemType,index:this.scope_.index,searchCount:this.scope_.searchCount,titleArray:this.scope_.titleArray,timelineWidget:this.timelineWidget,storyId:this.scope_.storyId,timeRange:this.storyTimeRange,share:function(c){return a.share(c)}}},or);this.mdDialog_.show(b)};
d.share=function(a){this.shareService_.openModal(this.scope_.shareUrl);a.stopPropagation()};d.getItemId_=function(){return this.currentFeedItemType===this.FeedItemType.REALTIME?this.scope_.storyId:this.scope_.titleArray[0].text};d.scrollToElement_=function(){var a=this.currentFeedItemType===this.FeedItemType.REALTIME?593:203,b="feed-item-"+this.getItemId_(),c=document.getElementById(b).getClientRects()[0];window.innerHeight>c.top+c.height+a||this.rootScope_.$emit("manual-scroll",{elementId:b,yOffset:16})};
d.toggleItemAnimationFirstStep_=function(a){var b=this;a?(this.isItemExpanded=!0,this.showItemHeaderElements=!1,this.timeout_(function(){b.scrollToElement_();b.feedService_.isOtherItemExpanded=!0},this.feedService_.isOtherItemExpanded?337.5:168.75)):this.showItemBody=this.feedService_.isOtherItemExpanded=!1;this.timeout_(function(){return b.toggleItemAnimationSecondStep_(a)},18.75)};
d.toggleItemAnimationSecondStep_=function(a){var b=this;this.timeout_(function(){a?b.showItemBody=!0:(b.isItemExpanded=!1,b.showItemHeaderElements=!0)},0)};d.setTemplate_=function(){this.feedItemTemplate=this.globalsService_.isSmallDisplayWidth?"/components/feed/feed-item-directive/feed-item-template-small-screen.html":"/components/feed/feed-item-directive/feed-item-template-large-screen.html"};
d.getStory_=function(a){var b=this;a&&!this.timelineWidget&&this.storyService_.getStory(a).then(function(c){b.storyTimeRange=c.data.timeRange;var e=h(b.feedService_.getWidgetDataFromStory(c.data));var f=e.next().value;var g=e.next().value;e=e.next().value;b.timelineWidget=f;b.setStoryRelatedQueries_(g);b.scope_.carousel=e?b.feedService_.formatCarousel(e.articles):[];b.scope_.titleArray=b.feedService_.getTitleFromStory(c.data)})};
d.setStoryRelatedQueries_=function(a){var b=this;a?this.http_.post(this.relatedQueriesApi_,a.request,{params:{token:a.token,lq:!0}}).then(function(c){b.scope_.chips=b.feedService_.formatChips(c.data["default"].queries);b.shouldAutoExpand&&(b.shouldAutoExpand=!1,b.isItemExpanded||b.selectAndScroll_())}):this.scope_.chips=[]};
d.selectAndScroll_=function(){var a=this,b="feed-item-"+this.getItemId_();this.toggleItem();this.timeout_(function(){a.rootScope_.$emit("manual-scroll",{elementId:b,yOffset:16})},0)};nr.$inject="$rootScope $scope $timeout globalsService configService $mdDialog shareService trendingStorySparklineService storyService $http feedService $location trackingService $window bidiService".split(" ");
var or={controller:"FeedItemDialogController",controllerAs:"ctrl",fullscreen:!0,hasBackdrop:!1,templateUrl:"/components/feed/feed-item-dialog/feed-item-dialog.html"},lr={desktop:{thickness:2,width:88,height:29},mobile:{thickness:2,width:60,height:20}},mr={DAILY:"daily",REALTIME:"realtime"};var pr=function(a,b){return{controller:nr,controllerAs:"ctrl",restrict:"E",scope:{imageUrl:"@",imageSource:"@",index:"@",searchCount:"@",subtitles:"<",titleArray:"<",chips:"<",carousel:"<",shareUrl:"@",storyId:"@?"},templateUrl:"/components/feed/feed-item-directive/feed-item-directive.html",link:function(c){c.carousel&&c.carousel.list&&c.carousel.list.forEach(function(e){return e.sanitizedTitle=angular.element("<div>"+e.title+"</div>").text()});c.subtitles&&c.subtitles.articleTitle&&(c.subtitles.sanitizedArticleTitle=
angular.element("<div>"+c.subtitles.articleTitle+"</div>").text(),c.subtitles.titleDir=b.isTextRtl(c.subtitles.sanitizedArticleTitle)?"rtl":"ltr");c.searchCountMsg=a.translate("SEARCH_COUNT",{count:c.searchCount})}}};pr.$inject=["translationService","bidiService"];var qr=function(a,b,c,e){this.translationService_=a;this.globalsService_=c;this.utilsService_=e;this.isOtherItemExpanded=!1;this.emptyImageUrl_=""};d=qr.prototype;
d.formatDailyTrendingSearches=function(a){var b=this;return a.map(function(c){var e=c.articles[0],f=b.getImageFieldsValues_(c);c={titleArray:[{text:c.title.query,link:c.title.exploreLink,hoverMessage:b.translationService_.translate("EXPLORE_TOPIC",{topic:c.title.query})}],subtitles:{articleTitle:e.title,articleSourceAndTime:b.translationService_.translate("SOURCE_AND_TIME",{source:e.source,timeAgo:e.timeAgo}),articleUrl:e.url},searchCount:c.formattedTraffic,chips:b.formatChips(c.relatedQueries),carousel:b.formatCarousel(c.articles),
shareUrl:c.shareUrl};return b.globalsService_.immutableMerge(c,f)})};
d.formatRealTimeTrendingSearches=function(a){var b=this;return a.map(function(c){var e=c.articles[0],f=b.getImageFieldsValues_(c);c={titleArray:c.entityNames.map(function(g){return{text:g}}),subtitles:{articleTitle:e.articleTitle,articleSourceAndTime:b.translationService_.translate("SOURCE_AND_TIME",{source:e.source,timeAgo:e.time}),articleUrl:c.image?c.image.newsUrl:""},chips:[],carousel:[],shareUrl:c.shareUrl,storyId:c.id};return b.globalsService_.immutableMerge(c,f)})};
d.formatChips=function(a){a=a.map(function(b){return{title:b.query,link:b.exploreLink||b.link}});return{title:this.translationService_.translate("MSG_RELATED_QUERIES"),list:a}};
d.formatCarousel=function(a){var b=this;a=a.map(function(c){var e=b.getImageFromArticle_(c);return{imgUrl:e,imageSource:c.image?c.image.source:c.source,shouldShowImageSource:e!==b.emptyImageUrl_,title:c.title,subtitles:b.translationService_.translate("SOURCE_AND_TIME",{source:c.source,timeAgo:c.timeAgo||c.time}),exploreUrl:c.url}});return{title:this.translationService_.translate("MSG_RELATED_NEWS"),list:a}};
d.getImageFieldsValues_=function(a){var b=a.image&&(a.image.imgUrl||a.image.imageUrl)?a.image.imgUrl||a.image.imageUrl:this.emptyImageUrl_;return{imageUrl:b,imageSource:a.image?a.image.source:"",shouldShowImageSource:b!==this.emptyImageUrl_}};d.getImageFromArticle_=function(a){return(a.image?a.image.imageUrl:a.imageUrl)||this.emptyImageUrl_};
d.getWidgetDataFromStory=function(a){var b=a.widgetIds.findIndex(function(f){return"TIMESERIES"===f}),c=a.widgetIds.findIndex(function(f){return"RELATED_QUERIES"===f}),e=a.widgetIds.findIndex(function(f){return"NEWS_ARTICLE"===f});return[a.widgets[b],a.widgets[c],a.widgets[e]]};d.getTitleFromStory=function(a){var b=this;return this.utilsService_.zipWith(a.entityNames,a.entityExploreLinks,function(c,e){return{text:c,link:e,hoverMessage:b.translationService_.translate("EXPLORE_TOPIC",{topic:c})}})};
qr.$inject=["translationService","configService","globalsService","utilsService"];var rr=function(a,b){this.window_=a;this.config_=b};t("$jscomp.scope.FeedbackService",rr,void 0);rr.$inject=["$window","configService"];rr.prototype.sendFeedback=function(){try{this.window_.userfeedback.api.startFeedback({productId:"84900",productVersion:"narrator v1.0",locale:this.config_.locale})}catch(a){}return!1};var sr=function(a,b,c,e){this.mdDialog=a;this.backButtonIcon=b.staticPathPrefix+"/ic_arrow_back_24px.svg";this.filterOptions=c;this.filterTypes=e;this.dialogTitle="Filter";this.numberOfFilters=this.filterOptions.length;1===this.numberOfFilters&&this.changeSelectedFilter(this.filterOptions[0])};d=sr.prototype;d.isFilterSelectionPage=function(){return this.filterOptions.every(function(a){return!a.isFilterSelected})};d.getDialogTitle_=function(a){return a===this.filterTypes.GEO?"Filter country":"Filter category"};
d.changeSelectedFilter=function(a){this.dialogTitle=this.getDialogTitle_(a.filterType);a.isFilterSelected=!0};d.cancelDialogWithCallback=function(a,b){this.mdDialog.cancel();b.selectedValue=a;b.updateFilterCallback(a)};d.goBackToFilterSelectionPage_=function(){this.filterOptions.forEach(function(a){return a.isFilterSelected=!1});this.dialogTitle="Filter"};d.handleBackButtonClick=function(){this.isFilterSelectionPage()||1===this.numberOfFilters?this.mdDialog.cancel():this.goBackToFilterSelectionPage_()};
sr.$inject=["$mdDialog","configService","filterOptions","filterTypes"];var tr=function(a,b,c,e,f,g,k,l){var n=this;this.scope=a;this.location=c;this.routeParams=e;this.mdDialog=f;this.config=g;this.trackingService_=l;this.isLargeDisplayWidth=k.isLargeDisplayWidth;this.categories=b.catPicker;this.supportedGeos_=a.geoOptions||b.geoPicker;this.displayedGeos=(this.supportedGeos_||[]).slice(0);this.window_=b;this.onCategoryChangeBind=function(p){return n.onCategoryChange_(p)};this.onGeoChangeBind=function(p){n.removeUnsupportedGeoFromDisplayedGeosList_();n.onGeoChange_(p)};
this.filterOptions=this.createFilterOptions_();this.iconNameMobile=this.scope.iconNameMobile||"filter_list"};d=tr.prototype;d.onCategoryChange_=function(a){this.trackingService_.trackEvent("Filter","selected category",a.name);this.scope.onCategoryChange(a)};d.onGeoChange_=function(a){this.trackingService_.trackEvent("Filter","selected geo",a.name);this.scope.onGeoChange(a)};d.getFilterValue_=function(a,b){return a.find(function(c){return c.id===b})};
d.removeUnsupportedGeoFromDisplayedGeosList_=function(){this.displayedGeos.length!==this.supportedGeos_.length&&-1===this.supportedGeos_.indexOf(this.displayedGeos[0])&&this.displayedGeos.splice(0,1)};d.createCategoryFilter_=function(){var a=this.getFilterValue_(this.categories,this.routeParams.category||this.config.defaultCategoryId);return{isFilterSelected:!1,options:this.categories,selectedValue:a,title:"Category",filterType:"category",updateFilterCallback:this.onCategoryChangeBind}};
d.createGeoFilter_=function(){var a=this.routeParams.geo||this.config.defaultGeoId,b=this.getFilterValue_(this.displayedGeos,a);if(!b){var c=this.getFilterValue_(this.window_.allCountriesGeoPicker,a);c&&(this.displayedGeos.unshift(c),b=this.getFilterValue_(this.displayedGeos,a))}return{isFilterSelected:!1,options:this.displayedGeos,selectedValue:b,title:"Country",filterType:"geo",updateFilterCallback:this.onGeoChangeBind}};
d.createFilterOptions_=function(){var a=[];this.scope.hasCategory&&a.push(this.createCategoryFilter_());this.scope.hasGeo&&a.push(this.createGeoFilter_());return a};d.showMobileFilterDialog=function(){this.mdDialog.show({controller:"FilterDialogCtrl",controllerAs:"ctrl",templateUrl:"/components/filter/filter-dialog.html",locals:{filterOptions:this.filterOptions,filterTypes:ur}})};tr.$inject="$scope $window $location $routeParams $mdDialog configService globalsService trackingService".split(" ");
var ur={CATEGORY:"category",GEO:"geo"};var vr=function(a,b,c,e,f,g,k){this.scope_=a;this.configService_=e;this.modalService_=b;this.lodash_=c;this.selectedGeo=f;this.onFiltersPick_=g;this.location_=k};t("$jscomp.scope.YisFilterDialogCtrl",vr,void 0);vr.$inject="$scope $mdDialog lodash configService currentSelectedGeo onFiltersPick $location $window".split(" ");vr.prototype.hideModal=function(){this.modalService_.hide();this.scope_.$destroy()};
vr.prototype.setSelectedGeo=function(a){a.supported&&(this.selectedGeo=a,this.onFiltersPick_(a),this.hideModal())};vr.prototype.isSelectedGeo=function(a){return this.selectedGeo===a};vr.prototype.showModal=function(){this.yisGeoOptions=this.configService_.getYisGeoOptions();this.modalService_.show({controller:this.lodash_.constant(this),controllerAs:"ctrl",scope:this.scope_,templateUrl:"/components/filter/yis-filter-dialog.html",clickOutsideToClose:!0,preserveScope:!0})};var wr,xr,yr,zr,Ar=function(){this.restrict="E";this.templateUrl="/components/filter/yis-filter-directive.html";this.scope={selectedGeo:"="};this.yisDefaultGeoId=window.yisDefaultGeo||"GLOBAL";this.logger_=new wr.DebugLogger(this);this.link=this.link_.bind(this)};
Ar.prototype.link_=function(a){a.globalsService=xr;a.staticPathPrefix=wr.staticPathPrefix;a.selectedGeo=this.getSelectedGeoById_(a.selectedGeo.id||this.yisDefaultGeoId);a.showYisCountryFilterDialogBind=yr.bindKey(this,"showYisCountryFilterDialog",a)};Ar.prototype.getSelectedGeoById_=function(a){var b=wr.getYisGeoOptions().find(function(c){return c.id===a});this.logger_.puts("debug",[b]);return b};
Ar.prototype.showYisCountryFilterDialog=function(a){zr("YisFilterDialogCtrl",{$scope:a.$new(),onFiltersPick:function(b){a.selectedGeo=b},currentSelectedGeo:a.selectedGeo}).showModal()};var Br=function(a,b,c,e,f,g){zr=a;yr=b;wr=f;xr=g;return new Ar};t("$jscomp.scope.directiveInjector$jscomp$23",Br,void 0);Br.$inject="$controller lodash $mdDialog $location configService globalsService".split(" ");var Cr,Dr=function(){this.restrict="E";this.scope={errorMessage:"=",isEmptyState:"="};this.templateUrl="/components/layout/error-directive.html";this.link=Cr.bind(this.link,this)};Dr.prototype.link=function(){};var Er=function(a){Cr=a;return new Dr};t("$jscomp.scope.directiveInjector$jscomp$24",Er,void 0);Er.$inject=["lodash"];var Fr=function(a,b,c){this.scope_=a;this.configService=b;this.feedbackService=c};Fr.$inject=["$scope","configService","feedbackService"];var Gr,Hr,Ir,Jr=function(){this.restrict="E";this.templateUrl="/components/layout/grid-directive.html";this.scope={gridContentArray:"=",storyTimestamp:"=",storyId:"=",fadingOut:"="};this.numberOfColumns=3;this.link=this.link_.bind(this)};
Jr.prototype.generateYisWidgetShareTitle=function(a){var b=Gr.getYisGeoName(),c=Gr.getYisYear();c={widgetShareTitle:a,date:c};b?(a=Hr.isCurrentYearShowingTrendingSearches()?"See the top trending {widgetShareTitle} in {geoName} for {date}, from Google Trends":"See the most searched {widgetShareTitle} in {geoName} for {date}, from Google Trends",c.geoName=b):a=Hr.isCurrentYearShowingTrendingSearches()?"See the top trending {widgetShareTitle} globally for {date}, from Google Trends":"See the most searched {widgetShareTitle} globally for {date}, from Google Trends";
return(new sd(a)).format(c)};Jr.prototype.link_=function(a){a.generateYisWidgetShareTitleBind=this.generateYisWidgetShareTitle.bind(this);var b=this.updateNumberOfColumnsByScreenWidth_.bind(this,a);angular.element(Ir).bind("resize",b);this.updateNumberOfColumnsByScreenWidth_(a);a.$watch("gridContentArray",this.createGridContentMatrix_.bind(this,a),!0)};Jr.prototype.updateNumberOfColumnsByScreenWidth_=function(a){var b=Ir.innerWidth,c=3;808>b?c=1:808<=b&&1211>=b&&(c=2);this.numberOfColumns=c;this.createGridContentMatrix_(a)};
Jr.prototype.createGridContentMatrix_=function(a){var b=this,c=[];(a.gridContentArray||[]).forEach(function(e,f){f%=b.numberOfColumns;c[f]=c[f]||[];c[f].push(e)});a.gridContentMatrix=c};var Kr=function(a,b,c){Ir=a;Gr=b;Hr=c;return new Jr};t("$jscomp.scope.directiveInjector$jscomp$25",Kr,void 0);Kr.$inject=["$window","configService","yisService"];var Lr=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/components/layout/header-directive.html";this.transclude=!0;this.scope={pageTitle:"@?",pageSubtitle:"@?",backgroundImage:"@?",enableSearch:"=?",enableScrollOpacity:"@?",bodyScroll:"=?",shareConfig:"=?",isHomePage:"=",pageLayout:"=?",storyPromise:"=?",parentStoryId:"=?",contentOverlap:"@?",backgroundColor:"@?",hideFeedbackButton:"<?",enableGeoPicker:"=?",onGeoChange:"&?",isNewBreakpointsRange:"<?",exploreBarInputText:"=?"};
this.oneGoogleElement_=null;this.headerHeight_=0;this.controller=function(c,e){return b.call(a,c,e)};this.controller.$inject=["$scope","$rootScope"]};d=Lr.prototype;
d.controller=function(a,b){a.isImageLoaded=!1;a.showShadow=!1;a.hideHeaderContent=!1;a.feedback=Mr;a.isIE10=Nr.isIE10;a.isDesktopWidth=Nr.isDesktopMode;a.isOneGoogleEmailMode=!1;a.bodyScroll=a.bodyScroll||0;a.contentOverlap=a.contentOverlap||0;a.enableSearch=angular.isUndefined(a.enableSearch)||a.enableSearch;a.showMobileStoryVersionDialog=Or.showMobileStoryVersionDialog;a.backColorRulesBind=function(){return Or.getBackgroundColorRules(a)};a.storyPromise&&a.storyPromise.then(function(c){return Or.loadLayoutFromStory(c,
a)});a.isYisPage=Nr.isYisPage(Pr.location.pathname);a.triggerToggleSidenav=function(){return b.$broadcast("toggleSidenav")};a.triggerOpenAutocompleteDialog=function(){return b.$broadcast("openAutocompleteDialog")}};
d.link=function(a,b){var c=this;this.headerHeight_=b[0].offsetHeight;this.setEventListeners_(a,b);a.isHomePage&&(a.geoOptions=Nr.getGeoPicker(Nr.geoPickerOptions.ALL_COUNTRIES),a.onGeoChange=function(e){return a.$emit("headerGeoChange",e)});this.addGoogleOneBar_(a,b);a.$watch("shareConfig",function(){return Or.updateHideShareButtonYis(a)});a.$watch(function(){return b[0].offsetHeight},function(){return c.headerHeight_=b[0].offsetHeight});a.blockButtonsInHeaderOnScroll=!Or.isElectionsStory(a.pageLayout)&&
!Qr.getYisYear();a.$watch("pageLayout",function(e){a.blockButtonsInHeaderOnScroll=!Or.isElectionsStory(e)&&!Qr.getYisYear()})};d.addGoogleOneBar_=function(a,b){a.isNewBreakpointsRange?Nr.isLargeDisplayWidth&&angular.element(b[0].querySelector("#onebar-container")).append(this.detachOneGoogleElement_(a)):!a.isHomePage&&Nr.isDesktopMode&&angular.element(b[0].querySelector("#onebar-container")).append(this.detachOneGoogleElement_(a))};
d.setEventListeners_=function(a,b){var c=this,e=b.find("img"),f=function(){c.headerHeight_=b[0].offsetHeight;Or.onImageLoad(a)},g=this.onScrollGenerator_(a,b);e.on("load",f);Rr.on("scroll",g);a.$on("$destroy",function(){e.off("load",f);Rr.off("scroll",g)})};d.onScrollGenerator_=function(a){var b=this,c=Rr[0].querySelector(".header-topbar").offsetHeight;return Sr.throttle(function(){return window.requestAnimationFrame(function(){return Or.onScroll(a,b.headerHeight_,c)})},16)};
d.detachOneGoogleElement_=function(a){if(!this.oneGoogleElement_&&(this.oneGoogleElement_=angular.element(Rr[0].getElementById("one-google")).detach(),this.oneGoogleElement_.length)){var b=angular.element(this.oneGoogleElement_[0].querySelector("#gb > div > div > div:last-child > div:first-child a"));a.isOneGoogleEmailMode=!(!b.find("span")||!b.text())}return this.oneGoogleElement_};var Mr,Nr,Or,Pr,Qr,Rr,Sr,Tr=function(a,b,c,e,f,g,k,l){Pr=a;Rr=b;Nr=l.getYisYear()?c:e;Qr=l;Mr=f;Or=g;Sr=k;return new Lr};
Tr.$inject="$window $document globalsYisService globalsService feedbackService headerService utilsService configService".split(" ");var Zr=function(a,b,c,e,f,g,k){Ur=a;Vr=a.getYisYear()?e:c;Wr=f;Xr=g;Yr=k};d=Zr.prototype;d.shouldHideHeaderContent=function(a,b){var c=Xr.pageLayouts,e=a.pageLayout===c.YEAR_IN_SEARCH_2015_HUB;return a.bodyScroll>(a.pageLayout===c.YEAR_IN_SEARCH_2015_STORY||e?b/5:0)};d.onImageLoad=function(a){a.isImageLoaded=!0;a.$applyAsync()};
d.onScroll=function(a,b,c){if(!Ur.dialogOpen){var e=this.getScrollArea_(b,c,a.contentOverlap);a.bodyScroll=this.getPageYOffset_();a.hideHeaderContent=this.shouldHideHeaderContent(a,b);a.showShadow=this.shouldShowShadow_(b,c,a.bodyScroll);a.imageOpacityPercentage=a.bodyScroll/e;a.bottomMargin=this.calculateHeaderBottomMargin_(a,e);a.isHomePage&&(b=Vr.isSmallDisplayWidth?196:274,a.shadowValue=this.calcShadowValue_(a.bodyScroll,b),a.shouldShowExploreBar=a.bodyScroll>=b);a.$$phase||a.$apply()}};
d.calcShadowValue_=function(a,b){b=-4+8*Math.min(a/b,1);0===a&&(b=-8);return"0 "+b+"px 8px rgba(0, 0, 0, .28)"};d.calculateHeaderBottomMargin_=function(a,b){return Math.min(a.contentOverlap/b*a.bodyScroll,a.contentOverlap)};d.getScrollArea_=function(a,b,c){return 121>=a?a-9:a-(Vr.isDesktopMode?b:c)};d.shouldShowShadow_=function(a,b,c){return 121>=a?a-9<=c:a-b<=c};
d.isElectionsStory=function(a){var b=Xr.pageLayouts;return!!a&&[b.ELECTIONS_2016_HUB_PRESIDENT,b.ELECTIONS_2016_HUB_VP,b.ELECTIONS_2016_HUB_TICKET,b.ELECTIONS_2016_STATE_STORY,b.ELECTIONS_2016_CANDIDATE_STORY].includes(a)};d.getPageYOffset_=function(){return 1===Yr.pageYOffset?0:Yr.pageYOffset};d.showMobileStoryVersionDialog=function(){Wr.show({controller:"StoryVersionDialogCtrl",controllerAs:"ctrl",templateUrl:"/storypage/storypage-version-mobile-dialog.html"})};
d.loadLayoutFromStory=function(a,b){a=a.data.pageLayout;var c=Xr.pageLayouts;b.isEmptyStory=a===c.EMPTY_STORY;b.isYisHub=a===c.YEAR_IN_SEARCH_2015_HUB;b.isYisStory=a===c.YEAR_IN_SEARCH_2015_STORY;b.isYisGoobers=a===c.OLYMPICS_2016_GOOBERS};d.updateHideShareButtonYis=function(a){var b=void 0!==Ur.getYisYear();a.hideShareButtonYis=Vr.isDesktopMode&&b};d.getBackgroundColorRules=function(a){return this.isElectionsStory(a.pageLayout)?"#607D8B":a.backgroundColor?a.backgroundColor:"#4285F4"};
Zr.$inject="configService $document globalsService globalsYisService $mdDialog storyService $window".split(" ");var Ur,Vr,Wr,Xr,Yr;var $r,as,bs=function(){this.restrict="E";this.templateUrl="/components/layout/loader-directive.html";this.link=$r.bind(this.link,this)};bs.prototype.link=function(a){a.isMobile=this.isMobile_()};bs.prototype.isMobile_=function(){return/iP(hone|od|ad)|Android/.test(as.navigator.userAgent)};var cs=function(a,b){as=a;$r=b;return new bs};t("$jscomp.scope.directiveInjector$jscomp$26",cs,void 0);cs.$inject=["$window","lodash"];var ds=function(a){return{restrict:"A",scope:{},link:function(b,c){return ds.prototype.link(b,c,a)}}};ds.prototype.link=function(a,b,c){var e=this;b.ready(function(){a.textElement=b[0];e.fixHtmlEntities(a.textElement);var f=c.cloneDeep(a.textElement.innerText.split(" ")),g=c.throttle(function(){return e.constructText(a.textElement,f)},50);e.constructText(a.textElement,f);a.$watch("textElement.offsetWidth",g)})};
ds.prototype.fixHtmlEntities=function(a){var b=a.innerText.match(es);b&&b.forEach(function(c){return a.innerText=a.innerText.replace(c,c.split(" ").join("&nbsp;"))})};ds.prototype.constructText=function(a,b){a.innerHTML="";b.some(function(c){a.innerHTML+=c+"...";if(a.scrollHeight>a.clientHeight)return a.innerHTML=a.innerHTML.slice(0,a.innerHTML.length-c.length-3)+"...",!0;a.innerHTML=a.innerHTML.slice(0,a.innerHTML.length-3)+" ";return!1});a.innerHTML=a.innerHTML.trim()};ds.$inject=["utilsService"];
var es=/<[a-z]>(.*?)<\/[a-z]>/gi;var fs,gs,hs,is,js=function(){this.restrict="E";this.template="<div></div>";this.scope={onTrigger:"&"};this.isTouchDevice_=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);this.link=fs.bind(this.link,this)};d=js.prototype;
d.bindTouchEvents_=function(a){var b=gs,c=fs.bindKey(this,"onTouchStart_",a),e=fs.bindKey(this,"onTouchMove_",a),f=fs.bindKey(this,"onTouchEnd_",a);b.bind("touchstart",c);b.bind("touchmove",e);b.bind("touchend",f);a.$on("$destroy",function(){b.unbind("touchstart",c);b.unbind("touchmove",e);b.unbind("touchend",f)})};d.getViewportTop_=function(){return hs.pageYOffset};d.link=function(a){a.config=is;a.isScrollAtTop=!1;a.threshold=0;this.isTouchDevice_&&this.bindTouchEvents_(a)};
d.calcTouchRatio_=function(a,b){return Math.abs((a.clientY-b.clientY)/(a.clientX-b.clientX||1E-4))};d.onTouchStart_=function(a,b){a.isScrollAtTop=0===this.getViewportTop_();a.threshold=0;a.startTouch=b.touches[0]};d.onTouchMove_=function(a){0===this.getViewportTop_()?a.threshold++:(a.isScrollAtTop=!1,a.threshold=0)};d.onTouchEnd_=function(a,b){b=this.calcTouchRatio_(a.startTouch,b.changedTouches[0]);if(0===this.getViewportTop_()&&a.isScrollAtTop&&1<=b&&20<=a.threshold)a.onTrigger()};
var ks=function(a,b,c,e){gs=a;hs=b;fs=c;is=e;return new js};t("$jscomp.scope.directiveInjector$jscomp$27",ks,void 0);ks.$inject=["$document","$window","lodash","configService"];var ls=function(a,b){return{restrict:"A",link:function(c,e,f){var g=f.targetId;if(g)switch(f.triggerAction){case "click":e.on("click",function(){return b.scrollToElementOnClick(g)});break;case "load":c.$on("scroll-on-load",function(){return b.scrollToElementOnLoad(g)});break;case "manually":a.$on("manual-scroll",function(k,l){l.elementId===g&&b.scrollToElementManually(g,l.yOffset)})}}}};ls.$inject=["$rootScope","scrollToService"];var ms=function(a,b){this.window_=a;this.timeout_=b};d=ms.prototype;d.currentYPosition_=function(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0};d.elementYPosition_=function(a){for(var b=a=document.getElementById(a);b.offsetParent&&b.offsetParent!==document.body;b=b.offsetParent);return a.offsetTop};
d.scrollToElement_=function(a,b,c,e){var f=Math.abs(b-a);if(f<c)this.window_.scrollTo(0,b);else{c=Math.min(Math.round(f/c),e);e=Math.round(f/e);f=a<b?1:-1;for(var g=0;Math.abs(b-a)>e;)a+=e*f,this.timeout_(window.scrollTo,g*c,!0,0,a),g++;this.timeout_(window.scrollTo,g*c,!0,0,b)}};d.scrollToElementOnLoad=function(a){this.scrollToElement_(this.currentYPosition_(),document.getElementById(a).offsetTop,50,25)};
d.scrollToElementOnClick=function(a){this.scrollToElement_(this.currentYPosition_(),this.elementYPosition_(a),50,25)};d.scrollToElementManually=function(a,b){this.scrollToElement_(this.currentYPosition_(),Math.max(document.getElementById(a).offsetTop-(void 0===b?0:b),0),50,15)};ms.$inject=["$window","$timeout"];var ns=function(a,b,c,e,f,g,k,l){var n=this;this.scope_=b;this.window=c;this.configService_=g;this.yisLastSupportedYear=this.window.yisLastSupportedYear;this.bodyElement_=angular.element(document.body);this.pathPrefix=g.pathPrefix;this.defaultGeoId=g.getCurrentGeoIdFromUrlParams()||g.defaultGeoId;this.locale=g.locale;this.globalsService_=k;this.feedbackService=l;this.mdSidenav=e;this.mdComponentRegistry=f;b.$watch(function(){return n.isSideNavOpen_()},function(p){p?n.bodyElement_.addClass("no-scroll"):
n.bodyElement_.removeClass("no-scroll")});this.scope_.$on("toggleSidenav",function(){return n.toggleSidenav()});a.$on("headerGeoChange",function(p,q){n.defaultGeoId=q?q.id:g.defaultGeoId});this.tabsPath_=Object.freeze({HOME:this.pathPrefix+"/",EXPLORE:this.pathPrefix+"/explore",DAILY_SEARCHES:this.pathPrefix+"/trendingsearches/daily",REALTIME_SEARCHES:this.pathPrefix+"/trendingsearches/realtime",SUBSCRIPTIONS:this.pathPrefix+"/subscriptions"})};d=ns.prototype;d.toggleSidenav=function(){this.mdSidenav("left").toggle()};
d.isSideNavOpen_=function(){return this.mdComponentRegistry.get("left")&&this.mdSidenav("left").isOpen()};d.getPathName_=function(){return this.window.location.pathname};d.getPageLinkIgnoreGlobalGeo_=function(a,b){return b&&"GLOBAL"!==b?a+"?geo="+b:a};
d.getPageLink=function(a){var b=this.configService_.getCurrentYisGeoIdFromPathParams()||this.configService_.getCurrentGeoIdFromUrlParams();switch(a){case "HOME":return this.getPageLinkIgnoreGlobalGeo_(this.pathPrefix,b);case "TRENDING_SEARCHES":return this.getPageLinkIgnoreGlobalGeo_(this.pathPrefix+"/trendingsearches/daily",b);case "YEAR_IN_SEARCH":return b=b||this.configService_.yisDefaultGeo,this.pathPrefix+"/yis/"+this.yisLastSupportedYear+"/"+b;case "EXPLORE":return this.pathPrefix+"/explore";
case "SUBSCRIPTIONS":return this.pathPrefix+"/subscriptions";default:return this.pathPrefix}};d.isCurrentTab=function(a){var b=this.getPathName_();return"TRENDING_SEARCHES"===a?[this.tabsPath_.DAILY_SEARCHES,this.tabsPath_.REALTIME_SEARCHES].includes(b):"YEAR_IN_SEARCH"===a?this.globalsService_.isYisPage(b):this.tabsPath_[a]===b};d.getTabClass=function(a){return this.isCurrentTab(a)?"blue-light":"gray"};ns.$inject="$rootScope $scope $window $mdSidenav $mdComponentRegistry configService globalsService feedbackService".split(" ");var os,ps,qs=function(){this.restrict="A";this.scope={switchOn:"=",switchOff:"=",switchValue:"="};this.link=os.bind(this.link,this)};qs.prototype.link=function(a,b){b=os.bindKey(this,"setSwitchImages_",a,b);b();a.$watch("switchValue",b)};qs.prototype.setSwitchImages_=function(a,b){a=a.switchValue?a.switchOff:a.switchOn;angular.element(b[0].querySelector("._md-thumb")).css("background-image","url("+ps.staticPathPrefix+"/"+a+")")};var rs=function(a,b){os=a;ps=b;return new qs};
t("$jscomp.scope.directiveInjector$jscomp$28",rs,void 0);rs.$inject=["lodash","configService"];var ss=function(a,b){this.isDeviceSupported_(b)||(a.showUnsupportedMsg=!0)};t("$jscomp.scope.UnsupportedDeviceCtrl",ss,void 0);ss.$inject=["$scope","$window"];ss.prototype.isDeviceSupported_=function(a){a=a.navigator.userAgent;var b=!0;/iP(hone|od|ad)/.test(a)?7>parseInt(a.match(/OS ([\d_]+)/)[1])&&(b=!1):/Android/.test(a)&&4.4>parseFloat(a.match(/Android ([\d.]+)/)[1])&&(b=!1);return b};var ts=function(){this.tracker_=new jl(new cg,591,0)};t("$jscomp.scope.LoggingService",ts,void 0);ts.prototype.startTrackingImpressions=function(){this.tracker_.startTrackingImpressions(vg())};var us=function(){};t("$jscomp.scope.PaletteService",us,void 0);us.$inject=["$window","lodash"];us.COLOR_PALETTE_1_=[{name:"PALETTE_COLOR_1",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_2",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_3",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_2_=[{name:"PALETTE_COLOR_1",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_2",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_3",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_4",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_3_=[{name:"PALETTE_COLOR_1",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_2",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_3",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_4_=[{name:"PALETTE_COLOR_1",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_2",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_3",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_4",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_5_=[{name:"PALETTE_COLOR_1",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_2",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_3",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_6_=[{name:"PALETTE_COLOR_1",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_2",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_3",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_7_=[{name:"PALETTE_COLOR_1",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_2",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_3",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_8_=[{name:"PALETTE_COLOR_1",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_2",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_3",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_9_=[{name:"PALETTE_COLOR_1",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_2",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_3",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_4",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.COLOR_PALETTE_10_=[{name:"PALETTE_COLOR_1",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_2",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_3",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
us.prototype.getByThemeName=function(a){a=(a||"").match(/^Color([0-9]{1,2})$/);var b;a&&(b=us["COLOR_PALETTE_"+a[1]+"_"]);return b};var vs=function(a,b,c,e,f,g){this.mdDialog=a;this.config=b;this.selectedTabIndex=0;this.isPageRtl=f.isPageRtl();this.archiveRadioGroup="date_range";this.exploreService_=g;this.minDate=new Date(e?2004:2008,0,1);var k=new Date;k.setMinutes(0);k.setSeconds(0);this.today=k;this.years=Array.from(Array(k.getFullYear()-((e?2004:2008)+1)),function(l,n){return k.getFullYear()-n});this.pastWeek=this.getPastWeekOptions_();this.hours=this.getHoursOptions_();this.rangeFrom=new Date(k);this.rangeFrom.setMonth(k.getMonth()-
1);this.rangeTo=k;this.fullYear=k.getFullYear();this.fromDay=this.pastWeek[6].id;this.fromTime=1;this.toDay=this.pastWeek[0].id;this.toTime=1;this.setSelection_(c)};d=vs.prototype;
d.getSelection=function(){var a="";this.exploreService_.isCustomDateDialogOpen=!0;if(0===this.selectedTabIndex)if(this.isDateRangeRadioSelected_())var b=this.formatDate_(this.rangeFrom)+" "+this.formatDate_(this.rangeTo);else b=this.fullYear+"-01-01 "+this.fullYear+"-12-31",a=this.fullYear;else b=this.formatDateTime_(this.fromDay,this.fromTime)+" "+this.formatDateTime_(this.toDay,this.toTime);return{id:b,name:a}};
d.setSelection_=function(a){var b=[];a&&(a.replace(ws,function(c,e,f,g,k){return b.push({year:e,month:f,day:g,hours:k})}),2===b.length&&(b[0].hours&&b[1].hours?(a=new Date(Date.UTC(b[0].year,b[0].month-1,b[0].day,b[0].hours)),this.fromDay=this.getDateOfWeek_(a,this.pastWeek),this.fromTime=a.getHours(),a=new Date(Date.UTC(b[1].year,b[1].month-1,b[1].day,b[1].hours)),this.toDay=this.getDateOfWeek_(a,this.pastWeek),this.toTime=a.getHours(),this.selectedTabIndex=1):b[0].year===b[1].year&&"01"===b[0].month&&
"01"===b[0].day&&"12"===b[1].month&&"31"===b[1].day?(this.fullYear=b[0].year,this.selectedTabIndex=0,this.archiveRadioGroup="full_year"):(this.rangeFrom=new Date(b[0].year,b[0].month-1,b[0].day),this.rangeTo=new Date(b[1].year,b[1].month-1,b[1].day),this.selectedTabIndex=0)))};d.padTime_=function(a){return(10>a?"0":"")+a};d.formatDate_=function(a){return[a.getFullYear(),this.padTime_(a.getMonth()+1),this.padTime_(a.getDate())].join("-")};
d.formatDateTime_=function(a,b){a=new Date(a);a.setHours(b);return a.toJSON().split(":",1)[0]};d.getDateOfWeek_=function(a,b){for(var c=0;c<b.length;c++)if(b[c].id.getDate()===a.getDate())return b[c].id;return null};d.getShortDateString_=function(a){return a.toISOString().substring(0,10)};
d.getPastWeekOptions_=function(){var a=this,b=new Date;if(window.weekPicker){window.weekPicker.forEach(function(e){return e.id=new Date(e.id)});var c=window.weekPicker.findIndex(function(e){return a.getShortDateString_(e.id)===a.getShortDateString_(b)});return window.weekPicker.slice(c,c+7)}};d.getHoursOptions_=function(){for(var a=[],b=1;24>b;b++)a.push({id:b,name:this.padTime_(b)+":00"});a.push({id:0,name:"00:00"});return a};d.isDateRangeRadioSelected_=function(){return"date_range"===this.archiveRadioGroup};
d.validatePastWeekSelection=function(){this.pastWeekInvalid=this.fromDay>this.toDay||this.fromDay===this.toDay&&this.fromTime>=this.toTime?!0:!1};d.isDialogValid=function(a){return 1===this.selectedTabIndex&&!this.pastWeekInvalid||0===this.selectedTabIndex&&("date_range"!==this.archiveRadioGroup||a&&!a.$invalid)};vs.$inject="$mdDialog configService selectedOptionId isWebSearch bidiService exploreService".split(" ");var ws=/(2\d{3})-([0-1]\d)-([0-3]\d)(?:T([0-2]\d))?/g;var xs,ys,zs,As,Bs=function(){var a=this;this.restrict="E";this.templateUrl="/components/pickers/custom-date-picker-directive.html";this.scope={term:"=?",appendCustom:"=?",isWebSearch:"=",mdContainerClass:"@?",onChange:"&?",onCancel:"&?",ngModel:"=?",onCreate:"&?",options:"&"};this.isDialogOpen=!1;this.link=function(b,c){return a.link_(b,c)}};d=Bs.prototype;
d.link_=function(a){var b=this;a.$watch("ngModel",function(){return b.modelSetter_(a)});a.$watch("options",function(){return b.optionsSetter_(a)});a.changeHandler=function(c){return b.changeHandler_(a,c)};a.addDialogContainerClass=function(c,e){return b.addDialogContainerClass_(c,e)};a.onDialogRemove=function(){return b.onDialogRemove_(a)};a.isPeriodToShow=function(c,e){return b.isPeriodToShow_(c,e)};a.onOpen=function(){return b.onOpen_(a)};a.onClose=function(){return b.onClose_(a)}};
d.onOpen_=function(a){a.term&&!0===a.term.isNewPill&&(xs.isPillFocus=!0)};d.onClose_=function(){this.isDialogOpen||xs.isCustomDateDialogOpen||(xs.isPillFocus=!1);xs.isCustomDateDialogOpen=!1};d.isPeriodToShow_=function(a,b){return a!=(b?"all_2008":"all")};
d.modelSetter_=function(a){var b=a.ngModel&&a.ngModel.id?a.ngModel:{id:""};a.selectedOption&&a.selectedOption.id===b.id?a.selectedOption.name=b.name:(b.name||this.setupOptionName_(a,b),a.prevSelectedOption=b,a.selectedOption=a.prevSelectedOption,this.sortOptions_(a))};d.setupOptionName_=function(a,b){var c=b.id.match(/(2\d{3})-01-01 (\1)-12-31/);c?b.name=c[1]:(a=a.options().getNodeByID(b.id),b.name=a&&a.name)};
d.optionsSetter_=function(a){var b=a.options().iterator();if(a.onCreate)a.onCreate(a.selectedOption);a.completeOptions=a.appendCustom?b.concat({id:"CUSTOM",name:"Custom time range..."}):Object.assign({},b);this.sortOptions_(a)};
d.changeHandler_=function(a,b){var c=this;a.selectedOption=b||a.selectedOption;if(a.selectedOption.id!==a.prevSelectedOption.id)if("CUSTOM"===a.selectedOption.id)a.selectedOption=a.prevSelectedOption,ys(function(){return c.showDialog_(a)},250);else if(a.prevSelectedOption=a.selectedOption,a.ngModel.id=a.selectedOption.id,a.ngModel.name=a.selectedOption.name,this.sortOptions_(a),a.onChange)a.onChange(Object.assign({isPreset:!0},b))};
d.showDialog_=function(a){this.isDialogOpen=!0;xs.isPillFocus=!0;zs.show({clickOutsideToClose:!0,controller:"CustomDatePickerDialogCtrl",controllerAs:"ctrl",locals:{selectedOptionId:a.selectedOption.id,isWebSearch:a.isWebSearch},onComplete:a.addDialogContainerClass,onRemoving:a.onDialogRemove,templateUrl:"/components/pickers/custom-date-picker-dialog.html"}).then(this.dialogChangeHandler_.bind(this,a),a.onCancel)};
d.dialogChangeHandler_=function(a,b){a.selectedOption={id:b.id};a.prevSelectedOption=a.selectedOption;a.sortedOptions=As.cloneDeep(a.completeOptions);a.sortedOptions.unshift(a.selectedOption);a.ngModel=b;a.onChange&&ys(function(){a.onChange({isPreset:!1})},0)};d.sortOptions_=function(a){if(a.completeOptions){var b=As.cloneDeep(a.completeOptions);b.length||(b=Object.values(b));As.remove(b,function(c){return c.id===a.selectedOption.id});b.unshift(a.selectedOption);a.sortedOptions=b}};
d.addDialogContainerClass_=function(a,b){b.addClass("fix-dialog-z-index")};d.onDialogRemove_=function(a){this.isDialogOpen=!1;a.onClose()};var Cs=function(a,b,c,e,f){As=a;zs=b;ys=e;xs=f;return new Bs};t("$jscomp.scope.directiveInjector$jscomp$29",Cs,void 0);Cs.$inject=["utilsService","$mdDialog","$document","$timeout","exploreService"];var Ds,Es,Fs,Gs,Hs,Is=function(a){this.scope_=a;this.zoomedNode=this.searchQuery=this.dataTree=null;a.$watch("data",Ds.bindKey(this,"onInputChange_"))};d=Is.prototype;d.getNodeOrRoot_=function(a){return Ds.isUndefined(a)||Ds.isNull(a)?this.dataTree.rootNode:this.dataTree.getNodeByID(a)};d.getResults=function(a){if(a)return this.dataTree.getNodesByQuery(a,20);a=this.getSelectedNode();return this.dataTree.iterator(this.zoomedNode?this.zoomedNode:a&&a.parent)};d.getSelectedNode=function(){return this.getNodeOrRoot_(this.scope_.ngModel)};
d.onInputChange_=function(a){if(a&&(this.dataTree=a,this.scope_.onCreate))this.scope_.onCreate(this.getSelectedNode())};d.setSelectedNode=function(a,b){window._gaq.push(["_trackEvent","Select "+this.scope_.trackName,"click",a]);this.scope_.ngModel!==a&&(this.scope_.ngModel=a,b=!0);b&&this.scope_.onChange&&this.scope_.$applyAsync(Ds.bind(function(){this.scope_.onChange(this.getSelectedNode())},this))};
d.zoomIntoNode=function(a,b){this.searchQuery="";this.zoomedNode=this.getNodeOrRoot_(a);b&&(b.preventDefault(),b.stopPropagation())};var Js=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/components/pickers/hierarchy-picker-directive.html";this.scope={term:"=?",data:"=",trackName:"@?",ngModel:"=?",onChange:"&?",onCreate:"&?",showBreadcrumbs:"=?"};this.controller=function(c){return b.call(a,c)};this.controller.$inject=["$scope"];this.link=Ds.bind(this.link,this)};d=Js.prototype;
d.bindDesktopUI_=function(a,b){var c=this,e=b.find("md-autocomplete-wrap").controller("mdAutocomplete"),f=Es[0].querySelector("md-virtual-repeat-container #ul-"+e.id).parentNode.parentNode.parentNode;a.inputElement=b.find("input");a.mdAutocompleteCtrl=e;a.focus=Ds.bindKey(this,"focus",a);f.classList.add("hierarchy-repeat");a.mdAutocompleteCtrl.focus=Ds.wrap(a.mdAutocompleteCtrl.focus,function(g){a.$applyAsync(g)});a.$watch(function(){return e.hidden&&a.inputElement[0]!==document.activeElement},function(g){g&&
c.blur(a)})};d.blur=function(a){a.hasFocus&&(a.ctrl.searchQuery||(Fs.isPillFocus=!1),a.hasFocus=!1,a.ctrl.zoomedNode=null,a.$applyAsync(),a.ctrl.searchQuery&&Gs(function(){a.mdAutocompleteCtrl.clear()},250))};d.controller=function(a){Ds.defaults(a,{showBreadcrumbs:!1});var b=new Is(a);return a.ctrl=b};d.focus=function(a){a.hasFocus||(a.term&&a.term.isNewPill&&(Fs.isPillFocus=!0),a.hasFocus=!0,a.$applyAsync(),Gs(function(){a.inputElement.focus()},250))};
d.link=function(a,b){a.hasFocus=!1;a.blur=Ds.bindKey(this,"blur",a);Hs.isDesktopMode&&Gs(Ds.bindKey(this,"bindDesktopUI_",a,b),250)};var Ks=function(a,b,c,e,f){Es=a;Gs=b;Ds=c;Hs=e;Fs=f;return new Js};t("$jscomp.scope.directiveInjector$jscomp$30",Ks,void 0);Ks.$inject=["$document","$timeout","lodash","globalsService","exploreService"];var Ls=function(a,b){return{restrict:"A",link:function(c,e,f){if(f.onScroll){f=b(f.onScroll)(c);var g=a.throttle(f,16);e.bind("scroll",function(){return c.$apply(function(){return g(e[0].scrollTop)})})}}}};Ls.$inject=["utilsService","$parse"];var Ms=function(a,b){this.mdDialog_=a;this.autocompletePlaceHolder=b.translate("MSG_SEARCH_BAR_PLACEHOLDER");this.isAutoFocus=this.showAutocomplete=!0};Ms.prototype.closeDialog=function(){this.showAutocomplete=!1;this.mdDialog_.hide()};Ms.$inject=["$mdDialog","translationService"];var Ns,Os,Ps,Qs,Rs,Ss,Ts,Us,Vs,Ws=function(){var a=this;this.restrict="E";this.templateUrl="/components/search/autocomplete-directive.html";this.scope={disableCache:"@",hasIcon:"<?",placeholder:"<?",className:"<?",inputText:"=?",onSelectItem:"=?",isAutofocus:"<?",enableInputSelectionOnBlur:"=?"};this.link=function(b,c){return a.link_(b,c)}};d=Ws.prototype;
d.link_=function(a,b){var c=this;a.config=Ns;a.element=b;a.mdAutocompleteCtrl=b.find("md-autocomplete-wrap").controller("mdAutocomplete");Os(function(){return Ps.updateModalClassName(a)},250);Qs.defaults(a,{disableCache:!1,hasIcon:!1,placeholder:"Explore topics",className:"search-repeat",inputText:Rs.lastInput,onSelectItem:function(e){return Ps.onSelectedItemClick(e)},isAutofocus:!1});a.clearInput=function(){return Ps.clearInput(a)};a.textChangeHandler=function(){Ss.$broadcast("autocompleteTextChangedInTopBar",
a.inputText);Ss.$broadcast("hideExamples");c.setInputClass_(a)};this.setInputClass_(a);Os(function(){return c.bindInputEvents_(a)},300);a.getAutoCompleteListBind=function(e){return Ps.getAutoCompleteList(a,e)};a.inputText.length&&(a.mdAutocompleteCtrl.matches=Ps.getAutoCompleteList(a,a.inputText));a.showAutoCompleteDialog=function(){return Ps.showAutoCompleteDialog(a)};a.setSelectedItem=function(e){return c.setSelectedItem_(a,e)}};d.setSelectedItem_=function(a,b){a.isSelectedItem_=!0;a.onSelectItem(b)};
d.bindInputEvents_=function(a){var b=this,c=a.element.find("input"),e=function(){return b.onInputBlur_(a)};c.on("blur",e);var f=function(){return b.onInputFocus_(a)};c.on("focus",f);var g=function(k){return b.onInputKeyEvent_(a,k)};c.on("keyup",g);a.$on("autocompleteTextChanged",function(k,l){return a.inputText=l});a.$on("$destroy",function(){c.off("blur",e);c.off("focus",f);c.off("keyup",g)});a.isAutofocus&&Ts.isIOSDevice&&a.$applyAsync(function(){return c.focus()})};
d.setInputClass_=function(a){0<a.inputText.length?a.element.hasClass("has-input")||a.element.addClass("has-input"):a.element.removeClass("has-input")};d.onInputFocus_=function(a){Us.trackEvent("Autocomplete","focus");a.element.addClass("has-focus");if(0<a.inputText.length){a.element.addClass("has-input");a.mdAutocompleteCtrl.hidden=!1;var b=a.$root.$$phase;"$apply"!==b&&"$digest"!==b&&a.$apply()}};
d.onInputBlur_=function(a){Os(function(){if(a.enableInputSelectionOnBlur&&!a.isSelectedItem_)a.onSelectItem({title:a.inputText,mid:a.inputText,type:Vs});a.isSelectedItem_=!1;a.element.removeClass("has-focus");a.mdAutocompleteCtrl.hidden=!0;a.$apply()},200)};d.onInputKeyEvent_=function(a,b){13==b.which&&1>a.mdAutocompleteCtrl.index&&(a.onSelectItem({title:a.inputText,mid:a.inputText,type:Vs}),a.isSelectedItem_=!0)};
var Xs=function(a,b,c,e,f,g,k,l,n){Ss=a;Os=b;Qs=c;Ns=e;Rs=f;Ps=g;Us=k;Vs=l.translate("MSG_SUBSCRIPTION_TERM_TYPE");Ts=n;return new Ws};Xs.$inject="$rootScope $timeout utilsService configService searchService autocompleteService trackingService translationService globalsService".split(" ");var Ys=function(a,b,c,e,f,g,k,l){this.document_=a;this.timeout_=b;this.mdDialog_=c;this.routeParams_=e;this.location_=f;this.configService_=g;this.pathPrefix_=g.pathPrefix;this.searchService_=k;this.trackingService_=l;this.setLocationHref_=Xc};d=Ys.prototype;d.getRepeatElement_=function(a){return this.document_[0].querySelector("md-virtual-repeat-container #ul-"+a).parentNode.parentNode.parentNode};
d.updateModalClassName=function(a){var b=this.getRepeatElement_(a.mdAutocompleteCtrl.id);(a.className?a.className.split(" "):[]).forEach(function(c){return b.classList.add(c)})};d.getAutoCompleteList=function(a,b){return this.searchService_.getAutoCompleteList(a,b)};
d.navigate_=function(a){this.trackingService_.trackEvent("General","Search",a);var b=this.getGeoFromUrl_();a=this.pathPrefix_+"/explore?q="+encodeURIComponent(a);b&&(a+="&geo="+b);this.mdDialog_.hide();this.setLocationHref_(window.location,a)};d.onSelectedItemClick=function(a){a&&(a=a.mid||a.title)&&this.navigate_(a)};d.clearInput=function(a){a.mdAutocompleteCtrl.clear()};d.getGeoFromUrl_=function(){var a=this.configService_.getCurrentYisGeoIdFromPathParams();return a?"GLOBAL"!==a?a:null:this.routeParams_.geo};
Ys.$inject="$document $timeout $mdDialog $routeParams $location configService searchService trackingService".split(" ");var Zs=function(a,b,c){this.mdDialog_=b;this.htmlAngularElement_=angular.element(a[0].documentElement);this.config=c};t("$jscomp.scope.SearchDialogCtrl",Zs,void 0);Zs.$inject=["$document","$mdDialog","configService"];Zs.prototype.cancelDialog=function(a){a.target.hasAttribute("click-close")&&this.mdDialog_.cancel()};var $s,at,bt,ct,dt=function(){this.restrict="E";this.templateUrl="/components/search/search-directive.html";this.scope={enableGeoPicker:"=?",onGeoChange:"=?"};this.link=$s.bind(this.link,this)};dt.prototype.link=function(a){a.config=at;a.showMobileSearchDialog=$s.bindKey(this,"showMobileSearchDialog_",a);a.$watch(function(){return bt.isLargeDisplayWidth},function(){a.isLargeDisplayWidth=bt.isGlobalsYisService?bt.isDesktopMode:bt.isLargeDisplayWidth})};
dt.prototype.showMobileSearchDialog_=function(){ct.show({clickOutsideToClose:!0,controller:"SearchDialogCtrl",controllerAs:"ctrl",templateUrl:"/components/search/search-dialog.html",onComplete:function(a,b){b.find("input").focus()}})};var et=function(a,b,c,e,f){ct=a;$s=b;at=c;bt=at.getYisYear()?e:f;return new dt};t("$jscomp.scope.directiveInjector$jscomp$31",et,void 0);et.$inject=["$mdDialog","lodash","configService","globalsYisService","globalsService"];var ft=function(a,b,c,e){this.http_=a;this.lodash_=b;this.apiPathPrefix_=c.searchApiPath;this.q_=e;this.lastInput=""};t("$jscomp.scope.SearchService",ft,void 0);ft.$inject=["$http","lodash","configService","$q"];ft.prototype.responseTransform_=function(a){return this.http_.defaults.transformResponse.concat(a)};
ft.prototype.getAutoComplete=function(a,b){a=a.replace(/[|~\t\n:=(){}[\]<>*\\.;\/]/g," ");a=a.replace(/[']/g,"").trim();return""===a?null:this.http_.get(this.apiPathPrefix_+a,this.lodash_.extend({transformResponse:this.responseTransform_(function(c){return c?c["default"].topics:c})},b))};ft.prototype.getAutoCompleteList=function(a,b,c){var e=[];b&&e.push({title:b+(c?"":" "),mid:b,type:"Search term"});1<b.length&&(a=this.queryAutoComplete_(a,b))&&a.then(function(f){e.push.apply(e,f)});return e};
ft.prototype.queryAutoComplete_=function(a,b){var c=this.q_.defer();a.abortDeferred&&a.abortDeferred.resolve();a.abortDeferred=this.q_.defer();a=this.getAutoComplete(b,{timeout:a.abortDeferred.promise});null!==a&&a.then(function(e){return c.resolve(e.data)},function(){return c.reject});return c.promise};var gt,ht,it,jt=function(){this.restrict="E";this.templateUrl="/components/share/share-directive.html";this.scope={title:"@shareTitle",shareURI:"@shareUri",shareConfig:"=?config",iconOnly:"=?"};this.link=gt.bind(this.link,this)};jt.prototype.link=function(a){a.openDialog=gt.bindKey(ht,"openModal",a.shareURI,a.shareConfig);a.isPageRtl=it.isPageRtl()};var kt=function(a,b,c){gt=a;ht=b;it=c;return new jt};t("$jscomp.scope.directiveInjector$jscomp$32",kt,void 0);kt.$inject=["lodash","shareService","bidiService"];var lt=function(a,b,c,e,f,g,k,l,n,p,q,u,x,w,D){var I=this;this.window_=x;this.rootScope_=b;this.clipboardService_=u;this.q_=c;this.lodash_=e;this.shareNetworkFactory_=l;this.modalService_=n;this.config=f;this.yisService=w;this.globalsService=this.config.getYisYear()?g:k;this.shareConfig=q;this.shareURI=p||a.absUrl();this.location_=a;this.bidiService_=D;this.doesWidgetTitleNeedsTextDirectionFix=this.isShareClicked=!1;q.widgetData&&(this.widgetTitle=e.find(q.widgetData,{name:"topic"}).value,this.doesWidgetTitleNeedsTextDirectionFix=
this.bidiService_.isTextInOppositeTextDirectionContext(this.widgetTitle),this.yisListItems=q.widgetData.find(function(ea){return"listItemsV2"===ea.name}).values);this.selectedWidgetItem=q.widgetItem;this.networks=this.createNetworks_(q);this.rootScope_.$on("$locationChangeSuccess",function(){return I.hideModal()})};t("$jscomp.scope.ShareModalCtrl",lt,void 0);lt.$inject="$location $rootScope $q lodash configService globalsYisService globalsService shareNetworkFactory modalService shareURI shareConfig clipboardService $window yisService bidiService".split(" ");
var mt=["Facebook","Twitter","LinkedIn","Tumblr"],nt=["Facebook","Twitter","LinkedIn","Tumblr","WhatsApp"];d=lt.prototype;d.openShareDialog=function(){this.widgetTitle="Share";this.isShareClicked=!0};d.createNetworks_=function(a){var b=this,c=[];(this.globalsService.isMobileMode?nt:mt).forEach(function(e){e=b.shareNetworkFactory_.create(e,a);c.push(e)});return c};d.dispatchNetwork=function(a){a.dispatch(this.shareURI,"Facebook"===a.config.displayName);this.hideModal()};d.hideModal=function(){this.modalService_.hide()};
d.copyToClipBoardDialog=function(){this.clipboardService_.copyWidgetData(this.shareConfig.widgetData);this.modalService_.hide()};d.isIOSDevice=function(){return this.globalsService.isIOSDevice};d.exploreItem=function(){var a=this;this.modalService_.hide();var b=this.yisListItems.find(function(c){return c.title===a.selectedWidgetItem});b=this.getExplorePageLink_(this.yisService.getItemExploreQuery(b,this.selectedWidgetItem));Xc(this.window_.location,b)};
d.getExplorePageLink_=function(a){var b=this.config.getYisYear();a="/trends/explore?date="+b+"-01-01%20"+b+"-12-31&q="+encodeURI(a);b=this.config.getYisGeo();"GLOBAL"!==b&&(a+="&geo="+b);return a};
d.searchItem=function(){var a=this;this.modalService_.hide();var b=this.globalsService.getDomainSuffix(this.location_.host()),c=this.yisListItems.find(function(e){return e.title===a.selectedWidgetItem});c=encodeURI(this.yisService.getItemExploreQuery(c,this.selectedWidgetItem));Xc(this.window_.location,"https://www.google."+b+"/search?q="+c)};var ot,pt,qt,rt,st,tt,ut={},vt=function(a,b,c){a=!1!==c?ot.pick(a,ot.keys(b)):ot.clone(a||{});return ot.defaults(a,b)},wt=function(a,b){this.uri_=a;this.config_=vt(b,{modifyURI:!0})};wt.prototype.encode=function(a){return encodeURIComponent(this.resolve(a))};wt.prototype.resolve=function(a){if(!this.config_.modifyURI)return this.uri_;var b=pt.appendLocaleToURI(this.uri_);a&&(b=pt.appendQueryStringToURI(b,"sni",a));return b};
var xt=function(a,b,c){this.identifier=a;this.actionURI=b;this.config=vt(c,{displayName:"",icon:""},!1)};xt.prototype.createFinalURI=function(a,b){b=b||this.actionURI;a instanceof wt||(a=new wt(a,void 0));return b+a.encode(this.identifier)};xt.prototype.dispatch=function(a,b){b=void 0===b?!1:b;a=this.createFinalURI(a);qt.isDesktopMode&&!b?rt.openWindow(a,null,{width:500,height:400}):st.open(a)};xt.prototype.getIconAbsPath=function(){return pt.staticPathPrefix+"/"+this.config.icon};
var yt=function(a,b,c){c=vt(c,{displayName:"",icon:"",title:"",exploreParams:null,storyID:null,widgetType:null,widgetID:null},!1);xt.call(this,a,b,c);this.twitterShareURI_=c.storyID||c.exploreParams?this.getShareURI_():null};y(yt,xt);yt.prototype.createFinalURI=function(a){var b=this.actionURI;this.config.title&&(b+=encodeURIComponent(this.config.title+" - "));return xt.prototype.createFinalURI.call(this,this.twitterShareURI_||a,b)};
yt.prototype.getShareURI_=function(){var a=tt.getShareUrl(this.config.widgetID,this.identifier);return new wt(a,{modifyURI:!1})};var zt=function(a){a=vt(a,{displayName:"Facebook",widgetType:null,icon:"ic_post_facebook_24px.svg",veId:"40984"});xt.call(this,2,"https://www.facebook.com/sharer/sharer.php?u=",a)};y(zt,xt);
var At=function(a){a=vt(a,{displayName:"Twitter",icon:"ic_post_twitter_24px.svg",title:"",exploreParams:null,storyID:null,veId:"40988",widgetType:null,widgetID:null});yt.call(this,3,"https://twitter.com/intent/tweet?text=",a)};y(At,yt);var Bt=function(a){a=vt(a,{displayName:"LinkedIn",widgetType:null,icon:"ic_post_linkedin_24px.svg",veId:"40986"});xt.call(this,4,"https://www.linkedin.com/cws/share?isFramed=true&url=",a)};y(Bt,xt);
var Ct=function(a){a=vt(a,{displayName:"Tumblr",widgetType:null,icon:"ic_post_tumblr_24px.svg",veId:"40987"});xt.call(this,5,"https://www.tumblr.com/widgets/share/tool?canonicalUrl=",a)};y(Ct,xt);var Dt=function(a){a=vt(a,{displayName:"WhatsApp",icon:"ic_post_whatsapp_24px.svg",title:"",exploreParams:null,storyID:null,widgetType:null,widgetID:null});yt.call(this,6,"whatsapp://send?text=",a)};y(Dt,yt);ut.ShareURI=wt;ut.SocialNetwork=xt;ut.SocialNetworkWithShortURI=yt;ut.Facebook=zt;ut.Twitter=At;
ut.LinkedIn=Bt;ut.Tumblr=Ct;ut.WhatsApp=Dt;ut.create=function(a,b){return(a=ut[a])&&new a(b)};ut.createURI=function(a,b){return new wt(a,b)};var Et=function(a,b,c,e,f,g){st=a;ot=b;pt=c;qt=e;tt=f;rt=g;return ut};t("$jscomp.scope.factoryInjector$jscomp$8",Et,void 0);Et.$inject="$window lodash configService globalsService shareService helpersFactory".split(" ");var Ft=function(a,b,c,e,f,g,k){this.mdDialog_=a;this.mdBottomSheet_=b;this.httpParamSerializer_=c;this.location_=e;this.configService_=f;this.globalsService_=f.getYisYear()?g:k};d=Ft.prototype;d.generateRoundedTimestamp_=function(){var a=new Date,b=a.getMinutes();a.setSeconds(0);a.setMinutes(b-b%10);return parseInt(a.getTime()/1E3)};
d.getShareUrl=function(a,b){var c=this.location_.absUrl().split("?")[0];b=this.getUrlParams_(b);this.configService_.getYisYear()&&(b+="&"+this.getYisUrlParams_(a));a&&(a=a+"/"+this.generateRoundedTimestamp_(),c+=c.endsWith("/")?a:"/"+a);return c+("?"+b)};d.getUrlParams_=function(a){var b="hl="+this.configService_.locale+"&tz="+this.configService_.userTimezoneOffset,c=this.location_.search();0!==Object.keys(c).length&&(b+="&"+this.httpParamSerializer_(c));a&&(b+="&sni="+a);return b};
d.getYisUrlParams_=function(a){a={utm_source:"Trends",utm_campaign:"yis_"+this.configService_.getYisYear(),utm_medium:"website",utm_content:a?"chart_"+a:"Page"};return this.httpParamSerializer_(a)};d.openModal=function(a,b){b=void 0===b?{}:b;var c=this.globalsService_.isDesktopMode,e=c?this.mdDialog_:this.mdBottomSheet_;e.show({controller:"ShareModalCtrl",controllerAs:"ctrl",templateUrl:"/components/share/share-modal-"+(c?"desktop":"mobile")+".html",shareURI:a,shareConfig:b,modalService:e,clickOutsideToClose:!0})};
d.openYisBottomSheet=function(a,b){this.mdBottomSheet_.show({controller:"ShareModalCtrl",controllerAs:"ctrl",templateUrl:"/components/share/share-modal-mobile-yis.html",shareURI:a,shareConfig:b,modalService:this.mdBottomSheet_,clickOutsideToClose:!0})};d.openListItemBottomSheet=function(a,b){this.mdBottomSheet_.show({controller:"ShareModalCtrl",controllerAs:"ctrl",templateUrl:"/components/share/item-action-modal-yis.html",shareURI:a,shareConfig:b,modalService:this.mdBottomSheet_,clickOutsideToClose:!0})};
Ft.$inject="$mdDialog $mdBottomSheet $httpParamSerializer $location configService globalsYisService globalsService".split(" ");var Gt,Ht,It,Jt,Kt,Lt=function(){this.restrict="E";this.templateUrl="/components/stories/featured-story-directive.html";this.scope={id:"@",storyTitle:"@",storyTitleArray:"=",widget:"="};this.replace=!0;this.link=Gt.bind(this.link,this)};Lt.prototype.link=function(a){a.location=Ht;a.config=It;a.globals=Jt;a.getFeaturedDirection=Gt.bindKey(this,"getFeaturedDirection_",a)};
Lt.prototype.getFeaturedDirection_=function(a){var b=Kt.isRtlThreshold(a.storyTitle||"");return"undefined"!==typeof a.widget&&a.widget.isCurated&&"fe_list"==a.widget.widgetType?b?"rtl":"ltr":"initial"};var Mt=function(a,b,c,e,f,g){Ht=b;Gt=c;It=e;Jt=f;Kt=g;return new Lt};t("$jscomp.scope.directiveInjector$jscomp$33",Mt,void 0);Mt.$inject="$http $location lodash configService globalsService bidiService".split(" ");var Ot=function(a,b,c){this.http_=a;this.lodash_=b;this.apiPathPrefix_=c.pathPrefix+"/api/";this.pageLayouts=Nt};t("$jscomp.scope.StoryService",Ot,void 0);Ot.$inject=["$http","lodash","configService"];
var Nt={EMPTY_STORY:"EMPTY_STORY",YEAR_IN_SEARCH_2015_HUB:"YEAR_IN_SEARCH_2015_HUB",YEAR_IN_SEARCH_2016_HUB:"YEAR_IN_SEARCH_2016_HUB",YEAR_IN_SEARCH_2015_STORY:"YEAR_IN_SEARCH_2015_STORY",OLYMPICS_2016_HUB:"OLYMPICS_2016_HUB",OLYMPICS_2016_STORY:"OLYMPICS_2016_STORY",OLYMPICS_2016_GOOBERS:"OLYMPICS_2016_GOOBERS",OLYMPICS_2016_FEATURED_STORIES:"OLYMPICS_2016_FEATURED_STORIES",ELECTIONS_2016_HUB_PRESIDENT:"ELECTIONS_2016_HUB_PRESIDENT",ELECTIONS_2016_HUB_VP:"ELECTIONS_2016_HUB_VP",ELECTIONS_2016_HUB_TICKET:"ELECTIONS_2016_HUB_TICKET",
ELECTIONS_2016_CANDIDATE_STORY:"ELECTIONS_2016_CANDIDATE_STORY",ELECTIONS_2016_STATE_STORY:"ELECTIONS_2016_STATE_STORY"};d=Ot.prototype;
d.getRealtime=function(a){a=this.lodash_.defaults(a||{},{geo:"",category:"",featuredSize:3,trendingSize:200,featuredPrefetchSize:3,sort:0,trendingPrefetchSize:20,userTimezoneOffset:0});return this.http_.get(this.apiPathPrefix_+"realtimetrends",{params:{geo:a.geo,cat:a.category,fi:a.featuredSize,ri:a.trendingSize,fs:a.featuredPrefetchSize,rs:a.trendingPrefetchSize,sort:a.sort}})};d.getRealtimeTrending=function(a){a=this.lodash_.extend(a,{featuredSize:0,featuredPrefetchSize:0});return this.getRealtime(a)};
d.getSummaries=function(a){return this.http_.get(this.apiPathPrefix_+"stories/summary",{params:a})};d.getStory=function(a,b){b=this.lodash_.defaults(b||{},{widgetsSize:null,widgetsPrefetchSize:null,hideNews:null});a=this.apiPathPrefix_+"stories/"+(a||"").replace(/[^-_a-z0-9]/ig,"");return this.http_.get(a,{params:{swi:b.widgetsSize,sw:b.widgetsPrefetchSize,hn:b.hideNews}})};
d.getStoryWidgets=function(a,b){return this.http_.get(this.apiPathPrefix_+"stories/widgets",{params:{id:a.replace(/[^-_a-z0-9]/ig,""),wid:b}})};d.getYisLists=function(a,b,c){return this.http_.get(this.apiPathPrefix_+"topcharts",{params:{geo:a,date:b,isMobile:c}})};var Pt=function(a,b,c){var e=this;this.timeout_=b;this.sparklineService=c;var f;a.storyArticles&&1<a.storyArticles.length&&(f=b(function(){return e.handleArticleDataChange_(a)},this.computeArticleChangeTime_(a)));f&&a.$on("$destroy",function(){return b.cancel(f)})};Pt.prototype.handleArticleDataChange_=function(a){a.storyArticles.push(a.storyArticles.shift());a.articleDataChangeTimeoutPromise=this.timeout_(a.articleDataChangeTimeout,this.computeArticleChangeTime_(a))};
Pt.prototype.computeArticleChangeTime_=function(a){return 5E3+a.storyArticles[0].articleTitle.length/140*3E3};Pt.prototype.changeHtmlToPlainText=function(a){return angular.element("<div>"+a+"</div>").text()};Pt.prototype.getStoryHref=function(a,b){return a.pathPrefix+"/trendingsearches/realtime?geo="+a.defaultGeoId+("&category="+a.defaultCategoryId+"#"+b)};Pt.$inject=["$scope","$timeout","trendingStorySparklineService"];var Qt=function(a,b,c,e){this.queueIterationBind_=b.bindKey(this,"queueIteration_");this.http_=a;this.lodash_=b;this.queue_=new c.Queue(this.queueIterationBind_,{batchSize:4,delayTime:25,parallelBatches:2});this.apiPathPrefix_=e.pathPrefix+"/api/"};t("$jscomp.scope.SparklineService$jscomp$1",Qt,void 0);Qt.$inject=["$http","lodash","queueFactory","configService"];d=Qt.prototype;d.getStoryIdsFromItems_=function(a){return this.lodash_.map(a,function(b){return b.data})};
d.invokeItems_=function(a,b,c){this.lodash_.forEach(a,function(e,f){var g=e[b];g&&g.call(e,c[f])})};d.responseMiddleware_=function(a){this.lodash_.isObject(a)&&a["default"]&&(a=this.lodash_.map(a["default"].response,function(b){return b.timelineResponse?b.timelineResponse.timelineData:[]}));return a};d.responseTransform_=function(a){return this.http_.defaults.transformResponse.concat(a)};
d.getSparklines_=function(a){var b=this.apiPathPrefix_+"widgetdata/sparkline",c=this.responseTransform_(this.lodash_.bindKey(this,"responseMiddleware_"));return this.http_.get(b,{params:{id:a},transformResponse:c})};d.getSparkline=function(a){return this.queue_.push(a).promise};d.queueIteration_=function(a,b){var c=this,e=this.getStoryIdsFromItems_(a);return this.getSparklines_(e).then(function(f){return c.invokeItems_(a,"resolve",f.data)},function(){return c.invokeItems_(a,"reject",null)})["finally"](b)};var Rt=function(a,b,c,e,f,g,k,l){var n=this;this.trackingService_=l;this.mdDialog_=a;this.subscriptionsService=b;this.subscriptionsApiService_=g;this.globalsService_=c;this.logger_=new e.DebugLogger(this);this.translationService_=f;this.subscribeButtonText=f.translate("MSG_SUBSCRIBE_BUTTON");this.unsubscribeButtonText=f.translate("MSG_UNSUBSCRIBE_BUTTON");this.saveButtonText=f.translate("MSG_SAVE_BUTTON");this.subscriptionsRegion=f.translate("MSG_SUBSCRIPTION_REGION");this.subscriptionsType=f.translate("MSG_SUBSCRIPTION_TYPE");
this.subscriptionsHowOften=f.translate("MSG_SUBSCRIPTION_HOW_OFTEN");this.subscriptionsTopic=f.translate("MSG_SUBSCRIPTION_TOPIC");this.subscriptionsTermTitle=f.translate("MSG_SUBSCRIPTION_DIALOG_TERM");this.subscriptionsTrendingSearchesTitle=f.translate("MSG_SUBSCRIPTION_DIALOG_TRENDING");this.autocompletePlaceHolderText=f.translate("MSG_AUTOCOMPLETE_PLACEHOLDER");this.subscriptionsTopicTab=f.translate("MSG_SUBSCRIPTION_TOPIC_TAB");this.subscriptionsTrendingSearchesTab=f.translate("MSG_SUBSCRIPTION_TRENDING_SEARCHES_TAB");
this.userEmail=k.userEmail;this.isEditDialog=!!k.selectedSubscription;this.subscriptionGeo=k.geo;this.oldTerm=this.oldGeo=null;this.canSaveSubscription=!!k.selectedSubscription;this.subscriptionTypes=b.subscriptionTypes;this.menuTypes=b.menuTypes;this.isTermMenuOpen=this.isMenuOpen=!1;this.isAutoFocus=!this.globalsService_.isIOSDevice;this.termTitle="";this.onAutoCompleteSelectBind=function(p){return n.onAutoCompleteSelect(p)};this.selectedSubscription={};this.isSpecificSubscription=!!k.type;this.geoOptions=
[];this.initSubscription_(k)};d=Rt.prototype;
d.initSubscription_=function(a){this.isEditDialog?(this.title=this.translationService_.translate("MSG_EDIT_SUBSCRIPTION_TITLE"),this.contentTemplate=this.globalsService_.isSmallDisplayWidth?"/components/subscriptions/dialog/mobile/edit-subscription-dialog-mobile.html":"/components/subscriptions/dialog/desktop/edit-subscription-content-desktop.html",this.selectedSubscription=a.selectedSubscription,this.oldGeo=this.selectedSubscription.geo,this.selectedSubscription.hasOwnProperty("term")?(this.geoOptions=
this.subscriptionsService.geoOptionsTopic,this.oldTerm=this.selectedSubscription.term,this.termTitle=this.selectedSubscription.term.title,this.subscriptionType=this.subscriptionTypes.TOPIC):(this.geoOptions=this.subscriptionsService.geoOptionsHotTrends,this.subscriptionType=this.subscriptionTypes.TRENDING_SEARCHES)):(this.title=this.translationService_.translate("MSG_ADD_SUBSCRIPTION_TITLE"),this.contentTemplate=this.globalsService_.isSmallDisplayWidth?"/components/subscriptions/dialog/mobile/add-subscription-dialog-mobile.html":
"/components/subscriptions/dialog/desktop/add-subscription-content-desktop.html",this.setSubscriptionType(a.type||this.subscriptionTypes.TOPIC))};
d.setSubscriptionType=function(a){a===this.subscriptionTypes.TOPIC?(this.geoOptions=this.subscriptionsService.geoOptionsTopic,this.selectedSubscription=this.subscriptionsService.createTermSubscription(),this.canSaveSubscription=!1,this.globalsService_.isSmallDisplayWidth||this.setAutocompleteParams(!1)):(this.geoOptions=this.subscriptionsService.geoOptionsHotTrends,this.selectedSubscription=this.subscriptionsService.createHotTrendsSubscription(void 0,this.subscriptionGeo),this.canSaveSubscription=
!0);this.subscriptionType=a};d.openDeleteDialog=function(){this.closeDialog();this.subscriptionsService.selectedSubscription=this.selectedSubscription;this.subscriptionsService.isDeleteDialogOpen=!0};d.closeDialog=function(){this.mdDialog_.hide()};d.openMenu=function(a){this.menuOptions=this.subscriptionsService.getMenuOptions(a,this.subscriptionType);this.title=this.subscriptionsService.getTitle(a);this.isMenuOpen=!0};d.openTermMenu=function(){this.openMenu(this.menuTypes.TERM);this.setAutocompleteParams()};
d.setAutocompleteParams=function(a){this.termTitle=this.selectedSubscription.term?this.selectedSubscription.term.title:"";this.isAutoFocus=void 0===a?!0:a;this.isTermMenuOpen=!0};d.onAutoCompleteSelect=function(a){a&&a.title.length&&(this.termTitle=a.title,this.canSaveSubscription=!0,this.isTermMenuOpen=!1,this.setSelectedSubscription(a,this.menuTypes.TERM))};
d.setSelectedSubscription=function(a,b){switch(b){case this.menuTypes.GEO:this.selectedSubscription.geo=a;break;case this.menuTypes.FREQUENCY_TOPIC:case this.menuTypes.FREQUENCY_HOT_TRENDS:this.selectedSubscription.frequency=a;break;case this.menuTypes.TERM:this.selectedSubscription.term=a;break;case this.menuTypes.LEVEL:this.selectedSubscription.level=a}this.closeMenu()};
d.closeMenu=function(){this.title=this.isEditDialog?this.translationService_.translate("MSG_EDIT_SUBSCRIPTION_TITLE"):this.translationService_.translate("MSG_ADD_SUBSCRIPTION_TITLE");this.isTermMenuOpen=this.isMenuOpen=!1};
d.saveSubscription=function(){var a=this;this.canSaveSubscription&&(this.isEditDialog?this.replaceSubscription_():this.subscriptionsApiService_.saveSubscription(this.selectedSubscription).then(function(b){a.subscriptionsService.formatSubscriptionsList(b.data.subscriptions);a.closeDialog();a.trackingService_.trackEvent(a.subscriptionsService.analyticsCategory,"added subscription",a.selectedSubscription.type);a.subscriptionsService.showToastMessage(a.subscriptionsService.subscriptionActions.ADDED)},
function(b){return a.logger_.puts("error",["Subscriptions save api",b])}))};
d.replaceSubscription_=function(){var a=this,b=Object.assign({newgeo:this.selectedSubscription.geo},this.selectedSubscription);b.geo=this.oldGeo;this.selectedSubscription.hasOwnProperty("term")&&Object.assign(b,{term:this.oldTerm,newterm:this.selectedSubscription.term});this.subscriptionsApiService_.replaceSubscription(b).then(function(c){a.subscriptionsService.formatSubscriptionsList(c.data.subscriptions);a.closeDialog();a.trackingService_.trackEvent(a.subscriptionsService.analyticsCategory,"modified subscription",
a.selectedSubscription.type);a.subscriptionsService.showToastMessage(a.subscriptionsService.subscriptionActions.EDITED)},function(c){return a.logger_.puts("error",["Subscriptions replace api",c])})};d.handleOpenedMenusOnClickingOutside=function(a){a.on("click",function(b){"md-select"!==b.path[0].localName&&document.body.querySelectorAll("._md-select-menu-container._md-active._md-clickable").forEach(function(c){return c.remove()})})};
d.getTermTitle=function(){return this.selectedSubscription.term.title||this.autocompletePlaceHolderText};Rt.$inject="$mdDialog subscriptionsService globalsService configService translationService subscriptionsApiService subscriptionParams trackingService".split(" ");var St=function(a,b,c){this.http_=a;this.subscriptionBaseUrl_=c.pathPrefix+"/api/subscriptions";this.httpParamSerializer_=b};d=St.prototype;d.callApi_=function(a,b){return this.http_({method:a,url:this.subscriptionBaseUrl_+"/"+b})};d.createParams_=function(a,b){var c={geo:a.geo.id,frequency:a.frequency.id,token:window.xsrfToken};Object.assign(c,b?{term:a.term.mid}:{level:a.level.id});a.newgeo&&(c.newgeo=a.newgeo.id,b&&(c.newterm=a.newterm.mid));return c};
d.createUrlSuffix_=function(a,b){var c=a.hasOwnProperty("term"),e=c?"term":"hottrends";a=this.createParams_(a,c);a=this.httpParamSerializer_(a);return""+b+e+"?"+a};d.getSubscriptions=function(){return this.callApi_("GET","get")};d.saveSubscription=function(a){a=this.createUrlSuffix_(a,"save");return this.callApi_("POST",a)};d.replaceSubscription=function(a){a=this.createUrlSuffix_(a,"replace");return this.callApi_("POST",a)};
d.deleteSubscription=function(a){a=this.createUrlSuffix_(a,"delete");return this.callApi_("POST",a)};St.$inject=["$http","$httpParamSerializer","configService"];var Wt=function(a,b,c,e,f,g,k,l){var n=this;this.trackingService_=g;this.mdDialog_=a;this.subscriptionsApiService_=b;this.logger_=new c.DebugLogger(this);this.globalsService_=e;this.translationService_=f;this.mdToast_=k;this.timeout_=l;this.subscriptionActions=Tt;this.regionTitle_=f.translate("MSG_SUBSCRIPTION_REGION");this.levelTitle_=f.translate("MSG_SUBSCRIPTION_LEVEL_TYPE");this.howOftenTitle_=f.translate("MSG_SUBSCRIPTION_HOW_OFTEN");this.topicTitle_=f.translate("MSG_SUBSCRIPTION_TOPIC");this.termTypeDefaultTitle_=
f.translate("MSG_SUBSCRIPTION_TERM_TYPE");this.analyticsCategory="Subscription";this.geoOptionsTopic=this.getGeoOptionsTopic_();this.geoOptionsHotTrends=e.getGeoPicker(e.geoPickerOptions.TRENDING_SEARCHES);this.defaultGeoTopic_=this.getOptionById_(this.geoOptionsTopic,"");this.defaultGeoHotTrends_=this.getOptionById_(this.geoOptionsHotTrends,c.defaultGeoId);this.subscriptionTypes=Ut;this.subscriptionsList=[];this.isDeleteDialogOpen=!1;this.selectedSubscription=null;this.menuTypes=Vt;this.isToastVisible=
!1;a={};this.toastMessagesMap_=(a.added=f.translate("MSG_SUBSCRIPTION_ADDED"),a.edited=f.translate("MSG_SUBSCRIPTION_EDITED"),a.deleted=f.translate("MSG_SUBSCRIPTION_DELETED"),a);this.frequencyTopicOptions=[{id:"ABOUT_ONCE_A_WEEK",name:f.translate("MSG_ABOUT_ONCE_A_WEEK")},{id:"ABOUT_ONCE_A_MONTH",name:f.translate("MSG_ABOUT_ONCE_A_MONTH")}];this.frequencyHotTrendsOption=[{id:"AS_IT_HAPPENS",name:f.translate("MSG_AS_IT_HAPPENS")},{id:"ONCE_A_DAY",name:f.translate("MSG_ONCE_A_DAY")},{id:"ONCE_A_WEEK",
name:f.translate("MSG_ONCE_A_WEEK")}];this.levelOptions=[{id:"HOTTEST",name:f.translate("MSG_LEVEL_HOTTEST")},{id:"HOTTER",name:f.translate("MSG_LEVEL_HOTTER")},{id:"HOT",name:f.translate("MSG_LEVEL_HOT")}];this.closeDeleteDialogBind=function(){return n.closeDeleteDialog_()};this.deleteSubscriptionBind=function(){return n.deleteSubscription_()}};d=Wt.prototype;
d.getGeoOptionsTopic_=function(){var a={id:"",name:this.translationService_.translate("MSG_WORLDWIDE_GEO")},b=this.globalsService_.getGeoPicker(this.globalsService_.geoPickerOptions.ALL_COUNTRIES);return[a].concat(ca(b))};
d.deleteSubscription_=function(){var a=this;this.subscriptionsApiService_.deleteSubscription(this.selectedSubscription).then(function(b){a.formatSubscriptionsList(b.data.subscriptions);a.closeDeleteDialog_();a.globalsService_.isSmallDisplayWidth&&a.mdDialog_.hide();a.trackingService_.trackEvent(a.analyticsCategory,"deleted subscription",a.selectedSubscription.type);a.showToastMessage("deleted")},function(b){return a.logger_.puts("debug",["Subscriptions delete api",b])})};
d.closeDeleteDialog_=function(){this.isDeleteDialogOpen=!1};d.getTitle=function(a){switch(a){case 1:return this.regionTitle_;case 2:return this.levelTitle_;case 4:case 3:return this.howOftenTitle_;case 5:return this.topicTitle_;default:return""}};
d.getMenuOptions=function(a,b){switch(a){case 1:return{options:"topic"===b?this.geoOptionsTopic:this.geoOptionsHotTrends,menuType:a};case 2:return{options:this.levelOptions,menuType:a};case 3:return{options:this.frequencyTopicOptions,menuType:a};case 4:return{options:this.frequencyHotTrendsOption,menuType:a};default:return{options:[],menuType:a}}};
d.formatSubscriptionsList=function(a){var b=this;this.subscriptionsList=[];a.forEach(function(c){c=c.termSettings?b.createTermItem_(c.termSettings):b.createHotTrendItem(c.hotTrendsSettings);b.subscriptionsList.push(c)})};d.createHotTrendItem=function(a){var b=this.getOptionById_(this.frequencyHotTrendsOption,a.frequency),c=this.getOptionById_(this.geoOptionsHotTrends,a.geo);a=this.getOptionById_(this.levelOptions,a.hotnessLevel);return this.createHotTrendsSubscription(b,c,a)};
d.createTermItem_=function(a){var b=this.getOptionById_(this.frequencyTopicOptions,a.frequency),c=this.getOptionById_(this.geoOptionsTopic,a.geo);return this.createTermSubscription(b,c,{title:a.title,mid:a.term,type:a.type||this.termTypeDefaultTitle_})};d.createTermSubscription=function(a,b,c){a=void 0===a?this.frequencyTopicOptions[0]:a;b=void 0===b?this.defaultGeoTopic_:b;c=void 0===c?{title:"",mid:null,type:""}:c;return{frequency:a,geo:b,term:c,type:this.topicTitle_}};
d.createHotTrendsSubscription=function(a,b,c){a=void 0===a?this.frequencyHotTrendsOption[0]:a;b=void 0===b?this.defaultGeoHotTrends_:b;c=void 0===c?this.levelOptions[0]:c;return{frequency:a,geo:b,level:c,type:c.name}};d.getOptionById_=function(a,b){return a.find(function(c){return c.id===b})};
d.openDialog=function(a){a={templateUrl:this.globalsService_.isSmallDisplayWidth?"/components/subscriptions/dialog/mobile/subscription-dialog-mobile.html":"/components/subscriptions/dialog/desktop/subscription-dialog-desktop.html",fullscreen:this.globalsService_.isSmallDisplayWidth,locals:{subscriptionParams:a},onShowing:function(b,c){return b.ctrl.handleOpenedMenusOnClickingOutside(c)},onRemoving:function(b){return b.off("click")}};Object.assign(a,Xt);this.mdDialog_.show(a)};
d.showToastMessage=function(a){var b=this;a=this.toastMessagesMap_[a];this.isToastVisible=!0;this.mdToast_.show({template:'<md-toast>\n             <div class="md-toast-content subscriptions-toast">\n                <span>'+a+"</span>\n             </div>\n          </md-toast>"});this.timeout_(function(){return b.isToastVisible=!1},3400)};Wt.$inject="$mdDialog subscriptionsApiService configService globalsService translationService trackingService $mdToast $timeout".split(" ");
var Tt={ADDED:"added",EDITED:"edited",DELETED:"deleted"},Ut={TOPIC:"topic",TRENDING_SEARCHES:"trendingSearches"},Xt={clickOutsideToClose:!0,controller:Rt,controllerAs:"ctrl"},Vt={GEO:1,LEVEL:2,FREQUENCY_TOPIC:3,FREQUENCY_HOT_TRENDS:4,TERM:5};var Yt=function(){var a=this;this.messages_={};this.dynamicPlaceholdersMessages_={};this.messages_.MSG_GOOGLE_TRENDS="Google Trends";this.messages_.MSG_RELATED_QUERIES="Related Queries";this.messages_.MSG_RELATED_NEWS="Related News";this.messages_.MSG_SAVE_BUTTON="Save";this.messages_.MSG_SUBSCRIPTIONS_HEADER_TITLE="Subscriptions";this.messages_.MSG_SUBSCRIBE_BUTTON="Subscribe";this.messages_.MSG_UNSUBSCRIBE_BUTTON="Unsubscribe";this.messages_.MSG_ADD_SUBSCRIPTION_TITLE="Add subscription";this.messages_.MSG_EDIT_SUBSCRIPTION_TITLE=
"Edit subscription";this.messages_.MSG_SUBSCRIPTION_ADDED="Subscription added";this.messages_.MSG_SUBSCRIPTION_EDITED="Subscription edited";this.messages_.MSG_SUBSCRIPTION_DELETED="Subscription deleted";this.messages_.MSG_SUBSCRIPTION_TOPIC_TAB="TOPIC";this.messages_.MSG_TRENDING_SEARCHES_TITLE_SMALL="Trends";this.messages_.MSG_TRENDING_SEARCHES_TITLE="Trending Searches";this.messages_.MSG_SUBSCRIPTION_TRENDING_SEARCHES_TAB="TRENDING SEARCHES";this.messages_.MSG_SUBSCRIPTIONS_DAILY_SEARCH_TRENDS=
"Daily Search Trends";this.messages_.MSG_SUBSCRIPTION_ITEM="Item";this.messages_.MSG_SUBSCRIPTION_REGION="Region";this.messages_.MSG_SUBSCRIPTION_TYPE="Type";this.messages_.MSG_SUBSCRIPTION_HOW_OFTEN="How Often";this.messages_.MSG_SUBSCRIPTION_TOPIC="Topic";this.messages_.MSG_SUBSCRIPTION_LEVEL_TYPE="Type";this.messages_.MSG_SUBSCRIPTION_DIALOG_TERM="Subscribe to receive updates about noteworthy events.";this.messages_.MSG_SUBSCRIPTION_DIALOG_TRENDING="Notify me about Trending Searches.";this.messages_.MSG_ABOUT_ONCE_A_WEEK=
"About once a week";this.messages_.MSG_ABOUT_ONCE_A_MONTH="About once a month";this.messages_.MSG_AS_IT_HAPPENS="As it happens";this.messages_.MSG_ONCE_A_DAY="Once a day";this.messages_.MSG_ONCE_A_WEEK="Once a week";this.messages_.MSG_LEVEL_HOTTEST="Top Daily Search Trends";this.messages_.MSG_LEVEL_HOTTER="Majority of Daily Search Trends";this.messages_.MSG_LEVEL_HOT="All Daily Search Trends";this.messages_.MSG_SUBSCRIPTION_TERM_TYPE="Search term";this.messages_.MSG_START_WITH_EXAMPLE="Or start with an example";
this.messages_.MSG_NO_DAILY_TRENDS_FOR_REGION_ERROR="<div>Daily search trends</div><div>are not available for this region.</div><div>Try a different region</div>";this.messages_.MSG_REALTIME_HEADER_TITLE_MOBILE="Past 24h";this.messages_.MSG_REALTIME_HEADER_TITLE_DESKTOP="Past 24 hours";this.messages_.MSG_SEARCH_BAR_PLACEHOLDER="Enter a search term or a topic";this.messages_.MSG_READ_MORE="Read more";this.messages_.MSG_VISIT_WEBSITE="Visit website";this.messages_.MSG_SHOW_MORE="Show more";this.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_TITLE=
"We are excited to announce a fresh new redesign of Google Trends!";this.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_BODY="We have added new features and simplified our navigation to make it easier to explore data based stories.";this.messages_.MSG_DAILY_SEARCHES_DESKTOP_TITLE="daily search trends";this.messages_.MSG_DAILY_SEARCHES_MOBILE_TITLE="daily";this.messages_.MSG_REALTIME_SEARCHES_DESKTOP_TITLE="realtime search trends";this.messages_.MSG_REALTIME_SEARCHES_MOBILE_TITLE="realtime";this.messages_.MSG_REAL_TIME_HELP_DIALOG_TITLE=
"Realtime Search Trends";this.messages_.MSG_REAL_TIME_HELP_DIALOG_DESCRIPTION="Realtime Search Trends highlight stories that are trending across Google surfaces within the last 24 hours, and are updated in realtime. These stories are a collection of Knowledge Graph topics, Search interest, trending YouTube videos, and/or Google News articles detected by our algorithms.";this.messages_.MSG_DAILY_HELP_DIALOG_TITLE="Daily Search Trends";this.messages_.MSG_DAILY_HELP_DIALOG_DESCRIPTION="Daily Search Trends highlights searches that jumped significantly in traffic among all searches over the past 24 hours and updates hourly. These search trends show the specific queries that were searched, and the absolute number of searches made.";
this.messages_.MSG_RECENTLY_TRENDING_TITLE="Recently trending";this.messages_.MSG_RECENTLY_TRENDING_TITLE_GLOBAL="Recently trending - Global";this.messages_.MSG_AUTOCOMPLETE_PLACEHOLDER="Type in a search term or a topic";this.messages_.MSG_WORLDWIDE_GEO="Worldwide";this.messages_.MSG_COMPARE_NEW="Compare";this.messages_.MSG_EXPLORE_NEW="Explore";this.messages_.MSG_ADVANCED_COMPARISON="Advanced Comparison";this.messages_.MSG_YIS_EXPLORE_FILM_INTERACTIVE_MESSAGE="Explore the trends behind the film";
this.dynamicPlaceholdersMessages_.YIS_INTERACTIVE_MESSAGE=function(b){return a.formatYisInteractiveMessage_(b)};this.dynamicPlaceholdersMessages_.YIS_TITLE=function(b){return a.formatYisTitle_(b)};this.dynamicPlaceholdersMessages_.YIS_TRENDING_GEO_PICKER_TITLE=function(b){return a.formatYisTrendingGeoPickerTitle_(b)};this.dynamicPlaceholdersMessages_.YIS_MOST_SEARCHED_GEO_PICKER_TITLE=function(b){return a.formatYisMostSearchedGeoPickerTitle_(b)};this.dynamicPlaceholdersMessages_.SEARCH_COUNT=function(b){return a.formatSearchCount_(b)};
this.dynamicPlaceholdersMessages_.USER_EMAIL=function(b){return a.formatUserEmail_(b)};this.dynamicPlaceholdersMessages_.SOURCE_AND_TIME=function(b){return a.formatSourceAndTime_(b)};this.dynamicPlaceholdersMessages_.EXPLORE_TOPIC=function(b){return a.formatExploreTopic_(b)};this.dynamicPlaceholdersMessages_.NO_REALTIME_TRENDS_FOR_REGION_ERROR=function(b){return a.formatNoRealtimeTrendsForRegionError_(b)};this.dynamicPlaceholdersMessages_.SUBSCRIPTION_TITLE=function(b){return a.formatSubscriptionTitle_(b)};
this.dynamicPlaceholdersMessages_.WIDGET_SHARE_WITH_DATA=function(b){return a.formatWidgetShareWithData_(b)};this.dynamicPlaceholdersMessages_.WIDGET_SHARE_NO_KEYWORDS=function(b){return a.formatWidgetShareNoKeywords_(b)};this.dynamicPlaceholdersMessages_.WIDGET_SHARE_NO_GEO_AND_PERIOD=function(b){return a.formatWidgetShareNoGeoAndPeriod_(b)};this.dynamicPlaceholdersMessages_.SEARCH_RANGE_WAS_ADJUSTED_NEW=function(b){return a.formatSearchRangeWasAdjusted_(b)}};d=Yt.prototype;
d.formatYisInteractiveMessage_=function(a){return"Experience the Year in Search "+(a.year+" interactive visualization")};d.formatYisTitle_=function(a){return"Year in Search "+a.year};d.formatYisTrendingGeoPickerTitle_=function(a){return"See what was trending in "+(a.year+" - ")};d.formatYisMostSearchedGeoPickerTitle_=function(a){return"See what was most searched in "+(a.year+" - ")};d.formatSearchCount_=function(a){return a.count+" searches"};
d.formatUserEmail_=function(a){return"Email address: "+a.userEmail};d.formatSourceAndTime_=function(a){return a.source+(" \u2022 "+a.timeAgo)};d.formatExploreTopic_=function(a){return"Explore "+a.topic};d.formatNoRealtimeTrendsForRegionError_=function(a){return"<div>Realtime search trends</div><div>are not available for this region.</div><div>Try a different region or</div>"+(a.startLink+"SEE DAILY TRENDS</a>")};d.formatSubscriptionTitle_=function(a){return a.term+(" ("+(a.type+")"))};
d.formatWidgetShareWithData_=function(a){return"See "+(a.widgetTitle+(" on Google Trends for "+(a.keywords+(" - "+(a.geo+(", "+a.time))))))};d.formatWidgetShareNoKeywords_=function(a){return"See "+(a.widgetTitle+(" on Google Trends for "+(a.geo+(", "+a.time))))};d.formatWidgetShareNoGeoAndPeriod_=function(a){return"See "+(a.widgetTitle+(" on Google Trends for "+a.keywords))};d.formatSearchRangeWasAdjusted_=function(a){return a.property+" data is not available prior to 2008. Time range was adjusted to 2008-present."};
d.translate=function(a,b){b=void 0===b?{}:b;return this.messages_[a]?(new sd(this.messages_[a])).format(b):this.dynamicPlaceholdersMessages_[a](b)};var Zt,$t,au=function(){this.restrict="A";this.link=Zt.bind(this.link,this)};au.prototype.link=function(a,b,c){c.jslog.match("generic_click")&&this.trackClick_(b)};au.prototype.trackClick_=function(a){a.on("click",function(){return $t.tracker_.logEvent("click",a[0])})};var bu=function(a,b){Zt=a;$t=b;return new au};t("$jscomp.scope.directiveInjector$jscomp$34",bu,void 0);bu.$inject=["lodash","loggingService"];var cu,du,eu,fu,gu,hu,iu,ju=function(){this.restrict="E";this.templateUrl="/components/video/video-directive.html";this.scope={videoUrl:"="};this.videoElement_=this.player_=void 0;this.link=this.link_.bind(this)};d=ju.prototype;
d.link_=function(a,b){a.config=cu;a.play=this.play_.bind(this,a);a.close=this.close_.bind(this,a);a.getPlayIconSvgPath=function(){return du.getPlayIcon()};eu.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady_.bind(this,a);a.$watch("videoUrl",this.updateVideoUrl_.bind(this,a));this.videoElement_||this.embed_(a);b.on("$destroy",function(){});a.isPlayerReadyBind=this.isPlayerReady_.bind(this)};d.updateVideoUrl_=function(a){this.player_&&(this.player_.loadVideoByUrl(a.videoUrl),this.player_.stopVideo())};
d.embed_=function(a){var b=angular.element(document.body),c=fu.get("/components/video/video.html");this.videoElement_=gu(c)(a);b.append(this.videoElement_);this.loadYoutubeApi_();b.bind("keydown keypress keyup",function(e){27===e.which&&(a.close(),e.preventDefault())})};
d.playerReadyAndPlay_=function(a){var b=this;a.unregisterPlayWatch&&a.unregisterPlayWatch();angular.element(document.body).addClass("video-dialog-opened");this.videoElement_.addClass("video-overlay-dialog-opened").removeClass("video-overlay-dialog-closed");hu(function(){return b.player_.playVideo()},0);if(1<eu.history.length)var c=a.$on("$locationChangeStart",function(){b.player_.getPlayerState()!==eu.YT.PlayerState.UNSTARTED&&(a.close(),c())})};
d.isPlayerReady_=function(){return this.player_&&"function"===typeof this.player_.playVideo};d.play_=function(a){var b=this;a.isPlayerReadyBind()?this.playerReadyAndPlay_(a):a.unregisterPlayWatch=a.$watch(a.isPlayerReadyBind,function(c){c&&b.playerReadyAndPlay_(a)})};
d.close_=function(){this.player_.stopVideo();angular.element(document.body).removeClass("video-dialog-opened");this.videoElement_.addClass("video-overlay-dialog-closed").removeClass("video-overlay-dialog-opened");if("1"===iu.autoplay){var a=new URLSearchParams(location.search);a.set("autoplay","0");history.replaceState({},"",""+location.pathname+location.hash+"?"+a.toString())}};
d.getVideoId_=function(a){return(a=(a.videoUrl||"").match(/https:\/\/www\.youtube\.com\/embed\/([a-zA-Z0-9_-]*)/i))?a[1]:void 0};d.loadYoutubeApi_=function(){var a=document.createElement("script");a.type="text/javascript";a.src="https://www.youtube.com/iframe_api";angular.element(document.body).append(a)};
d.onYouTubeIframeAPIReady_=function(a){var b={enablejsapi:1,autohide:1,autoplay:0,controls:1,fs:0,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1};0!==cu.locale.indexOf("en")&&(b.cc_lang_pref=cu.locale,b.cc_load_policy=1);var c=this.getVideoId_(a);c&&(eu.player=new eu.YT.Player("player",{height:"100%",width:"100%",videoId:c,events:{onReady:this.onPlayerReady_.bind(this,a),onStateChange:this.onPlayerStateChange_.bind(this,a)},playerVars:b}))};
d.onPlayerReady_=function(a,b){this.player_=b.target;"1"===iu.autoplay&&a.play()};d.onPlayerStateChange_=function(a,b){b.data===eu.YT.PlayerState.ENDED&&a.close();(a=angular.element(document.body)[0].getAttribute("class"))&&0>a.indexOf("video-dialog-opened")&&b.data!==eu.YT.PlayerState.UNSTARTED&&this.player_.stopVideo()};var ku=function(a,b,c,e,f,g,k,l,n,p,q){cu=c;gu=e;fu=f;hu=g;iu=l;eu=n;du=q;return new ju};t("$jscomp.scope.directiveInjector$jscomp$35",ku,void 0);ku.$inject="$mdDialog $mdBottomSheet configService $compile $templateCache $timeout $sce $routeParams $window $location yisService globalsService".split(" ");var lu,mu,nu,ou,pu,qu,ru,su,tu,uu,vu=function(){var a=this,b=this.controller;this.restrict="E";this.template='<ng-include src="widgetTemplate"></ng-include>';this.yisYear=void 0;this.scope={type:"@",version:"@",template:"@",onEvent:"&?",exploreParamsGetter:"&?",shareTitleGetter:"&?",storyId:"@",yisYear:"@",storyParentId:"@",storyTitle:"@",storyTitleArray:"=?",storyCountry:"@",geo:"@",storyTimeRange:"@",timeRange:"=?",storyNumberOfItems:"@",storyTimestamp:"@",widgetIsCurated:"@",colorTheme:"@",palette:"=?",
data:"=?",showLegend:"=?",showModePicker:"=?","export":"&?",helpDialog:"=?",exploreQuery:"=?",anchorName:"=?",exploreUrl:"@",widgetName:"@",showMultiHeatMapMessage:"=?",isMainEditorialItem:"=?"};this.controller=function(c){b.call(a,c)};this.controller.$inject=["$scope"];this.link=function(c){c.getTemplate()}};d=vu.prototype;d.arrayMap_=function(a,b){b||(b={});return lu.map(a,function(c){var e={};lu.forIn(c,function(f,g){e[b[g]||g]=f});return e})};
d.controller=function(a){this.yisYear=mu.getYisYear();var b=this.getColorPalette_(a);nu.embedWidgetGlobals&&lu.assign(a,nu.embedWidgetGlobals);lu.defaults(a,a.data,{});a.config=mu;a.widgetPalette=b;a.forcedColor=b?b[0].hexvalue:"";a.arrayMap=lu.bindKey(this,"arrayMap_");a.getTemplate=lu.bindKey(this,"getTemplate_",a);a.embed=lu.bindKey(this,"showEmbedDialog_",a);this.yisYear&&(this.adaptSharingOptionsForYis(a),this.updateWidgetAnchorNameForYis(a));mu.enableWidgetShare&&(a.share=lu.bindKey(this,"showShareDialog_",
a));lu.forEach(a.widgetExternalApis,lu.bindKey(this,"updateApiConfig_",a.token))};d.updateWidgetAnchorNameForYis=function(a){a.anchorName=a.id;a.id===ou.hash()&&setTimeout(function(){pu()},0)};
d.adaptSharingOptionsForYis=function(a){a.genericAction=lu.bindKey(this,"fireGenericAction_",a);a.widgetFields||(a.widgetFields=[],a.widgetFields[0]={name:"topic",type:"string",value:a.listTitle},a.widgetFields[1]={name:"bullets",subtype:"string",type:"list",values:a.listItems},a.widgetFields[2]={name:"listItemsV2",subtype:"string",type:"list",values:a.listItemsV2})};d.getSiteBasePath_=function(){return window.location.protocol+"//"+window.location.host+mu.pathPrefix};
d.generateExploreShareURI_=function(a){return this.getSiteBasePath_()+"/explore/"+a+window.location.search};d.generateStoryShareURI_=function(a,b){a=this.getSiteBasePath_()+"/story/"+a;b&&(a+="/"+b);return a};d.generateTopChartsShareURI_=function(a){var b=this.getSiteBasePath_(),c=mu.getYisGeo();b=b+"/yis/"+this.yisYear+"/"+c;a&&(b+="/"+a);return b};d.getColorPalette_=function(a){var b=a.palette;a.colorTheme&&(b=qu.get("paletteService").getByThemeName(a.colorTheme));return b};
d.getDefaultShareTitle_=function(a,b){return a.storyTitle?[a.storyTitle,b].join(", "):b};d.getTemplate_=function(a){var b=ru.slugifyString(a.type).replace(/[^-_a-z0-9]/ig,"");a.widgetTemplate=b?"/components/widgets/types/"+b+".html":""};d.fireGenericAction_=function(a,b,c){var e=su.isSmallTouchDeviceMode,f=su.isMobileMode;switch(b){case "openYisModal":f&&this.showShareDialogYis_(a);break;case "openListItemModal":e&&this.showListItemModal_(a,c);break;case "copy":tu.copyWidgetData(a.widgetFields)}};
d.showEmbedDialog_=function(a){var b=!(!a.widgetExternalApis||!a.widgetExternalApis.length);uu.show({controller:"EmbedDialogCtrl",controllerAs:"ctrl",templateUrl:"/components/embed/embed-dialog.html",clickOutsideToClose:!0,locals:{storyId:a.storyId,widgetId:a.id,exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),timestamp:a.storyTimestamp,timeRange:a.timeRange,exploreQuery:a.exploreQuery,hasExternalApi:b,showLiveDataCheckbox:!0,isCurated:a.isCurated,geo:"",wideView:!1},onComplete:function(c){c.isDialogComplete=
!0;c.$applyAsync()}})};d.getWidgetFields_=function(){return this.widgetFields?this.widgetFields:[]};d.showShareDialogYis_=function(a){var b=qu.get("shareService"),c=a.storyId,e=a.id,f=this.generateTopChartsShareURI_(e),g=a.widgetFields?lu.find(a.widgetFields,{name:"topic"}).value:a.title;b.openYisBottomSheet(f,{title:a.shareTitleGetter&&a.shareTitleGetter({widgetTitle:g})||g,exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),storyID:c,widgetID:e,widgetData:a.widgetFields})};
d.showListItemModal_=function(a,b){var c=qu.get("shareService"),e=a.storyId,f=a.id,g=e?this.generateStoryShareURI_(e,f):this.generateExploreShareURI_(f),k=this.getWidgetFields_.bind(a)();k=k[1]?k[1].values:[];c.openListItemBottomSheet(g,{exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),storyID:e,widgetID:f,widgetItem:k.length?k[b]:"",widgetData:a.widgetFields})};
d.showShareDialog_=function(a){var b=qu.get("shareService"),c=a.storyId,e=a.id,f=a.widgetFields?lu.find(a.widgetFields,{name:"topic"}).value:a.title;if("fe_yis_story_card"===a.widgetType&&a.storyParentId&&"fe_goober"!==a.template){var g=lu.find(a.widgetFields,function(k){return"storyLinkURL"===k.name});g&&(c=g.value.match(/story\/(.+)/)[1],e=null)}g="";g=this.yisYear?this.generateTopChartsShareURI_(e):c?this.generateStoryShareURI_(c,e):this.generateExploreShareURI_(e);b.openModal(g,{title:a.shareTitleGetter&&
a.shareTitleGetter({widgetTitle:f})||this.getDefaultShareTitle_(a,f),exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),storyID:c,widgetID:e,widgetType:a.widgetType,widgetData:a.widgetFields})};d.updateApiConfig_=function(a,b){lu.isObject(b.params)&&(b.params.tz=mu.userTimezoneOffset,b.params.token=a)};var wu=function(a,b,c,e,f,g,k,l,n,p,q,u){qu=a;nu=b;uu=c;lu=e;ru=f;mu=g;su=g.getYisYear()?l:n;tu=p;pu=q;ou=u;return new vu};t("$jscomp.scope.directiveInjector$jscomp$36",wu,void 0);
wu.$inject="$injector $window $mdDialog lodash helpersFactory configService bidiService globalsYisService globalsService clipboardService $anchorScroll $location".split(" ");var xu=function(a,b,c,e){this.mdDialog=a;this.availableYears=c;this.currentYear=e;this.YisService_=b};xu.prototype.onSelectYear=function(a){a.supported&&(this.mdDialog.hide(),this.YisService_.goToYisYear(a.id))};xu.prototype.isCurrentYear=function(a){return""+a===""+this.currentYear};xu.$inject=["$mdDialog","YisService","availableYears","currentYear"];var yu=function(a,b,c,e){this.mdDialog=a;this.scope_=b;this.configService_=e;this.YisService_=c;this.scope_.currentYear=this.configService_.getYisYear()};yu.prototype.openDialog=function(){this.mdDialog.show({controller:xu,controllerAs:"ctrl",templateUrl:"/components/yis/yearpicker/yis-year-picker-dialog.html",parent:angular.element(document.body),clickOutsideToClose:!0,locals:{availableYears:this.configService_.availableYisYears,currentYear:this.scope_.currentYear,YisService:this.YisService_}})};
yu.$inject=["$mdDialog","$scope","yisService","configService"];var zu,Au,Bu,Cu,Du=function(){var a=this,b=this.controller;this.restrict="E";this.template="<ng-include src=\"'/components/yis/yis-directive.html'\"></ng-include>";this.scope={year:"@",geoId:"<",timestamp:"@"};this.controller=function(c){b.call(a,c)};this.controller.$inject=["$scope"]};
Du.prototype.loadYisData=function(a){var b=this;if(a.geoId){var c=zu.getYisLists(a.geoId,a.year,Au.isMobileMode);Bu.isQuerying.value=!0;a.fadingOut=!0;a.interactiveData={};c.then(function(e){Bu.isQuerying.value=!1;a.fadingOut=!1;a.interactiveData=e.data.interactive;a.widgets=b.formatTopChartsWidgets_(e.data.topCharts);a.year=Bu.year;Bu.rearrangeShareResults(a.widgets)})}};
Du.prototype.formatTopChartsWidgets_=function(a){return a.map(function(b){b.listItemsV2=b.listItems.slice();b.listItems=b.listItems.map(function(c){return c.title});return b})};
Du.prototype.controller=function(a){var b=this;a.isCurrentlyQuerying=function(){return Bu.isCurrentlyQuerying()};a.$watch("geoId",function(){return b.loadYisData(a)});a.interactiveMessage=2018>a.year?Cu.translate("YIS_INTERACTIVE_MESSAGE",{year:a.year}):"2018"===a.year?"Play Game of the Year, a quiz based on the most popular searches of 2018":Cu.translate("MSG_YIS_EXPLORE_FILM_INTERACTIVE_MESSAGE")};var Eu=function(a,b,c,e,f){zu=b;Bu=c;Au=e;Cu=f;return new Du};
Eu.$inject=["$injector","storyService","yisService","globalsService","translationService"];var Fu=function(a,b,c,e){this.rootScope_=a;this.window_=b;this.location_=c;this.configService_=e;this.year=e.getYisYear();this.isQuerying={value:!1};this.yearInSearchVideoEmbedUrls=this.window_.yearInSearchVideoEmbedUrls;this.PLAY_ICON_DESKTOP=e.staticPathPrefix+"/ic_yis_2017_play_desktop.svg";this.PLAY_ICON_MOBILE=e.staticPathPrefix+"/ic_yis_2017_play_mobile.svg";this.DEFAULT_DESKTOP_BANNER_IMAGE_URL="https://ssl.gstatic.com/trends_tpt/226696edff3cdcf19dbdf28c92a6811b982633a5aad32f9be52258a021cce48f.jpg";
this.DEFAULT_MOBILE_BANNER_IMAGE_URL="https://ssl.gstatic.com/trends_tpt/e02dabcb06ed9a699732004fa4038c7b46bb7de88f814795319768ccbf614433.jpg"};d=Fu.prototype;d.getItemExploreQuery=function(a,b){return a?a.exploreQuery||a.title:b};d.isCurrentlyQuerying=function(){return this.isQuerying.value};d.shouldDisplayListsExploreLinks=function(){return 2004<=this.year};d.isCurrentYearShowingTrendingSearches=function(){return 2009<=this.year};
d.getCustomBannerVideoUrl=function(a){var b=this.yearInSearchVideoEmbedUrls[this.year];return b?b[a.id]||b["default"]:""};d.getCustomBannerImgUrl=function(){return this.window_.yearInSearchBannerImgUrls&&this.window_.yearInSearchBannerImgUrls[this.year]||this.getDefaultBannerImgUrl_()};d.isDefaultBanner=function(){return!(this.window_.yearInSearchBannerImgUrls&&this.window_.yearInSearchBannerImgUrls[this.year])};
d.getDefaultBannerImgUrl_=function(){return this.rootScope_.globals.isMobileMode?this.DEFAULT_MOBILE_BANNER_IMAGE_URL:this.DEFAULT_DESKTOP_BANNER_IMAGE_URL};d.getYisLink_=function(a){return"/yis/"+a+"/"+this.configService_.getCurrentYisGeoIdFromPathParams()};d.goToYisYear=function(a){this.window_.location.pathname=""+(this.window_.pathPrefix+this.getYisLink_(a))};d.shouldHideFeedbackButton=function(){return this.rootScope_.globals.isMobileMode};
d.getPlayIcon=function(){return this.configService_.isDesktopMode?this.PLAY_ICON_DESKTOP:this.PLAY_ICON_MOBILE};d.rearrangeShareResults=function(a){var b=this,c=this.location_.hash();if(c&&a.length){var e=a.findIndex(function(f){return f.id===c});a[e].isExpandedList=!0;a.unshift(a[e]);a.splice(e+1,1);this.window_.addEventListener("load",function(){return b.rootScope_.$broadcast("scroll-on-load","yis-filters-container")})}};Fu.$inject=["$rootScope","$window","$location","configService"];var Gu,Hu,Iu,Ju,Ku,Lu,Mu,Ou=function(a){this.htmlElement_=angular.element(Gu[0].documentElement);this.scope=a;this.pickersData={};this.activeFilter=null;this.messages=Nu;this.loadData_()},Pu={category:"getCategoryPicker",geo:"getGeoPicker",period:"getPeriodOptions",property:"getPropertyOptions"},Nu={MSG_CATEGORY:"Category",MSG_GEO:"Country",MSG_PROPERTY:"Google Property",MSG_PERIOD:"Period"};d=Ou.prototype;
d.applyChanges=function(){Hu(Iu.bind(function(){if(this.scope.onChange)this.scope.onChange();this.closeDialog()},this),50)};d.applyClick=function(a,b){a.ngModelProperty=b;this.applyChanges()};d.closeDialog=function(){Ju.cancel();this.htmlElement_.removeClass("no-scroll")};d.getTitleByPicker=function(a){var b=this.pickersData[a];a=this.scope["ngModel"+Ku.titleizeString(a)];return a.name?a.name:(b=b.getNodeByID(a.id?a.id:a))&&b.name};
d.loadData_=function(){var a={};Iu.forEach(Pu,function(b,c){a[c]=Lu[b]()},this);Mu.all(a).then(Iu.bind(function(b){this.pickersData=b},this))};d.openDialog=function(){this.activeFilter=null;Ju.show({controller:Iu.constant(this),controllerAs:"ctrl",scope:this.scope,preserveScope:!0,templateUrl:"/explorepage/explore-mobile-hub-dialog.html"});this.htmlElement_.addClass("no-scroll")};
var Qu=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/explorepage/explore-mobile-hub-directive.html";this.scope={isWebSearch:"=",visiblePickers:"=",visibleLegendPickers:"=?",ngModelCategory:"=?",ngModelGeo:"=?",ngModelPeriod:"=?",ngModelProperty:"=?",onChange:"&?",individualSearchTerm:"@?"};this.controller=function(c){return b.call(a,c)};this.controller.$inject=["$scope"]};t("$jscomp.scope.ExploreMobileHubDirective",Qu,void 0);
Qu.prototype.controller=function(a){var b=new Ou(a);return a.ctrl=b};var Ru=function(a,b,c,e,f,g,k){Gu=a;Mu=b;Hu=c;Ju=e;Iu=f;Ku=g;Lu=k;return new Qu};t("$jscomp.scope.directiveInjector$jscomp$37",Ru,void 0);Ru.$inject="$document $q $timeout $mdDialog lodash helpersFactory exploreService".split(" ");var Su,Tu,Uu,Vu,Wu=function(a){this.scope_=a},Xu=function(){var a=this.controller;this.restrict="E";this.templateUrl="/explorepage/explore-pills-directive-new.html";this.scope={terms:"=",resetFiltersHandler:"&",isGlobalFiltersMode:"=",isWebSearch:"=",createTermObject:"&",pillFiltersChangeHandler:"&",isAdvancedComparison:"<"};this.controller=function(b){return a.call(self,b)};this.controller.$inject=["$scope"];this.link=this.link_.bind(this)};
Xu.prototype.link_=function(a,b){a.element=b;a.config=Su;a.colors=Tu};d=Wu.prototype;d.addSearchTerm=function(){var a="",b="";this.scope_.terms&&this.scope_.terms.length&&(b=this.scope_.terms[this.scope_.terms.length-1].selectedTerm,a=b.title,b=b.mid);a=this.scope_.createTermObject({term:{title:a,mid:b},geo:null,date:null,isFocus:!0});a.isPillJustAdded=!0;a.isNewPill=!0;this.scope_.terms.push(a)};
d.showAddTermButton=function(){var a=this.scope_.terms.length,b=this.scope_.terms[a-1];return!b.isNewPill&&5>a&&b.selectedTerm&&b.selectedTerm.mid};d.showTextOnAddTermButton=function(){return this.scope_&&this.scope_.element?252<this.scope_.element[0].querySelector(".add-term-button").clientWidth:!1};d.handleTabKey=function(a){5!=this.scope_.terms.length&&(this.scope_.terms.length-1===a?this.addSearchTerm(this.scope_):this.scope_.terms[a+1].isFocus=!0)};
d.isSmallPill=function(){var a=this.getScreenWidth();return 3<this.scope_.terms.length||640<a&&961>a};d.getScreenWidth=function(){return angular.element(Uu)[0].body.clientWidth};d.updateSearchTerm=function(a,b){a.selectedTerm&&a.selectedTerm.mid||(1<this.scope_.terms.length?this.scope_.terms.splice(b,1):this.scope_.terms[b]={selectedTerm:{title:null,mid:null},isFocus:!1,selectedGeo:{geo:Vu.defaultGeo},selectedPeriod:{period:{id:Vu.defaultPeriod}}});this.scope_.pillFiltersChangeHandler({entity:a})};
Xu.prototype.controller=function(a){var b=new Wu(a);return a.ctrl=b};var Yu=function(a,b,c,e){Tu=(new a.Colors).getHexValues();Uu=b;Vu=c;Su=e;return new Xu};t("$jscomp.scope.directiveInjector$jscomp$38",Yu,void 0);Yu.$inject=["colorsFactory","$document","exploreService","configService"];var Zu,$u,av,bv,cv=function(a){this.scope_=a},dv=function(){var a=this.controller;this.restrict="E";this.templateUrl="/explorepage/explore-pills-directive.html";this.scope={terms:"=",resetFiltersHandler:"&",isGlobalFiltersMode:"=",isWebSearch:"=",createTermObject:"&",pillFiltersChangeHandler:"&",isAdvancedComparison:"<"};this.controller=function(b){return a.call(self,b)};this.controller.$inject=["$scope"];this.link=this.link_.bind(this)};
dv.prototype.link_=function(a,b){a.element=b;a.config=Zu;a.colors=$u};d=cv.prototype;d.addSearchTerm=function(){var a=this.scope_.createTermObject({term:{title:"",mid:""},geo:null,date:null,isFocus:!0});a.pillJustAdded=!0;this.scope_.terms.push(a)};d.showAddTermButton=function(){var a=this.scope_.terms.length,b=this.scope_.terms[a-1];return 5>a&&b.selectedTerm&&b.selectedTerm.mid};
d.showTextOnAddTermButton=function(){return this.scope_&&this.scope_.element?252<this.scope_.element[0].querySelector(".add-term-button").clientWidth:!1};d.handleTabKey=function(a){5!=this.scope_.terms.length&&(this.scope_.terms.length-1===a?this.addSearchTerm(this.scope_):this.scope_.terms[a+1].isFocus=!0)};d.isSmallPill=function(){var a=this.getScreenWidth();return 3<this.scope_.terms.length||640<a&&961>a};d.getScreenWidth=function(){return angular.element(av)[0].body.clientWidth};
d.updateSearchTerm=function(a,b){a.selectedTerm&&a.selectedTerm.mid||(1<this.scope_.terms.length?this.scope_.terms.splice(b,1):this.scope_.terms[b]={selectedTerm:{title:null,mid:null},isFocus:!1,selectedGeo:{geo:bv.defaultGeo},selectedPeriod:{period:{id:bv.defaultPeriod}}});this.scope_.pillFiltersChangeHandler({entity:a})};dv.prototype.controller=function(a){var b=new cv(a);return a.ctrl=b};var ev=function(a,b,c,e){$u=(new a.Colors).getHexValues();av=b;bv=c;Zu=e;return new dv};
t("$jscomp.scope.directiveInjector$jscomp$39",ev,void 0);ev.$inject=["colorsFactory","$document","exploreService","configService"];var fv=function(a,b,c,e,f){this.location_=a;this.lodash_=b;this.locationHash_=decodeURIComponent(c.replace(/^#/,"").replace(/\+/g," "));this.helpers_=e;this.oldFeCompatibilityUtil_=f};t("$jscomp.scope.ExploreCompatibilityService",fv,void 0);fv.$inject=["$location","lodash","locationHash","helpersFactory","oldFeCompatibilityUtil"];
fv.prototype.getHashQueryStringParams=function(){var a=this,b=this.lodash_.pick(this.helpers_.parseQueryStrings(this.locationHash_),"q","geo","cat","date","gprop");if(!this.lodash_.isEmpty(b))return this.lodash_.isString(b.geo)&&(b.geo=b.geo.replace(/(\w+,?)\s?/g,"$1")),this.lodash_.isString(b.date)&&""!=b.date?b.date=this.lodash_.map(b.date.split(","),function(c){return a.oldFeCompatibilityUtil_.convertDateParam_(c)}).join(","):b.date="all",this.lodash_.isString(b.cat)&&(b.cat=b.cat.replace(/(.*-)?(\d+)$/,
"$2")),this.clearHashQueryStringParams_(b),b};fv.prototype.clearHashQueryStringParams_=function(a){var b=this.location_.hash();a=this.lodash_.keys(a).concat("cmpt","tz").join("|");this.location_.hash(b.replace(new RegExp("[?&]?("+a+")=?([^=&]*)","g"),""))};var gv=function(a,b,c,e,f,g,k,l,n,p,q,u,x,w,D,I,ea,Rb,bb){this.scope_=a;this.window_=ea;this.location_=b;this.logger_=new l.DebugLogger(this);this.showExploreInternalNote=window.showExploreInternalNote;this.rootScope_=c;this.q_=e;this.route_=f;this.timeout_=k;this.mdToast_=n;this.lodash_=p;this.globalsService_=Rb;this.translationService_=bb;this.exploreService=q;this.exploreCompatibilityService_=x;this.trackingService_=w;D.startTrackingImpressions();this.routeParams_=g;this.examples=[];this.widgets=
[];this.errorMessage=this.isQuerying=!1;this.geoOptions=null;this.periodOptions=q.getPeriodOptions();this.propertyOptions=q.getPropertyOptions();this.categoryOptions=null;this.exploreUrl="";this.messages=gv.MESSAGES;this.showExamples=!0;this.model=p.defaults({},this.getModelFromQueryString_(),{terms:[this.createTermObject(null,null,null,!this.globalsService_.isMobileMode)],geo:this.exploreService.defaultGeo,period:{id:this.exploreService.defaultPeriod},category:0,property:"",isDefaultData:!0});this.oldModel=
null;this.isGlobalFiltersMode=!0;this.isAdvancedComparison=!1;this.mobileHubVisiblePickers=[];this.mobileHubLegendPickers=[];this.compareContainerElement_=this.requestParamsCache_=null;this.getAutoCompleteListBind=u.getAutoCompleteList.bind(this);this.shareConfig={};this.isWebSearch=!0;this.isEmptyState=!1;this.timeRange=null;this.routeListenerInitialized_=!1;this.onRouteChange_=p.bind(function(){var ia=this.location_.state();ia?(ia=p.cloneDeep(ia),ia.period&&this.model.period&&ia.period.name&&!this.model.period.name&&
delete ia.period.name,angular.equals(this.model,ia)||(this.model=ia)):this.route_.reload()},this);this.compareMsg=this.translationService_.translate("MSG_COMPARE_NEW");this.exploreMsg=this.translationService_.translate("MSG_EXPLORE_NEW");this.advancedComparisonMsg=this.translationService_.translate("MSG_ADVANCED_COMPARISON");this.refreshDebounce_=I.domDebounce(this.refresh_.bind(this),500);this.scope_.$watch("ctrl.model",this.onModelChange_.bind(this),!0);this.loadPickers_();this.logger_.puts("debug",
["Explore page created",arguments]);this.setIsAdvancedComparison_()};d=gv.prototype;d.loadPickers_=function(){var a=this,b=this.exploreService.getGeoPicker(),c=this.exploreService.getCategoryPicker();this.logger_.puts("debug",["loadPickers_",c,b]);this.q_.all([b,c]).then(function(e){e=h(e);a.geoOptions=e.next().value;a.categoryOptions=e.next().value;a.logger_.puts("loadPickers",[a.geoOptions,a.categoryOptions])})};
d.onModelChange_=function(a,b){var c=this;this.oldModel=b;b=this.model.geo===this.exploreService.defaultGeo;var e=this.model.period&&this.model.period.id===this.exploreService.defaultPeriod,f=0===this.model.category,g=""===this.model.property,k=this.model.terms;if(2>k.length)this.isAdvancedComparison=!1;else if(k[k.length-1].isNewPill)return;b&&e&&f&&g||(this.showExamples=!1);!this.isGlobalFiltersMode&&1===k.length&&k[0].selectedTerm.mid&&(k[0].selectedGeo.geo||k[0].selectedPeriod.period.id)&&this.resetFilters(k[0].selectedGeo.geo,
k[0].selectedPeriod.period);var l=null!==this.model.geo&&null!==this.model.period,n=l?hv:iv;this.isGlobalFiltersMode=l;this.mobileHubVisiblePickers=n;this.isWebSearch=""===this.model.property;l?(this.checkPeriod_(this.model.period),this.mobileHubLegendPickers=n.filter(function(p){return"geo"===p||"period"===p||"category"===p&&!f||"property"===p&&!g?!0:!1})):(k.forEach(function(p){return c.checkPeriod_(p.selectedPeriod.period)},this),this.mobileHubLegendPickers=f&&g?[]:n);this.setPageTitle_();this.setQueryStringParams_();
!this.isGlobalFiltersMode||b&&e||this.timeout_(this.onGlobalFilterChange,0);2<=k.length&&this.setPeriodAndGeo_(k);this.model.isDefaultData?this.refresh_():this.refreshDebounce_();this.logger_.puts("debug",["onModelChange_",f,g])};d.isSelectedGeosEqual_=function(a){return a.every(function(b){return b.selectedGeo.geo===a[0].selectedGeo.geo})};d.isSelectedPeriodsEqual_=function(a){return a.every(function(b){return b.selectedPeriod.period.id===a[0].selectedPeriod.period.id})};
d.setPeriodAndGeo_=function(a){var b=a.length-1;""===a[b].selectedTerm.title&&(this.isSelectedGeosEqual_(a)&&(a[b].selectedGeo.geo=a[0].selectedGeo.geo),this.isSelectedPeriodsEqual_(a)&&(a[b].selectedPeriod.period=a[0].selectedPeriod.period))};d.onGlobalFilterChange=function(){var a=this;this.isGlobalFiltersMode&&this.model&&this.model.terms&&this.model.terms.forEach(function(b){b.selectedGeo.geo=a.model.geo;b.selectedPeriod.period=Object.assign({},a.model.period)})};
d.adjustPeriodForNonWebOldPeriods_=function(a){var b=this.exploreService.getPropertyOptions().nodesByID_[this.model.property].name;b=this.translationService_.translate("SEARCH_RANGE_WAS_ADJUSTED_NEW",{property:b});this.mdToast_.show(this.mdToast_.simple().textContent(b).hideDelay(8E3));a.id="all_2008"};d.checkPeriod_=function(a){a&&(this.isWebSearch&&"all_2008"===a.id?a.id="all":this.isWebSearch||"all"!==a.id&&!/^200[4-7]/.test(a.id)||this.adjustPeriodForNonWebOldPeriods_(a))};
d.getTermsTitles_=function(){var a=[];this.lodash_.forEachRight(this.model.terms,function(b){(b.selectedTerm&&b.selectedTerm.title||a.length)&&a.unshift(b.selectedTerm.title)});this.logger_.puts("debug",["getTermsTitles_",a]);return a};d.setPageTitle_=function(){var a=this.getTermsTitles_(),b=this.exploreMsg;a.length&&(b=[a.join(", "),b].join(" - "));this.rootScope_.pageTitle=b;this.logger_.puts("debug",["setPageTitle_",a,b])};
d.setIsAdvancedComparison_=function(){var a=this.model.terms;this.isAdvancedComparison=!this.isSelectedGeosEqual_(a)||!this.isSelectedPeriodsEqual_(a)};
d.generateWidgetShareTitle=function(a){var b={keywords:this.getTermsTitles_().join(", "),widgetTitle:a};this.isGlobalFiltersMode?(Object.assign(b,{geo:this.geoOptions.getNodeByID(this.model.geo).name,time:this.model.period.name}),a=b.keywords?this.translationService_.translate("WIDGET_SHARE_WITH_DATA",{widgetTitle:b.widgetTitle,keywords:b.keywords,geo:b.geo,time:b.time}):this.translationService_.translate("WIDGET_SHARE_NO_KEYWORDS",{widgetTitle:b.widgetTitle,geo:b.geo,time:b.time})):a=this.translationService_.translate("WIDGET_SHARE_NO_GEO_AND_PERIOD",
{widgetTitle:b.widgetTitle,keywords:b.keywords});this.logger_.puts("debug",["generateWidgetShareTitle",a,b]);return a};d.handleItemClickEvent_=function(a,b){this.lodash_.has(a.item,"geoCode")?this.lodash_.isUndefined(a.item.geoCode)||this.comparisonItemDrillDown_(a.item.geoCode,b):this.model.terms=[this.createTermObject(a.item.mid?this.lodash_.pick(a.item,"mid","title","type"):a.item.text)]};
d.handleRegionClickEvent_=function(a,b){var c=this;0<=b?this.comparisonItemDrillDown_(a.region,b):this.isGlobalFiltersMode?(this.model.geo=this.getGeoByRegion_(a.region,this.model.geo),this.onGlobalFilterChange()):this.model.terms.forEach(function(e){e.selectedGeo.geo=c.getGeoByRegion_(a.region,e.selectedGeo.geo)},this)};
d.onWidgetEvent=function(a,b){if(a.ctrlKey&&(a.item.geoCode||a.item.mid||!this.lodash_.has(a.item,"geoCode"))){var c="?";if(a.item.geoCode){var e=this.lodash_.omit(this.routeParams_,["geo"]);c+="geo="+a.item.geoCode}else e=this.lodash_.omit(this.routeParams_,["q"]),c+="q="+(a.item.mid||a.item.text);Object.keys(e).forEach(function(f){c+="&"+f+"="+e[f]});a=this.location_.absUrl().split("?")[0];window.open(a+c);return!1}switch(a.name){case "itemClick":this.handleItemClickEvent_(a,b);break;case "regionClick":this.handleRegionClickEvent_(a,
b);break;default:return!0}this.rootScope_.$applyAsync();return!1};d.getGeoByRegion_=function(a,b){var c=a.match(/\w+-(\d+)$/);this.logger_.puts("debug",["getGeoByRegion_",c,arguments]);return c&&/^US-\w{2}$/.test(b)?[b,c[1]].join("-"):this.geoOptions.getNodeByID(a).id};
d.comparisonItemDrillDown_=function(a,b){var c=this;if(this.isGlobalFiltersMode)this.model.geo=this.getGeoByRegion_(a,this.model.geo),this.model.terms.forEach(function(f){f.selectedGeo.geo=c.model.geo},this);else{var e=this.getGeoByRegion_(a,this.model.terms[b].selectedGeo.geo);this.model.terms.forEach(function(f){f.selectedGeo.geo=e},this)}this.logger_.puts("debug",["comparisonItemDrillDown_",arguments])};
d.createRequestParams=function(){var a=[],b=this.model.geo,c=this.model.period&&this.model.period.id;this.lodash_.forEachRight(this.model.terms,function(e){var f=e.selectedTerm.mid;(f||a.length)&&a.unshift({keyword:f,geo:this.isGlobalFiltersMode?b:e.selectedGeo.geo,time:this.isGlobalFiltersMode?c:e.selectedPeriod.period.id})},this);a.length||a.push({geo:b,time:c});this.logger_.puts("debug",["createRequestParams",b,c]);return{comparisonItem:a,category:this.model.category,property:this.model.property}};
d.refresh_=function(){var a=this,b=this.createRequestParams();if(this.lodash_.isEqual(this.requestParamsCache_,b))return null;this.requestParamsCache_=b;this.isQuerying=!0;this.shareConfig.exploreParams=b;var c=this.exploreService.getExploreReport(b).then(function(e){return a.applyRefreshData_(e.data)},function(){a.errorMessage=!0;a.widgets=[]})["finally"](function(){a.isQuerying=!1;a.routeListenerInitialized_||(a.routeListenerInitialized_=!0,a.scope_.$on("$routeUpdate",a.onRouteChange_))});this.logger_.puts("refresh_",
["createRequestParams",b]);return c};
d.applyRefreshData_=function(a){this.timeRange=a.widgets[0].request&&a.widgets[0].request.time&&a.widgets[0].request.time.replace(/\\:\d+/g,"");this.errorMessage=!1;this.examples=a.examples;this.widgets=a.widgets;this.isEmptyState=!a.widgets.length;this.shareConfig.title=a.shareText;this.exploreUrl=(this.exploreUrl=this.location_.url().replace(/explore(\?|\/\?)?/,""))?this.exploreUrl.replace(/^\//,""):"";this.model.isDefaultData&&(this.model.terms=this.lodash_.map(a.keywords,function(b,c){c=this.model.terms[c];
return this.createTermObject({title:b.name,mid:b.keyword,type:b.type},c.selectedGeo.geo,c.selectedPeriod.period.id,!b.keyword&&!this.globalsService_.isMobileMode)},this),this.model.isDefaultData=!1);this.logger_.puts("debug",["applyRefreshData_",a]);this.resetPeriodNames_(a.timeRanges)};
d.resetPeriodNames_=function(a){var b=this;this.isGlobalFiltersMode&&(this.model.period={id:this.model.period.id,name:a[0]});a.forEach(function(c,e){b.model.terms[e].selectedPeriod.period={id:b.model.terms[e].selectedPeriod.period.id,name:c}},this);this.logger_.puts("debug",["resetPeriodNames_",a])};
d.getModelFromQueryString_=function(){var a=this,b=this.exploreCompatibilityService_.getHashQueryStringParams()||this.location_.search(),c=function(p){return a.lodash_.isString(b[p])?b[p].split(","):[]},e=parseInt(b.cat,10),f=c("q"),g=c("geo"),k=c("date");c={category:this.lodash_.isNaN(e)?void 0:e,property:b.gprop};if(f.length&&(1<g.length||1<k.length))this.lodash_.assign(c,{geo:null,period:null,terms:this.lodash_.zipWith(f,g,k,function(p){for(var q=[],u=0;u<arguments.length;++u)q[u-0]=arguments[u];
q=q[3];return a.createTermObject(q[0]||f[0],q[1]||g[0],q[2]||k[0],!1)})});else{!f.length&&1<g.length&&(b.geo=g[0]);var l=b.geo||"",n=b.date;this.lodash_.assign(c,{geo:l,period:n?{id:n}:void 0,terms:f.map(function(p){return a.createTermObject(p,l,n,!1)})})}c.terms.length||delete c.terms;this.logger_.puts("debug",["getModelFromQueryString_",b,c]);return c};
d.setQueryStringParams_=function(){var a=this.location_.search(),b=this.model.period&&this.model.period.id!==this.exploreService.defaultPeriod?this.model.period.id:void 0,c=[],e=[],f=[];this.lodash_.forEachRight(this.model.terms,function(l){if(l.selectedTerm.mid||c.length)c.unshift(l.selectedTerm.mid),e.unshift(l.selectedGeo.geo),f.unshift(l.selectedPeriod.period.id)});var g=this.lodash_.assign({cat:0<this.model.category?""+this.model.category:"",date:this.isGlobalFiltersMode?b:f.join(","),geo:this.isGlobalFiltersMode?
this.model.geo:e.join(","),gprop:this.model.property,q:c.join(",")},this.lodash_.pick(a,"hl","tz","e","s")),k=this.lodash_.pick(g,this.lodash_.identity);this.lodash_.isEqual(k,a)?(this.updateGlobalPeriodFromOldPeriod_(),this.updateItemsPeriodFromOldPeriod_()):(this.location_.search(k).state(this.lodash_.clone(this.model)),this.trackingService_.trackPageview(this.location_.url()));this.logger_.puts("debug",["setQueryStringParams_",a,b,g])};
d.updateGlobalPeriodFromOldPeriod_=function(){this.shouldFillCurrentWithOldPeriod_(this.model.period,this.oldModel.period)&&(this.model.period=this.oldModel.period)};d.updateItemsPeriodFromOldPeriod_=function(){var a=this;this.model.terms.forEach(function(b,c){a.shouldFillCurrentWithOldPeriod_(b.selectedPeriod.period,a.oldModel.terms[c].selectedPeriod.period)&&(b.selectedPeriod.period=a.oldModel.terms[c].selectedPeriod.period)})};
d.shouldFillCurrentWithOldPeriod_=function(a,b){if(a&&b){var c=a.id?a.id:"",e=b.id?b.id:"";if(""===a.name&&""!==b.name&&c===e)return!0}return!1};d.resetFilters=function(a,b){a=void 0===a?this.exploreService.defaultGeo:a;b=void 0===b?{id:this.exploreService.defaultPeriod}:b;this.model.geo=a;this.model.period=b};d.showPills=function(){return!(this.model.isDefaultData&&this.model.terms.length&&this.model.terms[0].selectedTerm.mid)};
d.handlePillFiltersUpdate=function(a){a.selectedGeo&&a.selectedPeriod&&(a.selectedGeo.geo!==this.model.geo||a.selectedPeriod.period.id!==this.model.period.id)&&(this.model.geo=null,this.model.period=null)};
d.createTermObject=function(a,b,c,e){b||(b=this.model&&this.model.geo||this.exploreService.defaultGeo);c||(c=this.model&&this.model.period&&this.model.period.id||this.exploreService.defaultPeriod);e||(e=!1);this.logger_.puts("debug",["createTermObject",arguments]);return{selectedTerm:this.exploreService.createSearchTerm(a),selectedGeo:{geo:b},selectedPeriod:{period:{id:c}},isFocus:e,isPillJustAdded:!1}};
d.toggleIsAdvancedComparison=function(){this.isGlobalFiltersMode=!this.isAdvancedComparison;var a=this.exploreService.defaultGeo,b={id:this.exploreService.defaultPeriod};if(this.isAdvancedComparison)this.model&&(a=this.model.geo,b=this.model.period),this.onGlobalFilterChange(b);else{var c=this.model.terms;this.isSelectedGeosEqual_(c)&&(a=c[0].selectedGeo.geo);this.isSelectedPeriodsEqual_(c)&&(b=c[0].selectedPeriod.period);c.forEach(function(e){e.selectedGeo.geo=a;e.selectedPeriod.period=b});this.resetFilters(a,
b)}};d.isAdvancedComparisonEnabled=function(){return 2<=this.model.terms.length};d.trackPropertyChange=function(a){window._gaq.push(["_trackEvent","Selected search filter","click",a])};gv.$inject="$scope $location $rootScope $q $route $routeParams $timeout configService $mdToast lodash exploreService searchService exploreCompatibilityService trackingService loggingService helpersFactory $window globalsService translationService".split(" ");
var hv=["geo","period","category","property"],iv=["category","property"];var kv=function(a,b,c,e,f,g,k,l,n,p,q,u,x,w,D,I,ea,Rb,bb,ia){this.window_=ia;this.http_=b;this.location_=c;this.config=n;this.logger_=new this.config.DebugLogger(this);this.storyId=a.storyId;this.storyTitle=a.storyTitle;this.showExploreInternalNote=window.showExploreInternalNote;this.rootScope_=e;this.scope_=a;this.q_=f;this.route_=g;this.timeout_=l;this.mdDialog_=p;this.mdToast_=q;this.lodash_=x;this.exploreService=w;this.exploreCompatibilityService_=I;this.trackingService_=ea;Rb.startTrackingImpressions();
this.document_=u;this.searchService_=D;this.routeParams_=k;this.location_=c;this.examples=[];this.widgets=[];this.errorMessage=this.isQuerying=!1;this.geoOptions=null;this.periodOptions=w.getPeriodOptions();this.categoryOptions=null;this.exploreUrl="";this.propertyOptions=w.getPropertyOptions();this.messages=jv;this.showExamples=!0;this.model=x.defaults({},this.getModelFromQueryString_(),{terms:[this.createTermObject(null,null,null,!e.globals.isMobileMode)],geo:this.exploreService.defaultGeo,period:{id:this.exploreService.defaultPeriod},
category:0,property:"",isDefaultData:!0});this.oldModel=null;this.isGlobalFiltersMode=!0;this.mobileHubVisiblePickers=[];this.mobileHubLegendPickers=[];this.compareContainerElement_=this.requestParamsCache_=null;this.getAutoCompleteListBind=this.lodash_.bindKey(D,"getAutoCompleteList",this);this.shareConfig={};this.isWebSearch=!0;this.isEmptyState=!1;this.timeRange=null;this.shouldShowMultiHeatMapMessage=this.routeListenerInitialized_=!1;this.onRouteChange_=x.bind(function(){var jc=this.location_.state();
jc?(jc=x.cloneDeep(jc),jc.period.name&&!this.model.period.name&&delete jc.period.name,angular.equals(this.model,jc)||(this.model=jc)):this.route_.reload()},this);this.refreshDebounce_=bb.domDebounce(x.bindKey(this,"refresh_"),500);a.$watch("ctrl.model",x.bindKey(this,"onModelChange_"),!0);this.loadPickers_();this.logger_.puts("debug",["Explore page created",arguments])};t("$jscomp.scope.ExploreCtrl",kv,void 0);kv.$inject="$scope $http $location $rootScope $q $route $routeParams $timeout configService $mdDialog $mdToast $document lodash exploreService searchService exploreCompatibilityService trackingService loggingService helpersFactory $window".split(" ");
var lv=["geo","period","category","property"],mv=["category","property"],jv={MSG_COMPARE:"Compare",MSG_EXPLORE:"Explore",MSG_WIDGET_SHARE_GLOBAL:"See {widgetTitle} on Google Trends for {keywords} - {geo}, {time}",MSG_WIDGET_SHARE_GLOBAL_2:"See {widgetTitle} on Google Trends for {geo}, {time}",MSG_WIDGET_SHARE_GENERIC:"See {widgetTitle} on Google Trends for {keywords}",MSG_CUSTOM_SEARCH_TERM_TYPE:"Search term",MSG_SEARCH_RANGE_WAS_ADJUSTED:"{property} data is not available prior to 2008. Time range was adjusted to 2008-present."};
d=kv.prototype;d.loadPickers_=function(){var a=this,b=this.exploreService.getGeoPicker(),c=this.exploreService.getCategoryPicker();a.logger_.puts("debug",["loadPickers_",c,b]);this.q_.all([b,c]).then(function(e){a.geoOptions=e[0];a.categoryOptions=e[1];a.logger_.puts("loadPickers",[a.geoOptions,a.categoryOptions])},null)};
d.onModelChange_=function(a,b){this.oldModel=b;b=this.model.geo===this.exploreService.defaultGeo;var c=this.model.period&&this.model.period.id===this.exploreService.defaultPeriod,e=0===this.model.category,f=""===this.model.property,g=this.model.terms;b&&c&&e&&f||(this.showExamples=!1);!this.isGlobalFiltersMode&&1===g.length&&g[0].selectedTerm.mid&&(g[0].selectedGeo.geo||g[0].selectedPeriod.period.id)&&this.resetFilters(g[0].selectedGeo.geo,g[0].selectedPeriod.period);var k=null!==this.model.geo&&
null!==this.model.period,l=k?lv:mv;this.isGlobalFiltersMode=k;this.mobileHubVisiblePickers=l;this.isWebSearch=""===this.model.property;k?(this.checkPeriod_(this.model.period),this.mobileHubLegendPickers=this.lodash_.filter(l,function(n){return"geo"==n||"period"==n||"category"==n&&!e||"property"==n&&!f?!0:!1},this)):(g.forEach(function(n){this.checkPeriod_(n.selectedPeriod.period)},this),this.mobileHubLegendPickers=e&&f?[]:l);this.setPageTitle_();this.setQueryStringParams_();!this.isGlobalFiltersMode||
b&&c||this.timeout_(this.onGlobalFilterChange,0);2<g.length&&this.setPeriodAndGeo_(g);this.model.isDefaultData?this.refresh_():this.refreshDebounce_();this.logger_.puts("debug",["onModelChange_",e,f])};
d.setPeriodAndGeo_=function(a){var b=a.length-1;""===a[b].selectedTerm.title&&(a.filter(function(c){return c.selectedGeo.geo===a[0].selectedGeo.geo}).length===b&&(a[b].selectedGeo.geo=a[0].selectedGeo.geo),a.filter(function(c){return c.selectedPeriod.period.id===a[0].selectedPeriod.period.id}).length===b&&(a[b].selectedPeriod.period=a[0].selectedPeriod.period))};
d.onGlobalFilterChange=function(){var a=this;this.isGlobalFiltersMode&&this.model.terms.forEach(function(b){b.selectedGeo.geo=a.model.geo;b.selectedPeriod.period=a.lodash_.clone(a.model.period)},this)};
d.checkPeriod_=function(a){if(this.isWebSearch&&"all_2008"===a.id)a.id="all";else if(!this.isWebSearch&&("all"===a.id||/^200[4-7]/.test(a.id))){var b={property:this.exploreService.getPropertyOptions().nodesByID_[this.model.property].name};b=(new sd(this.messages.MSG_SEARCH_RANGE_WAS_ADJUSTED)).format(b);this.mdToast_.show(this.mdToast_.simple().textContent(b).hideDelay(8E3));a.id="all_2008"}};
d.getTermsTitles_=function(){var a=[];this.lodash_.forEachRight(this.model.terms,function(b){(b.selectedTerm&&b.selectedTerm.title||a.length)&&a.unshift(b.selectedTerm.title)});this.logger_.puts("debug",["getTermsTitles_",a]);return a};d.setPageTitle_=function(){var a=this.getTermsTitles_(),b=this.messages.MSG_EXPLORE;a.length&&(b=[a.join(", "),b].join(" - "));this.rootScope_.pageTitle=b;this.logger_.puts("debug",["setPageTitle_",a,b])};
d.generateWidgetShareTitle=function(a){var b=this.messages.MSG_WIDGET_SHARE_GENERIC;a={keywords:this.getTermsTitles_().join(", "),widgetTitle:a};this.isGlobalFiltersMode&&(this.lodash_.assign(a,{geo:this.geoOptions.getNodeByID(this.model.geo).name,time:this.model.period.name}),b=a.keywords?this.messages.MSG_WIDGET_SHARE_GLOBAL:this.messages.MSG_WIDGET_SHARE_GLOBAL_2);this.logger_.puts("debug",["generateWidgetShareTitle",b,a]);return(new sd(b)).format(a)};
d.handleItemClickEvent_=function(a,b){this.lodash_.has(a.item,"geoCode")?this.lodash_.isUndefined(a.item.geoCode)||this.comparisonItemDrillDown_(a.item.geoCode,b):this.model.terms=[this.createTermObject(a.item.mid?this.lodash_.pick(a.item,"mid","title","type"):a.item.text)]};
d.handleRegionClickEvent_=function(a,b){0<=b?this.comparisonItemDrillDown_(a.region,b):this.isGlobalFiltersMode?(this.model.geo=this.getGeoByRegion_(a.region,this.model.geo),this.onGlobalFilterChange()):this.model.terms.forEach(function(c){c.selectedGeo.geo=this.getGeoByRegion_(a.region,c.selectedGeo.geo)},this)};
d.onWidgetEvent=function(a,b){if(a.ctrlKey&&(a.item.geoCode||a.item.mid||!this.lodash_.has(a.item,"geoCode"))){var c="?";if(a.item.geoCode){var e=this.lodash_.omit(this.routeParams_,["geo"]);c+="geo="+a.item.geoCode}else e=this.lodash_.omit(this.routeParams_,["q"]),c+="q="+(a.item.mid||a.item.text);Object.keys(e).forEach(function(f){c+="&"+f+"="+e[f]});a=this.location_.absUrl().split("?")[0];window.open(a+c);return!1}switch(a.name){case "itemClick":this.handleItemClickEvent_(a,b);break;case "regionClick":this.handleRegionClickEvent_(a,
b);break;default:return!0}this.rootScope_.$applyAsync();return!1};d.getGeoByRegion_=function(a,b){var c=a.match(/\w+-(\d+)$/);this.logger_.puts("debug",["getGeoByRegion_",c,arguments]);return c&&/^US-\w{2}$/.test(b)?[b,c[1]].join("-"):this.geoOptions.getNodeByID(a).id};
d.comparisonItemDrillDown_=function(a,b){var c=this;if(this.isGlobalFiltersMode)this.model.geo=this.getGeoByRegion_(a,this.model.geo),this.model.terms.forEach(function(f){f.selectedGeo.geo=c.model.geo});else{var e=this.getGeoByRegion_(a,this.model.terms[b].selectedGeo.geo);this.model.terms.forEach(function(f){f.selectedGeo.geo=e})}this.logger_.puts("debug",["comparisonItemDrillDown_",arguments])};
d.createRequestParams=function(){var a=this,b=[],c=this.model.geo,e=this.model.period&&this.model.period.id;this.lodash_.forEachRight(this.model.terms,function(f){var g=f.selectedTerm.mid;(g||b.length)&&b.unshift({keyword:g,geo:a.isGlobalFiltersMode?c:f.selectedGeo.geo,time:a.isGlobalFiltersMode?e:f.selectedPeriod.period.id})});b.length||b.push({geo:c,time:e});this.logger_.puts("debug",["createRequestParams",c,e]);return{comparisonItem:b,category:this.model.category,property:this.model.property}};
d.refresh_=function(){var a=this,b=this.createRequestParams();if(this.lodash_.isEqual(this.requestParamsCache_,b))return null;this.requestParamsCache_=b;this.isQuerying=!0;this.shareConfig.exploreParams=b;var c=this.exploreService.getExploreReport(b).then(function(e){return a.applyRefreshData_(e.data)},function(){a.errorMessage=!0;a.widgets=[]})["finally"](function(){a.isQuerying=!1;a.routeListenerInitialized_||(a.routeListenerInitialized_=!0,a.scope_.$on("$routeUpdate",a.onRouteChange_))});this.logger_.puts("refresh_",
["createRequestParams",b]);return c};
d.applyRefreshData_=function(a){var b=this;this.timeRange=a.widgets[0].request&&a.widgets[0].request.time&&a.widgets[0].request.time.replace(/\\:\d+/g,"");this.errorMessage=!1;this.examples=a.examples;this.widgets=a.widgets;this.isEmptyState=!a.widgets.length;this.shareConfig.title=a.shareText;this.shouldShowMultiHeatMapMessage=a.shouldShowMultiHeatMapMessage;this.storyId=this.location_.search().s;this.storyTitle=this.location_.search().e;this.exploreUrl=(this.exploreUrl=this.location_.url().replace(/explore(\?|\/\?)?/,
""))?this.exploreUrl.replace(/^\//,""):"";this.model.isDefaultData&&(this.model.terms=this.lodash_.map(a.keywords,function(c,e){e=b.model.terms[e];return b.createTermObject({title:c.name,mid:c.keyword,type:c.type},e.selectedGeo.geo,e.selectedPeriod.period.id,!c.keyword&&!b.rootScope_.globals.isMobileMode)}),this.model.isDefaultData=!1);this.logger_.puts("debug",["applyRefreshData_",a]);this.resetPeriodNames_(a.timeRanges)};
d.resetPeriodNames_=function(a){this.isGlobalFiltersMode&&(this.model.period={id:this.model.period.id,name:a[0]});for(var b=0;b<a.length;b++)this.model.terms[b].selectedPeriod.period={id:this.model.terms[b].selectedPeriod.period.id,name:a[b]};this.logger_.puts("debug",["resetPeriodNames_",a])};
d.getModelFromQueryString_=function(){var a=this,b=this.exploreCompatibilityService_.getHashQueryStringParams()||this.location_.search(),c=function(p){return a.lodash_.isString(b[p])?b[p].split(","):[]},e=parseInt(b.cat,10),f=c("q"),g=c("geo"),k=c("date");c={category:this.lodash_.isNaN(e)?void 0:e,property:b.gprop};if(f.length&&(1<g.length||1<k.length))this.lodash_.assign(c,{geo:null,period:null,terms:this.lodash_.zipWith(f,g,k,function(p){for(var q=[],u=0;u<arguments.length;++u)q[u-0]=arguments[u];
return a.createTermObject(q[0]||f[0],q[1]||g[0],q[2]||k[0],!1)})});else{!f.length&&1<g.length&&(b.geo=g[0]);var l=b.geo||"",n=b.date;this.lodash_.assign(c,{geo:l,period:n?{id:n}:void 0,terms:f.map(function(p){return a.createTermObject(p,l,n,!1)})})}0==c.terms.length&&delete c.terms;this.logger_.puts("debug",["getModelFromQueryString_",b,c]);return c};
d.setQueryStringParams_=function(){var a=this.location_.search(),b=this.model.period&&this.model.period.id!==this.exploreService.defaultPeriod?this.model.period.id:void 0,c=[],e=[],f=[];this.lodash_.forEachRight(this.model.terms,function(l){if(l.selectedTerm.mid||c.length)c.unshift(l.selectedTerm.mid),e.unshift(l.selectedGeo.geo),f.unshift(l.selectedPeriod.period.id)});var g=this.lodash_.assign({cat:0<this.model.category?""+this.model.category:"",date:this.isGlobalFiltersMode?b:f.join(","),geo:this.isGlobalFiltersMode?
this.model.geo:e.join(","),gprop:this.model.property,q:c.join(",")},this.lodash_.pick(a,"hl","tz","e","s")),k=this.lodash_.pickBy(g,this.lodash_.identity);angular.equals(k,a)?this.loadLastPeriodToDisplay_():(this.location_.search(k).state(this.lodash_.clone(this.model)),this.trackingService_.trackPageview(this.location_.url()));this.logger_.puts("debug",["setQueryStringParams_",a,b,g])};
d.loadLastPeriodToDisplay_=function(){var a=this,b=this.model&&this.model.period&&this.model.period.name,c=this.oldModel&&this.oldModel.period&&this.oldModel.period.name;!b&&c&&(this.model.period=this.oldModel.period);this.model.terms.forEach(function(e,f){b=e.selectedPeriod&&e.selectedPeriod.period&&e.selectedPeriod.period.name;c=a.oldModel.terms[f]&&a.oldModel.terms[f].selectedPeriod&&a.oldModel.terms[f].selectedPeriod&&a.oldModel.terms[f].selectedPeriod.period&&a.oldModel.terms[f].selectedPeriod.period.name;
!b&&c&&(e.selectedPeriod=a.oldModel.terms[f].selectedPeriod)})};d.resetFilters=function(a,b){var c=this;this.model.geo=a||this.exploreService.defaultGeo;this.model.period=b||{id:this.exploreService.defaultPeriod};this.lodash_.forEach(c.model.terms,function(e){e.selectedGeo.geo=c.exploreService.defaultGeo;e.selectedPeriod.period={id:c.exploreService.defaultPeriod}})};
d.handlePillFiltersUpdate=function(a){a.selectedGeo&&a.selectedPeriod&&(a.selectedGeo.geo!==this.model.geo||a.selectedPeriod.period.id!==this.model.period.id)&&(this.model.geo=null,this.model.period=null)};
d.createTermObject=function(a,b,c,e){b||(b=this.model&&this.model.geo||this.exploreService.defaultGeo);c||(c=this.model&&this.model.period&&this.model.period.id||this.exploreService.defaultPeriod);e||(e=!1);this.logger_.puts("debug",["createTermObject",arguments]);return{selectedTerm:this.exploreService.createSearchTerm(a),selectedGeo:{geo:b},selectedPeriod:{period:{id:c}},isFocus:e,pillJustAdded:!1}};
d.trackPropertyChange=function(a){window._gaq.push(["_trackEvent","Selected search filter","click",a])};var nv=function(a,b,c,e,f,g){this.window_=a;this.http_=b;this.q_=c;this.lodash_=e;this.collectionsService_=f;this.configService_=g;this.apiPathPrefix_=g.pathPrefix+"/api/explore";this.promisesCache_={};this.dataCache_={};this.defaultGeo="";this.defaultPeriod="today 12-m";this.isCustomDateDialogOpen=this.isPillFocus=!1};t("$jscomp.scope.ExploreService",nv,void 0);nv.$inject="$window $http $q lodash collectionsService configService".split(" ");
var ov=[{id:"",name:"Web Search"},{id:"images",name:"Image Search"},{id:"news",name:"News Search"},{id:"froogle",name:"Google Shopping"},{id:"youtube",name:"YouTube Search"}],pv={fe_geo_chart_explore:"comparedgeo",fe_geo_color_chart:"comparedgeo",fe_line_chart:"multiline",fe_multi_heat_map:"comparedgeo",fe_multi_range_chart:"multirange",fe_related_searches:"relatedsearches"};d=nv.prototype;
d.exportAsCSV=function(a,b,c){a=encodeURIComponent(JSON.stringify(a));c="/trends/api/widgetdata/"+(this.convertWidgetTypeToApiName_(c)+"/csv");c=c+("?req="+a+"&token="+b)+("&tz="+this.configService_.userTimezoneOffset);this.downloadCsvFile_(c)};d.downloadCsvFile_=function(a){Xc(this.window_.location,a)};d.convertWidgetTypeToApiName_=function(a){return pv[a]};
d.getPeriodOptions=function(){this.dataCache_.period||(this.dataCache_.period=new this.collectionsService_.OrderedDict(this.window_.exploreTimePicker));return this.dataCache_.period};d.getPropertyOptions=function(){this.dataCache_.property||(this.dataCache_.property=new this.collectionsService_.OrderedDict(ov));return this.dataCache_.property};d.getCategoryPicker=function(){return this.getDataTreeResource_("/pickers/category")};
d.getDataTreeResource_=function(a){var b=this,c=this.promisesCache_[a];c||(c=this.http_.get(this.apiPathPrefix_+a),c=this.q_.when(c,function(e){return new b.collectionsService_.DataTree(e.data)},function(){delete b.promisesCache_[a]}),this.promisesCache_[a]=c);return c};d.getExploreReport=function(a){a={req:JSON.stringify(a),tz:this.configService_.userTimezoneOffset};return this.http_.get(this.apiPathPrefix_,{params:a})};d.getGeoPicker=function(){return this.getDataTreeResource_("/pickers/geo")};
d.createSearchTerm=function(a){a?a.title&&(a.title=a.title.trim()):a=null;return this.lodash_.isObject(a)?a:{title:a,mid:a,type:a?"Search term":""}};var qv=function(a,b,c,e,f,g,k,l,n,p,q,u){this.scope=e;this.dialogTitle=c;this.setSelectedTerm=a;this.clearTerm=b;this.mdDialog_=f;this.config=g;this.lodash=k;this.document=l;this.searchService=n;this.timeout_=p;this.mdUtil_=q;this.autoCompleteCtrl=null;this.exploreService_=u;this.logger_=new this.config.DebugLogger(this);this.logger_.puts("debug",["Search Term-auto-complete",arguments]);e.onAutoCompleteSelect=k.bindKey(this,"setTermByTouch",e)};
t("$jscomp.scope.SearchTermAutocompleteMobileDialogCtrl",qv,void 0);qv.$inject="setSelectedTerm clearTerm dialogTitle $scope $mdDialog configService lodash $document searchService $timeout $mdUtil exploreService".split(" ");d=qv.prototype;
d.bindUI=function(a,b){var c=this,e=this.lodash.bindKey(this,"onMobileInputKeyEvent_");a.$applyAsync(function(){c.autoCompleteCtrl=b.find("md-autocomplete-wrap").controller("mdAutocomplete");var f=c.document[0].querySelector("md-virtual-repeat-container #ul-"+c.autoCompleteCtrl.id).parentNode.parentNode.parentNode.classList;f.add("term-repeat");c.timeout_(function(){f.add("show-dropdown")},350);var g=b.find("input"),k=g[0];k.focus();/iPhone/.test(window.navigator.userAgent)&&(k.click(),k.click());
k.setSelectionRange&&k.setSelectionRange(0,k.value.length);g.bind("keydown",e);0<c.scope.acInputTextItem.length&&(c.autoCompleteCtrl.matches=c.searchService.getAutoCompleteList(c.scope,c.scope.acInputTextItem,!0))});c.logger_.puts("debug",["bindUI",e])};d.setTermByTouch=function(a,b){b&&b.title&&(b.title=b.title.trim(),this.setSelectedTerm(b,b.title),this.cancelDialog_());this.logger_.puts("debug",["setTermByTouch",arguments])};
d.onMobileInputKeyEvent_=function(a){if(13==a.which){var b=a.target.value.trim();b&&this.setSelectedTerm(this.exploreService_.createSearchTerm(b),b);this.cancelDialog_()}this.logger_.puts("debug",["onMobileInputKeyEvent_",a])};d.backArrowClickHandler=function(){var a=this.scope.term.selectedTerm;a&&a.mid||this.clearTerm();this.logger_.puts("debug",["backArrowClickHandler",a]);this.cancelDialog_()};
d.cancelDialog_=function(){var a=this;this.timeout_(function(){a.scope.inputElement.blur();a.mdDialog_.cancel();a.timeout_(function(){a.mdUtil_.disableScrollAround._count=0},100)},100);a.logger_.puts("debug",["cancelDialog_",a])};var rv=this,W,sv,tv,uv,vv,wv,xv,yv,zv,Av=function(){this.restrict="E";this.templateUrl="/explorepage/search-term-directive-new.html";this.scope={term:"=",termChangeHandler:"&",resetFiltersHandler:"&",tabHandler:"&",isGlobalFiltersMode:"=",isSmallPillsMode:"=",isSingle:"&",isWebSearch:"=",color:"@"};this.link=W.bind(this.link,this)};d=Av.prototype;
d.link=function(a,b){var c=W.bindKey(this,"setSmallPill_",a);a.config=sv;a.showFilters=!1;a.changingSearchText=!0;a.acInputTextItem=a.term.selectedTerm.title;a.getAutoCompleteListBind=W.bindKey(tv,"getAutoCompleteList",a);a.clearTermBind=W.bindKey(this,"clearTerm",a);a.editTermBind=W.bindKey(this,"editTerm",a);a.showSearchTermAutocompleteDialog=W.bindKey(this,"showSearchTermAutocompleteDialog_",a);a.onAutoCompleteSelect=W.bindKey(this,"onAutoCompleteSelect",a);a.clearInputBind=W.bindKey(this,"clearInput_",
a);a.$applyAsync(W.bindKey(this,"bindUI_",a,b));a.$watch("isSmallPillsMode",c);a.isTermSelected=!1;a.periodOptions=uv.getPeriodOptions();this.loadGeoPicker_(a);a.term.isPillJustAdded&&a.$root.globals.isMobileMode&&a.showSearchTermAutocompleteDialog();a.term.isPillJustAdded=!1;a.isTouchDevice=vv.isTouchDevice();a.isPageRtl=wv.isPageRtl();a.$watch("term",function(){a.acInputTextItem=a.term.selectedTerm.title;xv[0].body.focus()})};
d.loadGeoPicker_=function(a){uv.getGeoPicker().then(function(b){a.geoOptions=b},null)};d.onInputKeyEvent_=function(a,b){if(!(13==b.which&&0<=a.mdAutocompleteCtrl.index||13!=b.which&&9!=b.which&&","!=b.key)){a.term.isNewPill=!1;var c=b.target.value.trim();c?this.setSelectedTerm(a,uv.createSearchTerm(c)):this.clearTerm(a);a.inputElement[0].blur();9!=b.which&&","!=b.key||!c||a.$applyAsync(a.tabHandler);b.preventDefault()}};
d.bindUI_=function(a,b){var c=b.find("md-autocomplete-wrap").controller("mdAutocomplete"),e=xv[0].querySelector("md-virtual-repeat-container #ul-"+c.id),f=W.bindKey(this,"setAutocompleteCss_",a),g=W.bindKey(this,"toggleFocus_",a);a.repeatElement=e.parentNode.parentNode.parentNode;a.element=b;a.inputElement=b.find("input");a.mdAutocompleteCtrl=c;a.$watch("mdAutocompleteCtrl.hidden",f);angular.element(e).bind("mousedown",function(){a.preventBlur=!0});a.$watch("term.isFocus",g);a.mdAutocompleteCtrl.focus=
W.wrap(a.mdAutocompleteCtrl.focus,function(n){a.$applyAsync(n)});a.repeatElement.classList.add("term-repeat");this.setSmallPill_(a);a.onInputKeyEventBind=W.bindKey(this,"onInputKeyEvent_",a);a.inputElement.bind("keydown",a.onInputKeyEventBind);var k=W.bindKey(this,"onBlurEvent_",a);a.inputElement.bind("blur",k);var l=W.bindKey(this,"onFocusEvent_",a);a.inputElement.bind("focus",l);a.$on("$destroy",function(){a.inputElement.unbind("keydown",a.onInputKeyEventBind);a.inputElement.unbind("blur",k);a.inputElement.unbind("focus",
l)})};d.setSelectedTerm=function(a,b,c){b&&(a.isTermSelected=!0,b.title=b.title.trim(),a.term.selectedTerm=b,c&&(a.acInputTextItem=c))};d.onAutoCompleteSelect=function(a,b){b&&(this.setSelectedTerm(a,b),a.preventFocus=!0,a.term.isNewPill=!1,a.inputElement[0].blur())};
d.onFocusEvent_=function(a){a.preventFocus?(a.preventFocus=!1,a.inputElement[0].blur()):a.term.isNewPill&&a.term.selectedTerm.title===a.acInputTextItem?(uv.isPillFocus=!0,a.inputElement[0].select()):(a.term.isNewPill=!1,a.element.addClass("pill-selected"),a.inputElement[0].select(),a.acInputTextItem&&0<a.acInputTextItem.length&&(a.mdAutocompleteCtrl.scope.selectedItem=void 0,a.mdAutocompleteCtrl.matches=tv.getAutoCompleteList(a,a.acInputTextItem,!0),a.mdAutocompleteCtrl.focus()))};
d.onBlurEvent_=function(a,b){if(a.preventBlur)a.preventBlur=!1;else{uv.isPillFocus=!1;if(a.term.isNewPill){var c=this;yv(function(){if(uv.isPillFocus)var e=a.$watch(function(){return uv.isPillFocus},function(f){!1===f&&(c.onBlurEvent_(a,b),e())});else c.clearTerm(a)},100)}else a.acInputTextItem=a.term.selectedTerm&&a.term.selectedTerm.title||"";this.removeFocusStyle_(a)}};
d.removeFocusStyle_=function(a){yv(function(){document.activeElement!==a.inputElement[0]&&(a.element.removeClass("pill-selected"),a.isTermSelected=!1)},100)};d.toggleFocus_=function(a,b){!a.$root.globals.isMobileMode&&b&&a.inputElement[0].focus();a.term.isFocus=!1};d.setAutocompleteCss_=function(a){a.element.toggleClass("autocomplete-open",!a.mdAutocompleteCtrl.hidden)};d.setSmallPill_=function(a){a.repeatElement&&(a.isSmallPillsMode?a.repeatElement.classList.add("small-pill"):a.repeatElement.classList.remove("small-pill"))};
d.clearTerm=function(a){return a.termChangeHandler({entity:{selectedTerm:void 0}})};d.editTerm=function(a){a.$root.globals.isMobileMode?this.showSearchTermAutocompleteDialog_(a):a.inputElement[0].focus()};d.clearInput_=function(a){a.inputElement[0].value&&a.mdAutocompleteCtrl.clear()};
d.showSearchTermAutocompleteDialog_=function(a){var b=a.isSingle()?"Explore":"Compare";zv.show({scope:a.$new(),clickOutsideToClose:!0,controller:"SearchTermAutocompleteMobileDialogCtrl",controllerAs:"ctrl",templateUrl:"/explorepage/search-term-autocomplete-mobile-dialog.html",onShowing:W.bindKey(rv,"onDialogShow_"),onRemoving:W.bindKey(rv,"onDialogClose_"),focusOnOpen:!1,setSelectedTerm:W.bindKey(rv,"setSelectedTerm",a),clearTerm:W.bindKey(rv,"clearTerm",a),getAutoCompleteListBind:a.getAutoCompleteListBind,
dialogTitle:b})};d.onDialogShow_=function(a,b,c,e){return e.bindUI(a,b)};d.onDialogClose_=function(a,b){return b.then(xv[0].body.style="")};var Bv=function(a,b,c,e,f,g,k,l,n,p){xv=a;W=c;tv=e;yv=f;uv=g;sv=k;zv=l;vv=n;wv=p;return new Av};t("$jscomp.scope.directiveInjector$jscomp$40",Bv,void 0);Bv.$inject="$document $controller lodash searchService $timeout exploreService configService $mdDialog globalsService bidiService translationService".split(" ");var X,Cv,Dv,Ev,Fv,Gv,Hv,Iv,Jv,Kv,Lv=function(){this.restrict="E";this.templateUrl="/explorepage/search-term-directive.html";this.scope={term:"=",termChangeHandler:"&",resetFiltersHandler:"&",tabHandler:"&",isGlobalFiltersMode:"=",isSmallPillsMode:"=",isSingle:"&",isWebSearch:"=",color:"@"};this.link=X.bind(this.link,this)};d=Lv.prototype;
d.link=function(a,b){var c=this,e=X.bindKey(this,"setSmallPill_",a);a.config=Cv;a.showFilters=!1;a.changingSearchText=!0;a.acInputTextItem=a.term.selectedTerm.title;a.openOptionsMenuBind=X.bindKey(this,"openOptionsMenu");a.getAutoCompleteListBind=X.bindKey(Dv,"getAutoCompleteList",a);a.clearTermBind=X.bindKey(this,"clearTerm",a);a.editTermBind=X.bindKey(this,"editTerm",a);a.showFilterDialogBind=X.bindKey(this,"showFilterDialog",a);a.addDialogContainerClass=X.bindKey(this,"addDialogContainerClass_");
a.showSearchTermAutocompleteDialog=X.bindKey(this,"showSearchTermAutocompleteDialog_",a);a.onAutoCompleteSelect=X.bindKey(this,"onAutoCompleteSelect",a);a.clearInputBind=X.bindKey(this,"clearInput_",a);Ev(function(){return c.bindUI_(a,b)},100);a.$watch("isSmallPillsMode",e);a.isTermSelected=!1;a.periodOptions=Fv.getPeriodOptions();this.loadGeoPicker_(a);a.term.pillJustAdded&&a.$root.globals.isMobileMode&&a.showSearchTermAutocompleteDialog();a.term.pillJustAdded=!1;a.isTouchDevice=Gv.isTouchDevice();
a.isPageRtl=Hv.isPageRtl();a.optionsMenuOffset=a.isPageRtl?"140 0":"-140 0";a.$watch("term",function(){a.acInputTextItem=a.term.selectedTerm.title;Iv[0].body.focus()})};d.loadGeoPicker_=function(a){Fv.getGeoPicker().then(function(b){a.geoOptions=b},null)};
d.onInputKeyEvent_=function(a,b){if(!(13==b.which&&0<=a.mdAutocompleteCtrl.index||13!=b.which&&9!=b.which&&","!=b.key)){var c=b.target.value.trim();c?this.setSelectedTerm(a,Fv.createSearchTerm(c)):this.clearTerm(a);a.inputElement[0].blur();9!=b.which&&","!=b.key||!c||a.$applyAsync(a.tabHandler);b.preventDefault()}};
d.bindUI_=function(a,b){var c=b.find("md-autocomplete-wrap").controller("mdAutocomplete"),e=Iv[0].querySelector("md-virtual-repeat-container #ul-"+c.id),f=X.bindKey(this,"setAutocompleteCss_",a),g=X.bindKey(this,"toggleFocus_",a);a.repeatElement=e.parentNode.parentNode.parentNode;a.element=b;a.inputElement=b.find("input");a.mdAutocompleteCtrl=c;a.$watch("mdAutocompleteCtrl.hidden",f);angular.element(e).bind("mousedown",function(){a.preventBlur=!0});a.$watch("term.isFocus",g);a.mdAutocompleteCtrl.focus=
X.wrap(a.mdAutocompleteCtrl.focus,function(n){a.$applyAsync(n)});a.repeatElement.classList.add("term-repeat");this.setSmallPill_(a);a.onInputKeyEventBind=X.bindKey(this,"onInputKeyEvent_",a);a.inputElement.bind("keydown",a.onInputKeyEventBind);var k=X.bindKey(this,"onBlurEvent_",a);a.inputElement.bind("blur",k);var l=X.bindKey(this,"onFocusEvent_",a);a.inputElement.bind("focus",l);a.$on("$destroy",function(){a.inputElement.unbind("keydown",a.onInputKeyEventBind);a.inputElement.unbind("blur",k);a.inputElement.unbind("focus",
l)})};d.setSelectedTerm=function(a,b,c){b&&(a.isTermSelected=!0,b.title=b.title.trim(),a.term.selectedTerm=b,c&&(a.acInputTextItem=c))};d.onAutoCompleteSelect=function(a,b){b&&(this.setSelectedTerm(a,b),a.preventFocus=!0,a.inputElement[0].blur())};
d.onFocusEvent_=function(a){a.preventFocus?(a.preventFocus=!1,a.inputElement[0].blur()):(a.element.addClass("pill-selected"),a.inputElement[0].select(),a.acInputTextItem&&0<a.acInputTextItem.length&&(a.mdAutocompleteCtrl.scope.selectedItem=void 0,a.mdAutocompleteCtrl.matches=Dv.getAutoCompleteList(a,a.acInputTextItem,!0),a.mdAutocompleteCtrl.focus()))};
d.onBlurEvent_=function(a){if(a.preventBlur)a.preventBlur=!1;else{if(!a.isTermSelected){var b=a.term.selectedTerm&&a.term.selectedTerm.title||"";a.isSingle()||b?a.acInputTextItem=b:this.clearTerm(a)}Ev(function(){document.activeElement!==a.inputElement[0]&&(a.element.removeClass("pill-selected"),a.isTermSelected=!1)},100)}};d.toggleFocus_=function(a,b){!a.$root.globals.isMobileMode&&b&&a.inputElement[0].focus();a.term.isFocus=!1};
d.setAutocompleteCss_=function(a){a.element.toggleClass("autocomplete-open",!a.mdAutocompleteCtrl.hidden)};d.setSmallPill_=function(a){a.repeatElement&&(a.isSmallPillsMode?a.repeatElement.classList.add("small-pill"):a.repeatElement.classList.remove("small-pill"))};d.clearTerm=function(a){Ev(function(){a.termChangeHandler({entity:{selectedTerm:void 0}})},750)};d.editTerm=function(a){a.$root.globals.isMobileMode?this.showSearchTermAutocompleteDialog_(a):a.inputElement[0].focus()};
d.clearInput_=function(a){a.inputElement[0].value&&a.mdAutocompleteCtrl.clear()};d.openOptionsMenu=function(a,b){a(b)};d.showFilterDialog=function(a){Jv("SearchTermFilterDialogCtrl",{$scope:a.$new(),onFiltersPick:function(b,c){a.term.selectedGeo.geo=b;a.term.selectedPeriod.period=c;a.termChangeHandler({entity:a.term})},currentSelectedGeo:a.term.selectedGeo.geo,currentSelectedPeriod:X.clone(a.term.selectedPeriod.period),searchTermTitle:a.term.selectedTerm.title,isWebSearch:a.isWebSearch}).showModal()};
d.showSearchTermAutocompleteDialog_=function(a){var b=a.isSingle()?"Explore":"Compare";Kv.show({scope:a.$new(),clickOutsideToClose:!0,controller:"SearchTermAutocompleteMobileDialogCtrl",controllerAs:"ctrl",templateUrl:"/explorepage/search-term-autocomplete-mobile-dialog.html",onComplete:X.bindKey(this,"onComplete_"),onRemoving:X.bindKey(this,"onDialogClose_"),focusOnOpen:!1,setSelectedTerm:X.bindKey(this,"setSelectedTerm",a),clearTerm:X.bindKey(this,"clearTerm",a),getAutoCompleteListBind:a.getAutoCompleteListBind,
dialogTitle:b})};d.onComplete_=function(a,b){a.ctrl.bindUI(a,b)};d.onDialogClose_=function(a,b){b.then(Iv[0].body.style="")};var Mv=function(a,b,c,e,f,g,k,l,n,p){Iv=a;Jv=b;X=c;Dv=e;Ev=f;Fv=g;Cv=k;Kv=l;Gv=n;Hv=p;return new Lv};t("$jscomp.scope.directiveInjector$jscomp$41",Mv,void 0);Mv.$inject="$document $controller lodash searchService $timeout exploreService configService $mdDialog globalsService bidiService".split(" ");var Nv=function(){};var Ov=function(a,b,c,e,f,g,k,l,n,p){this.scope_=a;this.config=g;this.logger_=new this.config.DebugLogger(this);this.logger_.puts("debug",["SearchTermFilterDialogCtrl",arguments]);this.modalService_=b;this.lodash_=c;this.onFiltersPick_=e;this.selectedGeo=f;this.selectedPeriod=k;this.geoOptions=null;this.periodOptions=n.getPeriodOptions();this.searchTermTitle=l;this.exploreService_=n;this.isWebSearch=p;this.loadGeoPicker_()};t("$jscomp.scope.SearchTermFilterDialogCtrl",Ov,void 0);Ov.$inject="$scope $mdDialog lodash onFiltersPick currentSelectedGeo configService currentSelectedPeriod searchTermTitle exploreService isWebSearch".split(" ");
d=Ov.prototype;d.hideModal=function(){this.modalService_.hide();this.scope_.$destroy()};d.loadGeoPicker_=function(){var a=this;this.exploreService_.getGeoPicker().then(function(b){a.geoOptions=b},null)};d.okClickHandle=function(){var a=this;this.scope_.$applyAsync(function(){a.onFiltersPick_(a.selectedGeo,a.selectedPeriod);a.hideModal()})};
d.showModal=function(){this.modalService_.show({controller:this.lodash_.constant(this),controllerAs:"ctrl",scope:this.scope_,templateUrl:"/explorepage/search-term-filter-dialog.html",clickOutsideToClose:!0,preserveScope:!0,onComplete:this.lodash_.bindKey(this,"addDialogContainerClass_")})};d.addDialogContainerClass_=function(a,b){b.addClass("fix-dialog-z-index")};var Pv=function(a){return{restrict:"E",scope:{term:"=",termChangeHandler:"&",isWebSearch:"="},templateUrl:"/explorepage/search-term-filter-directive.html",controller:Nv,controllerAs:"ctrl",link:function(b){a.getGeoPicker().then(function(c){return b.geoOptions=c});b.periodOptions=a.getPeriodOptions();b.termChangeFunction=function(){b.term.selectedGeo.geo=this.term.selectedGeo.geo;b.term.selectedPeriod.period=this.term.selectedPeriod.period;b.termChangeHandler({entity:this.term});b.term.isNewPill=!1}}}};
Pv.$inject=["exploreService"];var Qv,Rv,Sv,Tv,Uv=function(){this.restrict="E";this.templateUrl="/explorepage/sticky-legend-bar-directive.html";this.scope={model:"=",isGlobalFiltersMode:"="};this.multipleFiltersText="Multiple Filters";this.link=Qv.bind(this.link,this)};
Uv.prototype.link=function(a,b){a.stickyLegendBarDirective=this;a.element=b;a.colors=Rv;b=angular.element(Sv);setTimeout(function(){return a.explorePillsContainer=document.getElementById("explorepage-content-header")},0);b.on("scroll",a.$apply.bind(a,Qv.throttle(this.scrollHandler,50)));a.propertyOptions=Tv.getPropertyOptions();a.periodOptions=Tv.getPeriodOptions();this.setFiltersCaption=Qv.bind(this.setFiltersCaption_,this,this);Promise.all([Tv.getCategoryPicker(),Tv.getGeoPicker()]).then(function(c){a.categoryOptions=
c[0];a.geoOptions=c[1];a.stickyLegendBarDirective.setFiltersCaption(a)});a.$watchGroup(["model.geo","model.category","model.property","model.period","isGlobalFiltersMode"],function(){Qv.every([a.propertyOptions,a.periodOptions,a.categoryOptions,a.geoOptions],function(c){return c})&&a.stickyLegendBarDirective.setFiltersCaption(a)},!0)};
Uv.prototype.scrollHandler=function(a){if(Qv.every(a.model.terms,function(e){return""!==e.selectedTerm.mid})){var b=a.explorePillsContainer.getClientRects()[0]?a.explorePillsContainer.getClientRects()[0].height:192;b=a.explorePillsContainer.offsetTop+b;var c=Sv.pageYOffset;c>=b&&!a.shouldShowStickyLegend?a.shouldShowStickyLegend=!0:c<b&&a.shouldShowStickyLegend&&(a.shouldShowStickyLegend=!1)}};
Uv.prototype.setFiltersCaption_=function(a,b){var c=Qv.isNull(b.model.period)?"":b.geoOptions.nodesByID_[b.model.geo].name,e=Qv.isNull(b.model.period)?"":b.periodOptions.nodesByID_[b.model.period.id]?b.periodOptions.nodesByID_[b.model.period.id].name:b.model.period.name,f=0!==b.model.category?", "+b.categoryOptions.nodesByID_[b.model.category].name:"",g=""!==b.model.property?", "+b.propertyOptions.nodesByID_[b.model.property].name:"";b.filtersCaption=b.isGlobalFiltersMode?c+", "+e+f+" "+g:""+a.multipleFiltersText+
f+" "+g};var Vv=function(a,b,c,e,f){Qv=a;Sv=b;Rv=(new e.Colors).getHexValues();Tv=f;return new Uv};t("$jscomp.scope.directiveInjector$jscomp$42",Vv,void 0);Vv.$inject=["lodash","$window","$document","colorsFactory","exploreService"];var Wv=function(a,b,c,e,f,g,k,l,n){this.scope_=a;this.routeParams_=b;this.document_=c;this.timeout_=l;this.oldStories_=void 0;this.lodash_=f;this.storyService_=g;this.configService_=k;this.errorMessage=void 0;this.showErrorMessage=!1;this.category=this.getCategory_();this.location_=n;this.categoryId_=this.routeParams_.category||k.defaultCategoryId;this.geoId_=this.routeParams_.geo||k.defaultGeoId;this.isQuerying=!1;this.trendingDataFullscreen=[];this.hideAllImages=!1;this.window_=e;this.sparklineSize=
[];this.currentDate="";this.isPageScrollInProgress=!0;this.isHighResolution_=this.isHighRes_();this.currentPageNumber=0;this.isTitleShadow=!1;this.refreshTrendingStoriesFS_();this.scrollDownTimeoutCallback_=this.lodash_.bind(this.scrollDown_,this);this.onScrollEventTimeoutPromise_=null;this.realNumberOfPages=4;this.pageBulletsArray=[0,1,2,3];this.scrollDownTimeoutPromise_=this.timeout_(this.scrollDownTimeoutCallback_,3E4);angular.element(this.document_[0].documentElement).addClass("no-scroll");this.scrollStepTimeoutPromise_=
void 0;this.onResizeBind=this.lodash_.bind(this.onResize_,this);this.onResize_();var p=angular.element(e);p.bind("resize",this.onResizeBind);this.onScrollBind=this.lodash_.bind(this.onScroll_,this);p.bind("scroll",this.onScrollBind);this.onKeyupBind=this.lodash_.bind(this.keyUpHandler_,this);p.bind("keyup",this.onKeyupBind);this.scope_.$on("$destroy",this.lodash_.bind(function(){angular.element(this.document_[0].documentElement).removeClass("no-scroll");p.unbind("resize",this.onResizeBind);p.unbind("scroll",
this.onScrollBind);p.unbind("keyup",this.onKeyupBind);this.timeout_.cancel(this.scrollDownTimeoutPromise_);this.timeout_.cancel(this.scrollStepTimeoutPromise_);this.timeout_.cancel(this.onScrollEventTimeoutPromise_)},this))};t("$jscomp.scope.FullScreenPageCtrl",Wv,void 0);Wv.$inject="$scope $routeParams $document $window lodash storyService configService $timeout $location".split(" ");var Xv=[97,33],Yv=[120,44];d=Wv.prototype;
d.applyLatestResponse_=function(a){a=this.lodash_.bindKey(this,"applyLatestResponseCallback_",a);this.timeout_(a,0)};
d.applyLatestResponseCallback_=function(a){var b=a.storySummaries.trendingStories,c=b.length,e=this.numOfStoriesPerPage_(),f=4*e;f>c?this.realNumberOfPages=Math.ceil(c/e):(this.realNumberOfPages=4,b=b.slice(0,f));this.pageBulletsArray=this.lodash_.range(this.realNumberOfPages);this.oldStories_&&(b=this.setArrows_(this.oldStories_,b));this.hideAllImages=a.hideAllImages;this.trendingDataFullscreen=b;this.currentDate=a.date;this.trendingDataFullscreen.length||(this.showErrorMessage=!0);this.oldStories_=
b};d.refreshTrendingStoriesFS_=function(){var a=this;this.isQuerying=!0;return this.storyService_.getRealtimeTrending({geo:this.routeParams_.geo||this.configService_.defaultGeoId,category:this.routeParams_.category||this.configService_.defaultCategoryId,trendingSize:200,trendingPrefetchSize:200}).then(function(b){return a.applyLatestResponse_(b.data)},function(b){a.showErrorMessage=!0;a.errorMessage=b})["finally"](function(){return a.isQuerying=!1})};
d.scrollDown_=function(){var a=this.getTrendingStoriesElement_();a.children.length>this.numOfStoriesPerPage_()&&(a=this.calcDeltaPixels_(a),this.scrollWithDuration_(a,750));this.scrollDownTimeoutPromise_=this.timeout_(this.scrollDownTimeoutCallback_,3E4)};d.getTrendingStoriesElement_=function(){return this.document_[0].querySelector(".homepage-trending-stories-fs").children[0]};
d.calcDeltaPixels_=function(a){var b=this.realNumberOfPages;this.currentPageNumber=(this.currentPageNumber+1)%b;0===this.currentPageNumber&&this.refreshTrendingStoriesFS_();a=a.children[Math.floor(a.children.length/b)*this.currentPageNumber].getBoundingClientRect().top;return a-=this.isHighRes_()?128:64};d.scrollWithDuration_=function(a,b){if(0!==a){var c=!1;0>a&&(c=!0,a=-a);var e=10;2400<=a&&(e=15);this.scrollStep_(a,b/Math.floor(a/e),e,c,a%e)}};
d.scrollStep_=function(a,b,c,e,f){a-=c;0<a?(this.window_.scrollBy(0,e?-c:c),a=this.lodash_.bindKey(this,"scrollStep_",a,b,c,e,f),this.scrollStepTimeoutPromise_=this.timeout_(a,b)):0<f&&this.window_.scrollBy(0,e?-f:f)};
d.togglePageScroll=function(a){this.isPageScrollInProgress=!a;var b=angular.element(this.document_[0].documentElement);a?(this.timeout_.cancel(this.scrollDownTimeoutPromise_),this.timeout_.cancel(this.scrollStepTimeoutPromise_),b.removeClass("no-scroll"),this.currentPageNumber=void 0):(b.addClass("no-scroll"),this.currentPageNumber=-1,this.scrollDown_())};
d.bulletClick=function(a){this.timeout_.cancel(this.scrollDownTimeoutPromise_);this.timeout_.cancel(this.scrollStepTimeoutPromise_);this.currentPageNumber=a-1;this.scrollDown_()};d.setArrows_=function(a,b){for(var c={},e=0;e<a.length;e++)c[a[e].id.toString()]=e;for(a=0;a<b.length;a++)e=c[b[a].id.toString()],b[a].positionFlag=0===e||e?a<e?"up":e<a?"down":"":"new";return b};
d.numOfStoriesPerPage_=function(){return Math.floor((this.getDocumentHeight_()-(this.isHighRes_()?128:64))/(this.isHighResolution_?141:113))};d.getDocumentHeight_=function(){var a=this.document_[0].documentElement,b=this.document_[0].body;return Math.max(a.offsetHeight,a.clientHeight,b.offsetHeight,b.clientHeight)};d.onResize_=function(){this.isHighRes_()?(this.sparklineSize=Yv,this.isHighResolution_=!0):(this.sparklineSize=Xv,this.isHighResolution_=!1)};d.isHighRes_=function(){return 1980<=this.window_.innerWidth};
d.onScroll_=function(){this.timeout_.cancel(this.onScrollEventTimeoutPromise_);this.onScrollEventTimeoutPromise_=this.scrollEventHandlerHelper_(this,function(){this.isTitleShadow=this.window_.pageYOffset>=this.document_[0].querySelector(".page-top").offsetHeight-this.document_[0].querySelector(".header-wrapper-fs").offsetHeight;this.scope_.$apply()})};d.scrollEventHandlerHelper_=function(a,b){b=a.lodash_.bind(b,a);return a.timeout_(b,5)};
d.getCategory_=function(){var a=this.routeParams_.category,b="";a&&"all"!==a&&this.lodash_.forEach(catPicker,function(c){c.id===a&&(b=c.name)});return b};d.keyUpHandler_=function(a){27===a.keyCode&&(this.location_.path("/trendingsearches/realtime"),this.location_.search({geo:this.geoId_,category:this.categoryId_}))};d.getTrendingSearchesUrl=function(){return"/trendingsearches/realtime?geo="+this.geoId_+("&category="+this.categoryId_)};var Zv=function(a,b){this.doesNeedRtlFix=b.isTextInOppositeTextDirectionContext(a.description)};Zv.$inject=["$scope","bidiService"];var $v=function(a,b,c,e,f,g,k){var l=this;this.scope_=a;this.http_=b;this.timeout_=e;this.utilsService_=k;this.pathPrefix_=f.pathPrefix;this.logger_=new f.DebugLogger(this);this.translationService_=g;this.showMoreText=g.translate("MSG_SHOW_MORE");this.editorials={};this.numberOfCardsToDisplay=2;this.showShowMoreButton=this.loadingEditorials=!1;this.checkForEditorials_(c);a.$watch("geoId",function(n,p){n!==p&&(l.scope_.$emit("editorialsApiDone",!1),l.editorials={cards:[]},l.getEditorials_(!0))})};
d=$v.prototype;d.checkForEditorials_=function(a){angular.isDefined(a.editorials)?(this.editorials=JSON.parse(a.editorials),this.updateEditorials_(!0),this.showShowMoreButton=this.editorials.hasMoreEditorials):(this.editorials={cards:[]},this.getEditorials_(!0))};d.setUrlTextIcon_=function(a){a.url.startsWith("/")?(a.urlText=this.translationService_.translate("MSG_READ_MORE"),a.urlIcon="arrow_forward"):(a.urlText=this.translationService_.translate("MSG_VISIT_WEBSITE"),a.urlIcon="open_in_new")};
d.reloadMainCard_=function(){var a=this,b=this.utilsService_.cloneDeep(this.editorials.mainCard);this.editorials.mainCard=null;this.timeout_(function(){a.editorials.mainCard=b},0)};d.updateEditorials_=function(a){var b=this;this.editorials.cards.forEach(function(c){return b.setUrlTextIcon_(c)});this.editorials.mainCard&&a&&(this.setUrlTextIcon_(this.editorials.mainCard),this.reloadMainCard_());this.scope_.$emit("editorialsApiDone",!0)};
d.onSuccess_=function(a,b){this.editorials.cards=this.editorials.cards.concat(a.cards);b&&(this.editorials.mainCard=a.mainCard);this.updateEditorials_(b);this.numberOfCardsToDisplay+=a.cards.length;this.showShowMoreButton=a.hasMoreEditorials;this.loadingEditorials=!1};
d.getEditorials_=function(a){var b=this;this.loadingEditorials=!0;var c=""+this.pathPrefix_+"/api/stories/editorials",e={geo:this.scope_.geoId,maxcards:16,loadedcardids:this.editorials.cards.map(function(f){return f.id})};this.http_.get(c,{params:e}).then(function(f){return b.onSuccess_(f.data,a)},function(f){return b.logger_.puts("error",["Load more editorials api",f])})};d.showMore=function(){this.getEditorials_(!1)};
d.showEditorials=function(){return!(!this.editorials||!(this.editorials.mainCard||this.editorials.cards&&this.editorials.cards.length))};$v.$inject="$scope $http $window $timeout configService translationService utilsService".split(" ");var aw=function(a,b,c,e,f,g,k){this.scope_=a;this.http_=b;this.window_=c;this.utilsService_=f;this.homePageService_=k;this.logger_=new e.DebugLogger(this);this.startWithExampleMsg=g.translate("MSG_START_WITH_EXAMPLE");this.examples=[];this.visibleExamples=[];this.showExamples=this.window_.showExploreExamples;this.firstIndexInView=0;this.maxItemsPerPage=this.getMaxItemsPerPage_();this.pathPrefix_=e.pathPrefix;this.calledExamplesApiOnload=!1;this.init_()};d=aw.prototype;
d.init_=function(){var a=this;this.showExamples&&this.getExamples_();var b=this.utilsService_.throttle(function(){return a.updateFirstIndexInViewOnResize_()},100);angular.element(this.window_).on("resize",b);this.scope_.$on("$destroy",function(){return angular.element(a.window_).off("resize",b)});this.scope_.$watchGroup(["ctrl.firstIndexInView","ctrl.maxItemsPerPage"],function(){return a.updateVisibleExamples_()});this.scope_.$on("showExamples",function(){a.showExamples=!0;a.updateUserPreferences_();
a.examples.length||a.calledExamplesApiOnload||a.getExamples_()});this.scope_.$on("hideExamples",function(){return a.showExamples=!1});this.window_.onload=function(){return a.callApiOnload_()}};d.callApiOnload_=function(){this.showExamples||(this.calledExamplesApiOnload=!0,this.getExamples_())};d.updateFirstIndexInViewOnResize_=function(){var a=this.maxItemsPerPage;this.maxItemsPerPage=this.getMaxItemsPerPage_();a!==this.maxItemsPerPage&&(this.firstIndexInView=0)};
d.getMaxItemsPerPage_=function(){var a=this.window_.innerWidth;if(776>a)return 1;if(776<=a&&1025>a)return 2;if(1025<=a)return 3};d.getExamples_=function(){var a=this;this.http_.get(""+this.pathPrefix_+"/api/explore/examples").then(function(b){a.examples=b.data;a.examples.forEach(function(c){return c.url=""+a.pathPrefix_+c.url});a.updateVisibleExamples_()},function(b){return a.logger_.puts("error",["Get examples api",b])})};
d.updateVisibleExamples_=function(){this.visibleExamples=this.examples.slice(this.firstIndexInView,this.firstIndexInView+this.maxItemsPerPage)};d.hideExmaples=function(){this.showExamples=!1;this.updateUserPreferences_();this.scope_.$emit("hideExamples")};d.updateUserPreferences_=function(){this.homePageService_.sendUserPrefrences("HOMEPAGE_EXAMPLES",this.showExamples?"SHOW":"DONT_SHOW")};aw.$inject="$scope $http $window configService utilsService translationService homePageService".split(" ");var cw=function(a,b,c,e,f,g,k,l,n,p,q,u){var x=this;this.scope_=a;this.window_=c;this.location_=e;this.mdDialog_=f;this.homePageService_=q;this.globalsService_=l;this.trackingService_=u;this.autocompletePlaceHolder=p.translate("MSG_SEARCH_BAR_PLACEHOLDER");this.examplesHeaderText=p.translate("MSG_START_WITH_EXAMPLE");this.geoId=e.search().geo||k.defaultGeoId;this.autocompleteText="";this.isExamplesVisible=this.window_.showExploreExamples;this.isEditorialsApiCompleted=!1;this.showWelcomeMessage=this.window_.showKlIntroMessage;
this.welcomeMessage={title:p.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_TITLE,body:p.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_BODY};if(!this.location_.search().geo)this.onGeoChange_({id:this.geoId});this.setIsSmallWidth_();var w=n.throttle(function(){return x.setIsSmallWidth_()},100);angular.element(window).on("resize",w);a.$on("$destroy",function(){return angular.element(window).off("resize",w)});a.$on("hideExamples",function(){return x.isExamplesVisible=!1});a.$on("headerGeoChange",function(D,I){return x.onGeoChange_(I)});
a.$on("editorialsApiDone",function(D,I){x.isEditorialsApiCompleted=I;x.isSmallWidth&&x.showWelcomeMessage&&g.show(bw).then(function(){x.dismissWelcomeMessage()})["catch"](function(){})});a.$on("openAutocompleteDialog",function(){return x.openAutocompleteDialog()});a.$watch("ctrl.autocompleteText",function(){return b.$broadcast("autocompleteTextChanged",x.autocompleteText)});a.$on("autocompleteTextChangedInTopBar",function(D,I){return x.autocompleteText=I})};d=cw.prototype;
d.onGeoChange_=function(a){this.geoId=a.id;this.location_.search({geo:a.id}).replace()};d.showExamples=function(){this.isExamplesVisible=!0;this.scope_.$broadcast("showExamples")};d.setIsSmallWidth_=function(){var a=this.globalsService_;this.isSmallWidth=a.getBreakpointRange()===a.screenSizes.SMALL};d.openAutocompleteDialog=function(){this.mdDialog_.show({controller:"AutocompleteDialogCtrl",controllerAs:"ctrl",fullscreen:!0,templateUrl:"/components/search/autocomplete-dialog/autocomplete-dialog.html"})};
d.dismissWelcomeMessage=function(){this.trackingService_.trackEvent("Homepage","click","dismiss welcome message");this.showWelcomeMessage=!1;this.homePageService_.sendUserPrefrences("HOMEPAGE_KL_INTRO_MESSAGE","DONT_SHOW")};cw.$inject="$scope $rootScope $window $location $mdDialog $mdBottomSheet configService globalsService utilsService translationService homePageService trackingService".split(" ");
var bw={templateUrl:"/homepage/welcome-message-bottom-sheet/welcome-message-bottom-sheet.html",controller:"WelcomeMessageCtrl",controllerAs:"ctrl"};var dw=function(a,b,c){this.token_=a.xsrfToken;this.http_=b;this.pathPrefix_=c.pathPrefix;this.logger_=new c.DebugLogger(this)};dw.prototype.sendUserPrefrences=function(a,b){var c=this;this.http_({method:"POST",url:this.pathPrefix_+"/api/updatepref",params:{pref:a,option:b,token:this.token_}}).then(function(e){return c.logger_.puts("debug",["HomePageService.sendUserPrefrences "+a+" "+b,e])},function(e){return c.logger_.puts("error",["HomePageService.sendUserPrefrences "+a+" "+b,e])})};
dw.$inject=["$window","$http","configService"];var ew=function(a,b,c,e,f,g){var k=this;this.scope_=a;this.http_=b;this.window_=c;this.pathPrefix=e.pathPrefix;this.apiUrl_=this.pathPrefix+"/api/topdailytrends";this.translationService_=g;this.recentlyTrendingItems=[];this.isGlobalGeo=!1;this.maxItemsToDisplay=this.recentlyTrendingTitle=null;this.updateVisibleItems_();this.getRecentlyTrending_();var l=f.throttle(function(){return k.updateVisibleItems_()},100);angular.element(c).on("resize",l);a.$on("$destroy",function(){return angular.element(c).off("resize",
l)});a.$watch("geoId",function(n,p){n!==p&&k.getRecentlyTrending_()})};
ew.prototype.onSuccess_=function(a){var b=this;this.recentlyTrendingItems=a["default"].trendingSearches;this.updateGlobalGeo_(a["default"].geo);this.recentlyTrendingTitle=this.isGlobalGeo?this.translationService_.translate("MSG_RECENTLY_TRENDING_TITLE_GLOBAL"):this.translationService_.translate("MSG_RECENTLY_TRENDING_TITLE");this.recentlyTrendingItems.forEach(function(c){return c.description=b.isGlobalGeo?c.country:b.translationService_.translate("SEARCH_COUNT",{count:c.formattedTraffic})})};
ew.prototype.getRecentlyTrending_=function(){var a=this;this.http_.get(this.apiUrl_,{params:{geo:this.scope_.geoId}}).then(function(b){return a.onSuccess_(b.data)},function(b){return a.logger_.puts("error",["RecentlyTrendingDirectiveCtrl.getRecentlyTrending",b])})};ew.prototype.updateVisibleItems_=function(){this.maxItemsToDisplay=775>=this.window_.innerWidth?5:10};ew.prototype.updateGlobalGeo_=function(a){this.isGlobalGeo="Global"===a};ew.$inject="$scope $http $window configService utilsService translationService".split(" ");var fw=function(a,b,c){this.mdBottomSheet_=b;this.welcomeMessage={title:c.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_TITLE,body:c.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_BODY}};fw.prototype.dismissWelcomeMessage=function(){this.mdBottomSheet_.hide()};fw.$inject=["$scope","$mdBottomSheet","translationService"];var gw=function(a,b,c,e){var f=this;this.http_=b;this.scope_=a;this.configService_=c;this.globalsService=e;this.yisVisibleList=[];this.yisList=[];this.maxItemsPerPage=5;this.currentPage=0;this.yisSmallImage=c.staticPathPrefix+"/yis-homepage-mobile.svg";this.yisLargeImage=c.staticPathPrefix+"/yis-homepage-desktop.svg";a.$watch("ctrl.currentPage",function(){return f.updateVisibleList()});a.$watch("geoId",function(){return f.getYisData_()})};
gw.prototype.getYisData_=function(){var a=this;this.http_.get(this.configService_.pathPrefix+"/api/stories/yis",{params:{geo:this.scope_.geoId}}).then(function(b){return a.handleYisCardResponse(b)})};gw.prototype.handleYisCardResponse=function(a){this.yisList=a.data.links;this.updateVisibleList()};gw.prototype.updateVisibleList=function(){this.yisVisibleList=this.yisList.slice(this.currentPage*this.maxItemsPerPage,(this.currentPage+1)*this.maxItemsPerPage)};
gw.$inject=["$scope","$http","configService","globalsService"];var Y,hw=function(a,b,c,e,f){Y=this;this.logger_=new e.DebugLogger(this);this.q_=b;this.window_=a;this.cache_=c("TrendsCache");this.storage_=null;this.trackingService_=f;this.CACHE_EXPIRATION_MS_=null;this.STORAGE_CAPACITY=100;this.init()};d=hw.prototype;
d.init=function(){switch(this.window_.clientSideCacheStrategy){case "persistent":this.storage_=this.window_.localStorage;break;case "session":this.storage_=this.window_.sessionStorage;break;default:this.logger_.puts("error",["CacheInterceptor","Invalid clientSideCacheStrategy flag","Possible Values: persistent|session","Received: '"+this.window_.clientSideCacheStrategy+"'"]);return}this.CACHE_EXPIRATION_MS_=this.window_.clientSideCacheDurationInMilliseconds;var a=["CacheInterceptor","Strategy: "+
this.window_.clientSideCacheStrategy,"Expiry: "+this.CACHE_EXPIRATION_MS_+" milliseconds"];this.storage_&&this.resetIfNewVersion_();this.logger_.puts("debug",a)};d.request=function(a){try{var b=Y.buildUrl_(a),c=Y.storage_.getItem(b);if(c){var e=JSON.parse(c);Y.updateCache_(b,e);a.cache=Y.cache_}return a}catch(f){throw"CacheInterceptor.request: "+f;}};d.requestError=function(a){return Y.logError_("requestError",a)};
d.response=function(a){try{if(Y.shouldCache_(a)){var b=Y.buildUrl_(a.config),c=Y.constractCachedResponse_(a),e=JSON.stringify({timestamp:Date.now(),response:c});Y.storage_.length>=Y.STORAGE_CAPACITY&&Y.removeRandomItemFromStorage_();Y.storage_.setItem(b,e)}return a}catch(f){throw"CacheInterceptor.response: "+f;}};d.responseError=function(a){return Y.logError_("responseError",a)};d.clear=function(){this.storage_.clear();this.cache_.removeAll()};
d.logError_=function(a,b){Y.logger_.puts("error",["CacheInterceptor",a,b]);return Y.q_.reject(b)};
d.resetIfNewVersion_=function(){var a=this.window_.clientSideCacheBuildHash,b=this.storage_.getItem("clientSideCacheBuildHash"),c=["CacheInterceptor"];a?a!==b&&(c.push("new clientSideCacheBuildHash flag detected: "+a),this.logger_.puts("debug",c),this.clear(),this.storage_.setItem("clientSideCacheBuildHash",a)):(this.clear(),c.push("invalid clientSideCacheBuildHash flag: "+a),this.logger_.puts("error",c))};
d.shouldCache_=function(a){return 200!==a.status||"GET"!==a.config.method||iw.test(a.config.url)?!1:!0};d.buildUrl_=function(a){if(!a.params)return a.url;var b=a.url.includes("?")?"&":"?";return""+a.url+b+a.paramSerializer(a.params)};d.constractCachedResponse_=function(a){return[a.status,a.data,a.headers(),a.statusText,a.status]};
d.updateCache_=function(a,b){var c=Date.now()-b.timestamp;if(c>this.CACHE_EXPIRATION_MS_)Y.cache_.remove(a),Y.storage_.removeItem(a),Y.trackCacheAction_("miss",a,c);else{var e=["CacheInterceptor"];e.push("Loaded from cache "+a);e.push(b.response);this.logger_.puts("debug",e);Y.cache_.put(a,b.response);Y.trackCacheAction_("hit",a,c)}};
d.removeRandomItemFromStorage_=function(){if(Y.storage_){var a=Object.keys(Y.storage_).filter(function(b){return b.includes("/trends/")});Y.storage_.removeItem(a[Math.floor(Math.random()*a.length)])}};d.trackCacheAction_=function(a,b,c){this.trackingService_.trackEvent("CacheInterceptor",a,b,c)};hw.$inject=["$window","$q","$cacheFactory","configService","trackingService"];var iw=/\.*(\.html|svg)/;var jw=function(a,b,c,e,f,g,k,l,n,p,q,u,x,w,D){this.document_=a;this.lodash_=f;this.window_=e;this.timeout_=p;this.storyService_=g;this.pageLayouts_=g.pageLayouts;this.config=k;this.logger_=new this.config.DebugLogger(this);this.globalsService=l;this.bidiService_=q;this.location_=u;this.route_=x;this.paletteService_=n;this.rootScope_=c;this.showErrorMessage=!1;this.storyId=b.id;this.hideNews=b.hn;this.q_=D;this.model={bannerImgUrl:"",bannerVideoUrl:"",entityNames:[],eventName:"",pageLayout:"EMPTY_STORY",
parentStoryId:"",subTitle:"",timeRange:"",timestamp:null,title:""};this.widgetsIds=[];this.widgets=[];this.widgetsPerPage_=this.widgetsPagesCount=this.numberOfWidgets=0;this.components=[];this.palette=void 0;this.storyVersions=e.yisHubPicker;this.selectedCountry=this.getSelectedCountry_();this.firstAtomIsFeText=!1;this.shareConfig=null;this.electionsTabsStoriesIds=[e.electionsPresidentStoryId,e.electionsVpStoryId,e.electionsTicketStoryId];this.storyPromise=this.refresh_();this.backToStoryURL=this.headerTemplate=
this.pageLayoutType="";this.arrowBackPath=k.staticPathPrefix+"/ic_arrow_back_24px.svg";this.bannerVideoUrl=this.timeRange=this.subTitle=this.title=this.eventName="";this.entityNames=null;this.isYisHubLayout=this.isYis2015HubLayout=this.isOlympics2016StoryLayout=this.isOlympics2016GoobersLayout=!1;this.showContent=!0;this.candidatesTrackArray=["Candidates-Elections","Header Back","Click"];this.stateTrackArray=["State-Elections","Header Back","Click"];w.$watch("ctrl.widgets",f.bindKey(this,"getCurrentWidgetsList_"));
this.logger_.puts("debug",["Story page created",arguments])};t("$jscomp.scope.StoryCtrl",jw,void 0);jw.$inject="$document $routeParams $rootScope $window lodash storyService configService globalsService paletteService $timeout bidiService $location $route $scope $q".split(" ");var kw=["PRESIDENT","VICE PRESIDENT","PRESIDENTIAL TICKET"],lw=["PRESIDENT","VICE PRESIDENT","TICKET"],mw=["PRESIDENT","VP","TICKET"];d=jw.prototype;
d.focusByHash_=function(a){var b=this.document_[0].getElementById(a);b&&b.scrollIntoView();this.logger_.puts("debug",[b,a])};d.getCurrentPageNumber=function(){var a=Math.ceil(this.widgets.length/this.widgetsPerPage_);this.logger_.puts("debug",[a]);return a};d.getIdentifiersByPage_=function(a){var b=Math.max(a-1,0)*this.widgetsPerPage_;this.logger_.puts("debug",[a,b]);return this.widgetsIds.slice(b,b+this.widgetsPerPage_)};
d.getCurrentWidgetsList_=function(){this.logger_.puts("debug",[this.widgets]);return this.widgets};d.getNextPage=function(){var a=this,b=this.getCurrentPageNumber();if(!this.isQuerying&&b<this.widgetsPagesCount){b=this.getIdentifiersByPage_(b+1);var c=this.queryService_("getStoryWidgets",this.storyId,b).then(function(e){a.widgets=a.widgets||[];Array.prototype.push.apply(a.widgets,e.data);a.logger_.puts("debug",[e])})}return c};
d.getSelectedCountry_=function(){var a=this,b=this.lodash_.findIndex(this.storyVersions,function(c){return c.id===a.storyId});b=-1===b?{}:this.storyVersions[b];this.logger_.puts("debug",[b]);return b};
d.refresh_=function(){var a=this;this.widgetsPerPage_=this.globalsService.isDesktopMode?10:6;this.hideNews_=this.hideNews?!0:null;var b=this.q_.defer(),c=this.queryService_("getStory",this.storyId,{widgetsPrefetchSize:this.widgetsPerPage_,hideNews:this.hideNews_}).then(function(e){a.refreshSuccessCallback_(e.data);b.resolve(e)});this.logger_.puts("debug",["refreshSuccessCallback_",c]);return b.promise};
d.getTopFeaturedComponent_=function(a){for(var b=0;b<a.length;b++)if("TOP_FEATURED"===a[b].component.type)return this.logger_.puts("debug",a[b]),a[b];return null};
d.refreshSuccessCallback_=function(a){var b=this.location_.hash();a.entityNames&&a.entityNames.length||(a.entityNames=[a.title],this.logger_.puts("debug",a.entityNames));this.lodash_.assign(this.model,a);var c=this.location_.search().backToStoryId;this.model.backToStoryId=c||this.model.parentStoryId;this.backToStoryURL=this.config.pathPrefix+"/story/"+this.model.backToStoryId;this.model.pageLayout===this.pageLayouts_.OLYMPICS_2016_HUB?(c=this.getTopFeaturedComponent_(a.components),null!==c&&c.widgets.forEach(function(e){this.lodash_.find(e.widgetFields,
{name:"storyLinkURL"}).value+="?backToStoryId="+this.storyId+"&backToStoryTitle="+this.model.title},this),this.logger_.puts("debug",["OLYMPICS_2016_HUB",c])):c&&this.model.pageLayout===this.pageLayouts_.OLYMPICS_2016_STORY&&(this.model.eventName=this.location_.search().backToStoryTitle,this.logger_.puts("debug",["OLYMPICS_2016_STORY",this.model.eventName]));this.eventName=this.model.eventName;this.widgetsIds=a.widgetIds;this.widgets=a.widgets;this.numberOfWidgets=this.widgets.length;this.widgetsPagesCount=
Math.ceil(a.widgetIds.length/this.widgetsPerPage_);this.components=a.components;this.palette=this.paletteService_.getByThemeName(a.colorTheme);this.shareConfig={title:a.title+(a.parentStoryId?" - "+a.subTitle:""),storyID:this.storyId};this.firstAtomIsFeText=a.widgets&&a.widgets.length&&"fe_text"===a.widgets[0].widgetType&&"fe_yis"===a.widgets[0].template;b&&setTimeout(this.lodash_.bindKey(this,"focusByHash_",b),250);this.setPageTitle_();this.pageLayoutType=this.getPageType();this.headerTemplate=this.getPageHeaderTemplate();
this.isOlympics2016GoobersLayout="OLYMPICS_2016_GOOBERS"===this.model.pageLayout;this.isOlympics2016StoryLayout="OLYMPICS_2016_STORY"===this.model.pageLayout;this.isYis2015HubLayout="YEAR_IN_SEARCH_2015_HUB"===this.model.pageLayout;this.isYisHubLayout="YEAR_IN_SEARCH_2015_HUB"===this.model.pageLayout;this.showContent="YEAR_IN_SEARCH_2016_HUB"!==this.model.pageLayout&&(this.numberOfWidgets||!(this.isQuerying||this.showErrorMessage));this.title=this.model.title;this.subTitle=this.model.subTitle;this.timeRange=
this.model.timeRange;this.bannerVideoUrl=this.model.bannerVideoUrl;this.entityNames=this.model.entityNames};d.queryService_=function(a,b){for(var c=[],e=1;e<arguments.length;++e)c[e-1]=arguments[e];var f=this;this.isQuerying=!0;this.showErrorMessage=!1;c=this.storyService_[a].apply(this.storyService_,c);c["catch"](function(){return f.showErrorMessage=!0});c["finally"](function(){return f.isQuerying=!1});return c};
d.onWidgetEvent=function(a){"storyIdRedirect"===a.name&&(this.location_.path("/story/"+a.storyId),this.rootScope_.$applyAsync(),this.logger_.puts("debug",["storyIdRedirect",arguments]))};d.routeToSelectedYisCountryPage=function(){var a="/story/"+this.selectedCountry.id;this.logger_.puts("debug",a);this.location_.path(a)};d.setPageTitle_=function(){this.rootScope_.pageTitle=this.bidiService_.arrayToWrappedTextHelper(this.model.entityNames);this.logger_.puts("debug",this.rootScope_.pageTitle)};
d.getTabNames=function(){var a=kw;this.globalsService.isMobileMode?a=mw:this.globalsService.isTabletMode&&(a=lw);this.logger_.puts("debug",a);return a};
d.setContentOverlap=function(){var a=this.model.pageLayout;if(a===this.pageLayouts_.ELECTIONS_2016_HUB_PRESIDENT||a===this.pageLayouts_.ELECTIONS_2016_CANDIDATE_STORY||a===this.pageLayouts_.ELECTIONS_2016_STATE_STORY)return this.logger_.puts("debug",[a,47]),47;this.logger_.puts("debug",[a,this.model.parentStoryId,47]);return this.model.parentStoryId?0:47};
d.getPageHeaderTemplate=function(){var a=this.model.pageLayout;if(a===this.pageLayouts_.OLYMPICS_2016_STORY||a===this.pageLayouts_.OLYMPICS_2016_GOOBERS)return this.logger_.puts("debug",[a,"olympics-featured-story"]),"olympics-featured-story";if(a===this.pageLayouts_.ELECTIONS_2016_HUB_PRESIDENT||a===this.pageLayouts_.ELECTIONS_2016_HUB_VP||a===this.pageLayouts_.ELECTIONS_2016_HUB_TICKET)return this.logger_.puts("debug",[a,"elections-hub"]),"elections-hub";this.logger_.puts("debug",a);return a};
d.getPageType=function(){var a=this.model.pageLayout;if(a===this.pageLayouts_.OLYMPICS_2016_STORY||a===this.pageLayouts_.OLYMPICS_2016_GOOBERS||a===this.pageLayouts_.OLYMPICS_2016_FEATURED_STORIES)return this.logger_.puts("debug",[a,"olympics-content"]),"olympics-content";if(a===this.pageLayouts_.ELECTIONS_2016_HUB_PRESIDENT||a===this.pageLayouts_.ELECTIONS_2016_HUB_VP||a===this.pageLayouts_.ELECTIONS_2016_HUB_TICKET)return this.logger_.puts("debug",[a,"elections-content"]),"elections-content";if(a===
this.pageLayouts_.YEAR_IN_SEARCH_2015_HUB||a===this.pageLayouts_.YEAR_IN_SEARCH_2016_HUB||a===this.pageLayouts_.YEAR_IN_SEARCH_2015_STORY)return this.logger_.puts("debug",[a,"yis-content"]),"yis-content";this.logger_.puts("debug",[a,""]);return""};var nw=function(a,b,c,e,f,g){this.location_=c;this.mdDialog=e;this.config=g;this.storyVersions=b.yisHubPicker;this.selectedVersionIndex=f.find(b.yisHubPicker,"id",a.id)};t("$jscomp.scope.StoryVersionDialogCtrl",nw,void 0);nw.$inject="$routeParams $window $location $mdDialog lodash configService".split(" ");nw.prototype.selectionHandler=function(a){this.mdDialog.cancel();this.location_.path("/story/"+a)};var ow=function(a,b,c,e,f,g,k){var l=this;this.trackingService_=k;this.globalsService_=b;this.subscriptionsApiService_=c;this.subscriptionsService=f;this.translationService_=g;this.subscriptionsHeaderTitle=g.translate("MSG_SUBSCRIPTIONS_HEADER_TITLE");this.trendingSearchesSubscriptionTitle=g.translate("MSG_SUBSCRIPTIONS_DAILY_SEARCH_TRENDS");this.subscriptionsItem=g.translate("MSG_SUBSCRIPTION_ITEM");this.subscriptionsRegion=g.translate("MSG_SUBSCRIPTION_REGION");this.subscriptionsType=g.translate("MSG_SUBSCRIPTION_TYPE");
this.subscriptionsHowOften=g.translate("MSG_SUBSCRIPTION_HOW_OFTEN");this.contentOverlapPx=47;this.subscriptionsListTemplate=null;this.isQuerying=!0;this.logger_=new e.DebugLogger(this);this.userEmail=null;a.$watch("ctrl.globalsService_.isSmallDisplayWidth",function(){return l.setTemplate_()});this.init_()};d=ow.prototype;
d.init_=function(){var a=this;this.subscriptionsApiService_.getSubscriptions().then(function(b){a.subscriptionsService.formatSubscriptionsList(b.data.subscriptions);a.userEmail=a.translationService_.translate("USER_EMAIL",{userEmail:b.data.userEmail});a.isQuerying=!1},function(b){a.isQuerying=!1;a.logger_.puts("debug",["Subscriptions get api",b])})};
d.addSubscription=function(){this.subscriptionsService.openDialog({userEmail:this.userEmail});this.trackingService_.trackEvent(this.subscriptionsService.analyticsCategory,"open dialog","add")};d.editSubscription=function(a){this.subscriptionsService.openDialog({selectedSubscription:a,userEmail:this.userEmail});this.trackingService_.trackEvent(this.subscriptionsService.analyticsCategory,"open dialog","edit")};
d.deleteSubscription=function(a){this.subscriptionsService.selectedSubscription=a;this.subscriptionsService.isDeleteDialogOpen=!0;this.trackingService_.trackEvent(this.subscriptionsService.analyticsCategory,"open dialog","delete")};d.showNoSubscriptionsMessage=function(){return!this.isQuerying&&!this.subscriptionsService.subscriptionsList.length};d.setTemplate_=function(){this.subscriptionsListTemplate=this.globalsService_.isSmallDisplayWidth?"/subscriptionspage/subscriptions-list-mobile.html":"/subscriptionspage/subscriptions-list-desktop.html"};
d.getItemTitle=function(a){return a.term?this.translationService_.translate("SUBSCRIPTION_TITLE",{term:a.term.title,type:a.term.type}):this.trendingSearchesSubscriptionTitle};ow.$inject="$scope globalsService subscriptionsApiService configService subscriptionsService translationService trackingService".split(" ");var qw=function(a,b,c,e,f,g,k,l,n,p,q,u,x,w){var D=this;this.scope_=a;this.window_=b;this.routeParams_=c;this.pathPrefix=e.pathPrefix;this.configService_=e;this.logger_=new e.DebugLogger(this);this.storyService_=f;this.http_=g;this.globalsService=k;this.mdDialog_=l;this.location_=n;this.feedService_=p;this.translationService_=q;this.subscriptionsService=u;this.subscriptionsApiService_=x;this.trackingService_=w;this.subscribeText=q.translate("MSG_SUBSCRIBE_BUTTON");this.isQuerying=!0;this.isLoadingMore=
!1;this.shouldShowLoadMoreButton_=!0;this.contentOverlapPx=47;this.pageSubtitle=k.isSmallDisplayWidth?q.translate("MSG_TRENDING_SEARCHES_TITLE_SMALL"):q.translate("MSG_TRENDING_SEARCHES_TITLE");this.realTimeHeaderTitleMobile_=q.translate("MSG_REALTIME_HEADER_TITLE_MOBILE");this.realTimeHeaderTitleDesktop_=q.translate("MSG_REALTIME_HEADER_TITLE_DESKTOP");this.dailyRssPage=this.realTimeHeaderTitle="";this.tabOptions=[{name:"daily",title:""},{name:"realtime",title:""}];this.setPageTitles_();this.tabNames=
pw;this.selectedTab="daily"===this.routeParams_.tabName?"daily":"realtime";this.dailyHelpDialogData={title:q.translate("MSG_DAILY_HELP_DIALOG_TITLE"),content:q.translate("MSG_DAILY_HELP_DIALOG_DESCRIPTION"),url:"https://support.google.com/trends/answer/6248105?hl=en#trendingsearches"};this.realTimeHelpDialogData={title:q.translate("MSG_REAL_TIME_HELP_DIALOG_TITLE"),content:q.translate("MSG_REAL_TIME_HELP_DIALOG_DESCRIPTION"),url:"https://support.google.com/trends/answer/6248105?hl=en#trendingsearches"};
this.geoOptions=k.getGeoPicker(k.geoPickerOptions.TRENDING_SEARCHES);var I=this.routeParams_.geo||this.configService_.defaultGeoId;this.geo=this.geoOptions.find(function(ea){return ea.id===I});this.categoryId=this.routeParams_.category||this.configService_.defaultCategoryId;this.dailyTrendingSearches=[];this.realTimeTrendingSearches=[];this.trendingStoryIds_=[];this.realtimeTrendingSearchesOffset_=0;this.onGeoChangeBind=this.onGeoChange.bind(this);this.onCategoryChangeBind=this.onCategoryChange.bind(this);
this.endDateForNextDailyTrendsRequest_=this.oneAfterSelectedListItemIndex=null;this.callApiTab_();a.$watch("ctrl.globalsService.isSmallDisplayWidth",function(){return D.setPageTitles_()})};d=qw.prototype;
d.setPageTitles_=function(){this.globalsService.isSmallDisplayWidth?(this.realTimeHeaderTitle=this.realTimeHeaderTitleMobile_,this.tabOptions[0].title=this.translationService_.translate("MSG_DAILY_SEARCHES_MOBILE_TITLE"),this.tabOptions[1].title=this.translationService_.translate("MSG_REALTIME_SEARCHES_MOBILE_TITLE")):(this.realTimeHeaderTitle=this.realTimeHeaderTitleDesktop_,this.tabOptions[0].title=this.translationService_.translate("MSG_DAILY_SEARCHES_DESKTOP_TITLE"),this.tabOptions[1].title=this.translationService_.translate("MSG_REALTIME_SEARCHES_DESKTOP_TITLE"))};
d.createQueryParams_=function(a,b){return[{geo:a,category:b,featuredSize:0,featuredPrefetchSize:0,sort:this.routeParams_.sort||"0",trendingSize:300,trendingPrefetchSize:20}]};
d.handleRealtimeTrendsResponse_=function(a){var b=a.data.storySummaries.trendingStories;this.trendingStoryIds_=a.data.trendingStoryIds;this.realTimeTrendingSearches=this.feedService_.formatRealTimeTrendingSearches(b);this.realtimeTrendingSearchesOffset_=20;this.isLoadingMore=this.isQuerying=!1;this.realTimeTrendingSearches.length&&10>this.realTimeTrendingSearches.length&&this.loadMoreFeedItems()};d.resetRealTimeTrends_=function(){this.realTimeTrendingSearches=[]};
d.getRealtimeTrends_=function(){var a=this.getGeoId_();if(a)return this.storyService_.getRealtime.apply(this.storyService_,this.createQueryParams_(a,this.categoryId))};
d.handleDailyTrendsResponse_=function(a){var b=this;this.endDateForNextDailyTrendsRequest_=a.data["default"].endDateForNextRequest;this.endDateForNextDailyTrendsRequest_||(this.shouldShowLoadMoreButton_=!1);var c=a.data["default"].trendingSearchesDays.map(function(e){return{feedItems:b.feedService_.formatDailyTrendingSearches(e.trendingSearches),day:e.formattedDate}});this.dailyTrendingSearches=[].concat(ca(this.dailyTrendingSearches),ca(c));this.dailyRssPage=a.data["default"].rssFeedPageUrl;this.isLoadingMore=
this.isQuerying=!1};d.resetDailyTrendsParams_=function(){this.oneAfterSelectedListItemIndex=this.endDateForNextDailyTrendsRequest_=null;this.dailyTrendingSearches=[]};d.getDailyTrends_=function(){var a=this.getGeoId_();if(a)return this.http_.get(this.configService_.pathPrefix+"/api/dailytrends",{params:{geo:a,ns:15,ed:this.endDateForNextDailyTrendsRequest_}})};
d.callApiAndGetResponse_=function(a,b,c,e){var f=this;e=void 0===e?!1:e;this.isQuerying=!e;this.isLoadingMore=e;a=a.bind(this);var g=c.bind(this),k=b.bind(this);(b=a())?b.then(function(l){return k(l)},function(l){f.isQuerying=!1;f.isLoadingMore=!1;f.shouldShowLoadMoreButton_=!1;g(l)}):this.shouldShowLoadMoreButton_=this.isLoadingMore=this.isQuerying=!1};
d.callApiTab_=function(){this.feedService_.isOtherItemExpanded=!1;this.shouldShowLoadMoreButton_=!0;this.setLocation_();switch(this.selectedTab){case "realtime":this.callApiAndGetResponse_(this.getRealtimeTrends_,this.handleRealtimeTrendsResponse_,this.resetRealTimeTrends_);break;case "daily":this.resetDailyTrendsParams_();this.callApiAndGetResponse_(this.getDailyTrends_,this.handleDailyTrendsResponse_,this.resetDailyTrendsParams_);break;default:throw Error("TrendingFeedCtrl.callApiTab: invalid selectedTab value - "+
this.selectedTab);}};d.setLocation_=function(){var a=this.getGeoId_();a&&("realtime"===this.selectedTab?this.location_.search({geo:a,category:this.categoryId}).replace():this.location_.search({geo:a}).replace())};d.getTabUrl=function(a){return this.pathPrefix+"/trendingsearches/"+a+"?geo="+(this.geo||{}).id+("daily"===a?"":"&category="+this.categoryId)};d.onGeoChange=function(a){this.geo=a;this.callApiTab_();this.scope_.$emit("headerGeoChange",this.geo)};
d.onCategoryChange=function(a){this.categoryId=a.id;this.callApiTab_()};d.getSubscriptionByGeo_=function(a){var b=this;(a=a.find(function(c){return c.hasOwnProperty("hotTrendsSettings")&&c.hotTrendsSettings.geo===b.geo.id}))&&(a=this.subscriptionsService.createHotTrendItem(a.hotTrendsSettings));return a};
d.openSubscriptionDialog=function(){var a=this;if(!this.window_.userEmail){var b="https://www.google.com/accounts/ServiceLogin?service=trendspro&continue="+this.location_.absUrl();Xc(this.window_.location,b)}this.subscriptionsApiService_.getSubscriptions().then(function(c){c={selectedSubscription:a.getSubscriptionByGeo_(c.data.subscriptions),userEmail:c.data.userEmail,type:a.subscriptionsService.subscriptionTypes.TRENDING_SEARCHES,geo:a.geo};a.subscriptionsService.openDialog(c)},function(c){a.logger_.puts("debug",
["TrendingFeedCtrl get subscriptions api",c])})};d.selectListItem=function(a){this.oneAfterSelectedListItemIndex=a+1};d.showFeedContentHeader=function(){return!(!this.dailyTrendingSearches.length&&!this.realTimeTrendingSearches.length)};d.shouldShowLoadingMoreItemsSpinner=function(){return!this.isQuerying&&!this.isLoadingMore&&this.shouldShowLoadMoreButton_&&this.showFeedContentHeader()};d.getGeoId_=function(){return this.geo?this.geo.id:""};
d.showRealtimeErrorMessage=function(){return!this.realTimeTrendingSearches.length&&!this.isQuerying&&this.categoryId===this.configService_.defaultCategoryId};d.getErrorMessage=function(){return this.translationService_.translate("daily"===this.selectedTab?"MSG_NO_DAILY_TRENDS_FOR_REGION_ERROR":"NO_REALTIME_TRENDS_FOR_REGION_ERROR",{startLink:"<a href='"+this.getTabUrl("daily")+"' class='see-daily-link'>"})};
d.showEmbedModal=function(){this.mdDialog_.show({controller:"EmbedDialogCtrl",controllerAs:"ctrl",templateUrl:"/components/embed/embed-dialog.html",clickOutsideToClose:!0,locals:{storyId:"dailytrends",widgetId:"",exploreParams:void 0,timestamp:"",timeRange:"",exploreQuery:"",hasExternalApi:!0,showLiveDataCheckbox:!1,isCurated:!0,geo:this.getGeoId_(),wideView:!0},onComplete:function(a){a.isDialogComplete=!0;a.$applyAsync()}})};
d.getRealtimeStoriesIdentifiersByOffset_=function(a){return this.trendingStoryIds_.slice(a,a+20)};d.handleLoadMoreRealtimeTrendsResponse_=function(a){a=this.feedService_.formatRealTimeTrendingSearches(a.data.trendingStories);this.realTimeTrendingSearches=[].concat(ca(this.realTimeTrendingSearches),ca(a));this.isLoadingMore=this.isQuerying=!1;10>this.realTimeTrendingSearches.length&&this.loadMoreFeedItems()};
d.getNextBatchOfRealtimeSearches_=function(){var a={id:this.getRealtimeStoriesIdentifiersByOffset_(this.realtimeTrendingSearchesOffset_),cat:this.categoryId};this.realtimeTrendingSearchesOffset_+=20;return this.storyService_.getSummaries(a)};
d.loadMoreFeedItems=function(){switch(this.selectedTab){case "realtime":this.callApiAndGetResponse_(this.getNextBatchOfRealtimeSearches_,this.handleLoadMoreRealtimeTrendsResponse_,console.error,!0);this.trackingService_.trackEvent("Trending Searches realtime","click","load more",this.realtimeTrendingSearchesOffset_);break;case "daily":this.callApiAndGetResponse_(this.getDailyTrends_,this.handleDailyTrendsResponse_,console.error,!0);this.trackingService_.trackEvent("Trending Searches daily","click",
"load more");break;default:throw Error("TrendingFeedCtrl.loadMoreFeedItems: invalid selectedTab value - "+this.selectedTab);}};qw.$inject="$scope $window $routeParams configService storyService $http globalsService $mdDialog $location feedService translationService subscriptionsService subscriptionsApiService trackingService".split(" ");var pw={DAILY_SEARCHES:"daily",REALTIME_SEARCHES:"realtime"};var rw=function(a,b,c,e,f,g,k,l,n,p,q,u){this.globalsService=p;this.document_=a;this.rootScope_=b;this.yisService_=c;this.config=f;this.yisYear=f.getYisYear();this.logger_=new this.config.DebugLogger(this);this.location_=g;this.route_=k;this.scope_=l;this.mdDialog_=n;this.feedbackService=q;this.translationService_=u;this.MSG_PAGE_TITLE="Google's Year in Search";this.model={bannerImgUrl:"",bannerVideoUrl:"",pageLayout:"",parentStoryId:"",title:""};this.shareConfig={title:this.MSG_PAGE_TITLE,storyID:this.yisYear};
this.yisLocale=f.getYisLocale();this.selectedGeo={};this.DEFAULT_HEADER_CONTENT_OVERLAP=47;this.HELP_DIALOG_CONFIG_={clickOutsideToClose:!0,scope:this.scope_,preserveScope:!0,templateUrl:"/yis/yisFooterButtons/yis-help-dialog.html",bindToController:!0,controllerAs:"ctrl"};this.init_();this.logger_.puts("debug",["YIS page created",arguments])};d=rw.prototype;
d.init_=function(){this.scope_.$watch("ctrl.selectedGeo",this.onGeoChange_.bind(this));this.document_[0].body.style["background-color"]="#fff";this.rootScope_.pageTitle=this.MSG_PAGE_TITLE;this.model.bannerVideoUrl=this.getCustomBannerVideoUrl_();this.model.bannerImgUrl=this.getCustomBannerImgUrl_()};d.getYisTitle=function(){return this.translationService_.translate("YIS_TITLE",{year:this.yisYear})};
d.getYisTrendingGeoPickerTitle=function(){return this.translationService_.translate("YIS_TRENDING_GEO_PICKER_TITLE",{year:this.yisYear})};d.getYisMostSearchedGeoPickerTitle=function(){return this.translationService_.translate("YIS_MOST_SEARCHED_GEO_PICKER_TITLE",{year:this.yisYear})};d.shouldDisplayYisFooterButtons=function(){return!this.yisService_.isCurrentlyQuerying()};d.setContentOverlap=function(){return this.model.parentStoryId?0:this.DEFAULT_HEADER_CONTENT_OVERLAP};
d.getCustomBannerVideoUrl_=function(){return this.yisService_.getCustomBannerVideoUrl(this.selectedGeo)};d.isDefaultBanner=function(){return this.yisService_.isDefaultBanner()};d.getCustomBannerImgUrl_=function(){return this.yisService_.getCustomBannerImgUrl()};d.onGeoChange_=function(){this.model.bannerVideoUrl=this.getCustomBannerVideoUrl_();this.setGeoInPath_();this.selectedGeo&&this.selectedGeo.id&&this.config.updateAvailableYisYearsByGeo(this.selectedGeo);this.logger_.puts("debug")};
d.setGeoInPath_=function(){if(this.selectedGeo&&this.selectedGeo.id){var a=this,b=this.route_.current,c=this.rootScope_.$on("$locationChangeSuccess",function(){a.route_.current=b;c();a.logger_.puts("debug",a.route_.current);a=b=c=null});this.updatePath_()}};d.updatePath_=function(){var a="yis/"+this.yisYear+"/"+this.selectedGeo.id+"/";this.location_.$$path!==a&&(this.logger_.puts("debug",a),this.location_.path(a))};d.getHeaderTemplate=function(){return this.yisService_.getHeaderTemplate()};
d.openHelpDialog=function(){this.mdDialog_.show(this.HELP_DIALOG_CONFIG_)};d.isCurrentYearShowingTrendingSearches=function(){return this.yisService_.isCurrentYearShowingTrendingSearches()};d.closeHelpDialog=function(){this.mdDialog_.hide()};d.shouldHideFeedbackButton=function(){return this.yisService_.shouldHideFeedbackButton()};rw.$inject="$document $rootScope yisService storyService configService $location $route $scope $mdDialog globalsYisService feedbackService translationService".split(" ");var Z=angular.module("trendsApp",["ddmLocalization","ngMaterial","ngRoute","publishAppFramework","publishAppWidgets","ngAnimate",Xa.name]),sw={templateUrl:"/homepage/home-page.html",controller:"HomePageCtrl",controllerAs:"ctrl",reloadOnSearch:!1},tw={templateUrl:"/fullscreenpage/fullscreenpage.html",controller:"FullScreenPageCtrl",controllerAs:"ctrl"},uw={templateUrl:"/explorepage/explorepage.html",controller:"ExploreCtrl",reloadOnSearch:!1,controllerAs:"ctrl"};
window.enableAdvancedComparison&&(uw.templateUrl="/explorepage/explorepage-new.html",uw.controller="ExploreCtrlNew");
var vw={templateUrl:"/trendingfeedpage/trending-feed-page.html",controller:"TrendingFeedCtrl",controllerAs:"ctrl",reloadOnSearch:!1},ww={templateUrl:"/storypage/storypage.html",controller:"StoryCtrl",controllerAs:"ctrl"},xw={templateUrl:"/yis/yis.html",controller:"YisCtrl",controllerAs:"ctrl"},yw={templateUrl:"/subscriptionspage/subscriptions.html",controller:"SubscriptionsCtrl",controllerAs:"ctrl"},zw=function(a,b){a.html5Mode(!0);a.hashPrefix("!");b.when("/",sw);b.when("/explore",uw);b.when("/fullscreen",
tw);b.when("/fullscreen/:category/:geo",tw);b.when("/home/:category/:geo",sw);b.when("/story/:id?",ww);b.when("/subscriptions",yw);b.when("/trendingsearches/:tabName",vw);b.when("/yis/:year/:geo?/:id?",xw);b.otherwise({redirectTo:"/"})};t("$jscomp.scope.routeConfig",zw,void 0);zw.$inject=["$locationProvider","$routeProvider"];
var Aw=function(a){var b=function(c,e,f){var g=new c.DebugLogger(f);return{request:function(k){return c.requestInterceptor(k)},requestError:function(k){g.puts("error",["interceptor.requestError",k]);return e.reject(k)}}};b.$inject=["configService","$q","$rootScope"];a.useApplyAsync(!0);a.interceptors.push(b);["persistent","session"].includes(window.clientSideCacheStrategy)?b=!0:("disabled"==window.clientSideCacheStrategy||window.__karma__||console.error("app.js: Invalid value was set for clientSideCacheStrategy "+
window.clientSideCacheStrategy),b=!1);b&&a.interceptors.push("CacheInterceptor")};t("$jscomp.scope.interceptorConfig",Aw,void 0);Aw.$inject=["$httpProvider"];var Bw=function(a){a.decorator("$exceptionHandler",["$delegate","$log","$injector",function(b,c,e){return function(f,g){if(r.console){var k=e.get("$rootScope");f.message=k.currentState+": "+f.message;g&&c.error("Cause:",g);f&&c.error("Exception:",f)}else b(f,g)}}])};t("$jscomp.scope.exceptionHandler",Bw,void 0);Bw.$inject=["$provide"];
var Cw=function(a,b,c,e,f,g){a.$watch(function(){return c.disableScrollAround._count},function(l){e.dialogOpen=0<l});a.config=e;a.$on("$viewContentLoaded",function(){g.trackPageview(b.url())});var k=new e.DebugLogger(a);a.$on("$routeChangeStart",function(l){k.puts("debug",["Route start",arguments])});a.$on("$locationChangeStart",function(){0<angular.element(document).find("md-dialog").length&&f.cancel()})};t("$jscomp.scope.runCallback",Cw,void 0);Cw.$inject="$rootScope $location $mdUtil configService $mdDialog trackingService".split(" ");
Z.value("forceCachedTemplates",!0);Z.constant("locationHash",window.location.hash);Z.config(zw);Z.config(Aw);Z.config(["$provide",Bw]);Z.config(["$compileProvider",function(a){0===window.location.origin.indexOf("https://trends.google")&&a.debugInfoEnabled(!1)}]);Z.run(Cw);Z.controller("AutocompleteDialogCtrl",Ms);Z.controller("CustomDatePickerDialogCtrl",vs);Z.controller("EditorialsDirectiveCtrl",$v);Z.controller("EditorialItemDirectiveCtrl",Zv);Z.controller("EmbedDialogCtrl",cr);
Z.controller("ExamplesDirectiveCtrl",aw);Z.controller("ExploreCtrl",kv);Z.controller("ExploreCtrlNew",gv);Z.controller("FeedItemController",nr);Z.controller("FeedItemDialogController",kr);Z.controller("FilterDialogCtrl",sr);Z.controller("FilterDirectiveCtrl",tr);Z.controller("FooterCtrl",Fr);Z.controller("FullScreenPageCtrl",Wv);Z.controller("HomePageCtrl",cw);Z.controller("RecentlyTrendingDirectiveCtrl",ew);Z.controller("SearchDialogCtrl",Zs);
Z.controller("SearchTermAutocompleteMobileDialogCtrl",qv);Z.controller("SearchTermFilterCtrl",Nv);Z.controller("SearchTermFilterDialogCtrl",Ov);Z.controller("ShareModalCtrl",lt);Z.controller("SideNavBarCtrl",ns);Z.controller("StoryCtrl",jw);Z.controller("StoryVersionDialogCtrl",nw);Z.controller("SubscriptionsCtrl",ow);Z.controller("SubscriptionsDialogCtrl",Rt);Z.controller("TrendingFeedCtrl",qw);Z.controller("TrendingStoryController",Pt);Z.controller("UnsupportedDeviceCtrl",ss);
Z.controller("WelcomeMessageCtrl",fw);Z.controller("YisCardDirectiveController",gw);Z.controller("YisCtrl",rw);Z.controller("YisFilterDialogCtrl",vr);Z.controller("YisYearPickerDialogCtrl",xu);Z.directive("autocomplete",Xs);Z.directive("chipsList",function(){return{restrict:"E",scope:{list:"<",title:"@",selectedTab:"<"},templateUrl:"/components/feed/chips-list-directive/chips-list-directive.html"}});Z.directive("customDatePicker",Cs);
Z.directive("deleteSubscriptionDialog",function(){return{restrict:"E",scope:{closeDialog:"=",deleteSubscription:"="},templateUrl:"/components/subscriptions/delete-dialog/delete-dialog.html"}});Z.directive("editorials",function(){return{controller:$v,controllerAs:"ctrl",restrict:"E",scope:{geoId:"="},templateUrl:"/homepage/editorials/editorials.html"}});
Z.directive("editorialItem",function(){return{controller:Zv,controllerAs:"ctrl",restrict:"E",scope:{editorialTitle:"<",description:"<",widget:"<",url:"<",urlText:"<",urlIcon:"<",isMainItem:"<?"},templateUrl:"/homepage/editorials/editorial-item/editorial-item.html"}});Z.directive("embedCodePreview",ar);Z.directive("embedWidgetPreview",ir);Z.directive("error",Er);Z.directive("examples",function(){return{controller:aw,controllerAs:"ctrl",restrict:"E",scope:{},templateUrl:"/homepage/examples/examples.html"}});
Z.directive("exploreMobileHub",Ru);Z.directive("explorePills",ev);Z.directive("explorePillsNew",Yu);Z.directive("exploreSearchTerm",Mv);Z.directive("exploreSearchTermFilter",Pv);Z.directive("exploreSearchTermNew",Bv);Z.directive("featuredStory",Mt);Z.directive("feedItem",pr);Z.directive("feedItemCarousel",jr);
Z.directive("filter",function(){return{controller:tr,controllerAs:"ctrl",restrict:"E",scope:{geoOptions:"<?",hasCategory:"<?",hasGeo:"<?",iconClassMobile:"@?",iconNameMobile:"@?",onCategoryChange:"=?",onGeoChange:"=?"},templateUrl:"/components/filter/filter-directive.html"}});Z.directive("footer",function(){return{controller:Fr,controllerAs:"ctrl",restrict:"E",templateUrl:"/components/layout/footer-directive.html",scope:{}}});Z.directive("grid",Kr);Z.directive("header",Tr);
Z.directive("hierarchyPicker",Ks);Z.directive("loader",cs);Z.directive("multiLineEllipsis",ds);Z.directive("pullToRefresh",ks);Z.directive("recentlyTrending",function(){return{controller:ew,controllerAs:"ctrl",restrict:"E",scope:{geoId:"="},templateUrl:"/homepage/recently-trending/recently-trending.html"}});Z.directive("recentlyTrendingListItem",function(){return{restrict:"E",scope:{itemTitle:"<",description:"<",url:"<"},templateUrl:"/homepage/recently-trending/list-item/list-item.html"}});
Z.directive("scrollDetector",Ls);Z.directive("scrollTo",ls);Z.directive("search",et);Z.directive("share",kt);Z.directive("sideNavBar",function(){return{controller:ns,controllerAs:"ctrl",restrict:"E",scope:{},templateUrl:"/components/layout/side-nav-bar-directive.html"}});Z.directive("stickyLegendBar",Vv);Z.directive("switch",rs);
Z.directive("trendingStory",function(){return{controller:Pt,controllerAs:"ctrl",restrict:"E",scope:{id:"@",storyTitle:"@",storyTitleArray:"=",storyArticles:"=",imageUrl:"@",imageSource:"@",hideImage:"=",newsUrl:"@",showNewsSnippet:"=",sparklineSize:"=",isEmbedStories:"="},templateUrl:"/components/stories/trending-story-directive.html"}});Z.directive("trendsWidget",wu);Z.directive("veTracking",bu);Z.directive("videoOverlay",ku);Z.directive("yis",Eu);
Z.directive("yisCard",function(){return{controller:gw,controllerAs:"ctrl",restrict:"E",scope:{geoId:"="},templateUrl:"/homepage/yis-card/yis-card.html"}});Z.directive("yisCountryFilter",Br);Z.directive("yisYearPicker",function(){return{controller:yu,controllerAs:"ctrl",scope:{},restrict:"E",templateUrl:"/components/yis/yearpicker/yis-year-picker-directive.html"}});Z.factory("shareNetworkFactory",Et);
Z.filter("OrderBySelectedOptionFilter",function(){return function(a,b){var c=[];a.forEach(function(e){e.id===b||e===b?c.unshift(e):c.push(e)});return c}});Z.service("autocompleteService",Ys);Z.service("CacheInterceptor",hw);Z.service("clipboardService",Ka);Z.service("collectionsService",Tq);Z.service("configService",Uq);Z.service("exploreCompatibilityService",fv);Z.service("exploreService",nv);Z.service("feedbackService",rr);Z.service("feedService",qr);Z.service("headerService",Zr);
Z.service("homePageService",dw);Z.service("loggingService",ts);Z.service("oldFeCompatibilityUtil",La);Z.service("paletteService",us);Z.service("scrollToService",ms);Z.service("searchService",ft);Z.service("shareService",Ft);Z.service("storyService",Ot);Z.service("subscriptionsApiService",St);Z.service("subscriptionsService",Wt);Z.service("translationService",Yt);Z.service("trendingStorySparklineService",Qt);Z.service("yisService",Fu);
